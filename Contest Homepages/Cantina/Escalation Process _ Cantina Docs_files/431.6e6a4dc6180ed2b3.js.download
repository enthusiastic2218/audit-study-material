try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9da88a1a-a56e-460c-8fe8-7f7e5541e645",e._sentryDebugIdIdentifier="sentry-dbid-9da88a1a-a56e-460c-8fe8-7f7e5541e645")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431,2812],{56300:(e,t,n)=>{n.d(t,{B:()=>o});function o(e){var t,n,o,l;let r=(null==(n=e.menu)||null==(t=n.entries)?void 0:t.filter(t=>e.steps.some(e=>e.id===t.targetId)))||[],i=(null==(l=e.menu)||null==(o=l.entries)?void 0:o.some(t=>!e.steps.some(e=>e.id===t.targetId)))||!1;return{viewerMenuEnabled:r.length>0,hasInvalidEntries:i,validEntries:r}}},90431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var o=n(6029),l=n(80411),r=n(52996),i=n(8420),a=n(3392),s=n(82412),u=n(18363),d=n(82203),c=n.n(d),p=n(55729),f=n(74346),b=n(42063),m=n(72614),g=n(15631),y=n(56300),h=n(2631),x=n(12271),v=n(77191);function w(e){var t,n,d;let{flow:w,inEditMode:k=!1,navToStep:_}=e,M=(0,h.A)(),[C,I]=(0,p.useState)(!1),[E,N]=(0,p.useState)(new Set),L=(0,p.useRef)(null),S=(0,b._8)(),z=(0,m.lM)(),T=(0,m.JE)(),{viewerMenuEnabled:O,validEntries:D}=(0,y.B)(w),{customValues:P}=(0,p.useContext)(g.c);return((0,p.useEffect)(()=>{if(!k)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)};function e(e){L.current&&!L.current.contains(e.target)&&I(!1)}},[k]),(0,p.useEffect)(()=>{if(L.current&&!k){let e=new Set;L.current.querySelectorAll("button span").forEach(t=>{t instanceof HTMLElement&&t.scrollWidth>184&&e.add(t.textContent||"")}),N(e)}},[null==(t=w.menu)?void 0:t.entries,k]),(0,p.useEffect)(()=>{k&&I("menu"===z.type)},[k,z.type]),O)?(0,o.jsxs)("div",{className:"flex flex-col gap-2 absolute bottom-4 left-4 select-none",ref:L,style:{zIndex:(0,x.Mh)(x.Py.MobileMenu)},children:[(0,o.jsx)(i.N,{children:C&&(0,o.jsx)(a.F,{features:s.l,children:(0,o.jsxs)(u.m.div,{variants:{closed:{opacity:0,y:4,scale:.5,filter:"blur(4px)",transition:{type:"spring",stiffness:696,damping:36,opacity:{duration:.18},filter:{duration:.2}}},open:{opacity:1,y:0,scale:1,filter:"blur(0px)",transition:{type:"spring",stiffness:449,damping:27,opacity:{duration:.2},filter:{duration:.2}}}},initial:"closed",animate:"open",exit:"closed",className:(0,l.cn)("viewer-menu origin-bottom-left absolute left-0 bottom-10 flex flex-col shadow-menu bg-white rounded-xl w-52 overflow-hidden"),style:{zIndex:(0,x.Mh)(x.Py.MobileMenu)},children:[(null==(n=w.menu)?void 0:n.title)&&(0,o.jsx)("h2",{className:"text-base px-3 py-3 font-semibold text-gray-900 shadow-[0_4px_8px_#fff] z-1 border-b border-gray-200",children:w.menu.title}),(0,o.jsx)("div",{className:"flex flex-col gap-1 p-1 overflow-y-auto h-auto max-h-[224px] z-0",children:D.map((e,t)=>{let n=w.steps.find(t=>t.id===e.targetId);if(!n)return null;let i=(null==S?void 0:S.id)===n.id;return(0,o.jsx)(v.A,{text:e.label,disabled:!E.has(e.label),placement:"right",maxWidth:240,children:(0,o.jsx)(f.$n,{buttonType:f.EY.ghost,buttonSize:f.lO.md,role:"menuitem",className:(0,l.cn)("w-full items-center text-left !border-0 !justify-start [&_div]:justify-start px-2 font-normal transition-all hover:bg-gray-50 active:bg-gray-50 shrink-0 [&_span]:truncate [&_span]:w-full whitespace-nowrap",{"bg-gray-100 hover:bg-gray-100":i&&!k}),onClick:t=>{k||(t.stopPropagation(),_(n),I(!1),M.report("Viewer Menu Item Clicked",{fromStepId:null==S?void 0:S.id,toStepId:e.targetId,buttonType:"item"}))},children:(0,o.jsx)(r.default,{markdown:(0,l.withCustomVariables)(e.label,w.customVariables,P)})},t)},t)})}),(null==(d=w.menu)?void 0:d.button)&&(0,o.jsx)("div",{className:"p-2 shadow-[0px_-1px_0px_rgba(17,24,39,0.12)] z-1",children:k?(0,o.jsx)(f.$n,{buttonType:f.EY.neutral,buttonSize:f.lO.md,className:"shrink-0 w-full transition-all !border-gray-900/[.12] hover:opacity-90 [&_span]:truncate block",style:{backgroundColor:w.menu.button.bgColor,color:w.menu.button.textColor},children:w.menu.button.label}):(0,o.jsx)(f.$n,{as:c(),href:w.menu.button.url,target:"_blank",buttonType:f.EY.neutral,buttonSize:f.lO.md,className:"shrink-0 w-full transition-all !border-gray-900/[.12] hover:opacity-90 [&_span]:truncate block",style:{backgroundColor:w.menu.button.bgColor,color:w.menu.button.textColor},onClick:e=>{var t,n;e.stopPropagation(),I(!1),M.report("Viewer Menu Item Clicked",{fromStepId:null==S?void 0:S.id,url:null==(n=w.menu)||null==(t=n.button)?void 0:t.url,buttonType:"cta"})},children:w.menu.button.label})})]})})}),(0,o.jsx)(j,{toggle:e=>{(e.preventDefault(),e.stopPropagation(),I(!C),k)?"menu"!==z.type&&T({type:"menu",isOpen:!0}):C||M.report("Viewer Menu Opened",{flowId:w.id})},isOpen:C})]}):null}let k=e=>(0,o.jsx)(u.m.path,{vectorEffect:"non-scaling-stroke",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),j=e=>{let{toggle:t,isOpen:n}=e;return(0,o.jsx)(a.F,{features:s.l,children:(0,o.jsx)(u.m.button,{onClick:t,animate:n?"open":"closed",role:"menu",initial:"closed","aria-orientation":"vertical",className:(0,l.cn)("w-8 h-8 p-0 rounded-lg bg-white/95 shadow-menu transition-all hover:bg-white/85 backdrop-blur-md shrink-0 flex items-center justify-center text-gray-900 cursor-pointer",{"bg-white/80":n}),children:(0,o.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"w-5 h-5",children:[(0,o.jsx)(k,{variants:{closed:{d:"M 4 7 L 20 7",opacity:1},open:{d:"M 6 18 L 18 6",opacity:1}},transition:{type:"spring",stiffness:449,damping:28}}),(0,o.jsx)(k,{variants:{closed:{d:"M 4 12 L 20 12",opacity:1},open:{d:"M 4 12 L 20 12",opacity:0}},transition:{duration:.1}}),(0,o.jsx)(k,{variants:{closed:{d:"M 4 17 L 20 17",opacity:1},open:{d:"M 6 6 L 18 18",opacity:1}},transition:{type:"spring",stiffness:449,damping:28}})]})})})}}}]);