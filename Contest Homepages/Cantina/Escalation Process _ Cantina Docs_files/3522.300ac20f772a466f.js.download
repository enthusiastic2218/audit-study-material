try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="06d3da7f-d3f0-4215-b978-4ec0e4d3adee",e._sentryDebugIdIdentifier="sentry-dbid-06d3da7f-d3f0-4215-b978-4ec0e4d3adee")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3522,4705],{11396:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ViewerControls:()=>W});var r=n(6029),a=n(27104),s=n.n(a),o=n(80411),i=n(86747),l=n(52996),d=n(66806),c=n(39485),u=n(67549),p=n(61364),m=n(21736),h=n(97821),g=n(18412),f=n(59330),v=n(82856),y=n(51066),x=n(18015),b=n(83629),w=n(55729),k=n(10471),j=n(42063),N=n(36424),S=n(6625),C=n(15631),P=n(82092),E=n(37073),I=n(35090),O=n(31937),A=n(70370),M=n(96233),_=n(34115),L=n(2631),V=n(82834),R=n(12271),D=n(8393),T=n(36779),B=n(55409),U=n(64601),F=n(26589);function z(e){let{show:t,className:n,onClick:a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("fixed w-full h-full flex items-center justify-center bg-gray-900/50 group-hover/wrapper:bg-gray-900/20 group duration-300 transition-all ease-jelly top-0 left-0",{"opacity-0 !transition-none":!t,"opacity-100":t,"pointer-events-none":!a,"cursor-pointer":a},n),style:{zIndex:(0,R.Mh)(R.Py.PlayButton)},"aria-label":"Play video",role:"button","aria-hidden":!t,onClick:a,children:(0,r.jsx)("div",{className:(0,o.cn)("rounded-full bg-white p-6 sm:p-10 shadow-menu z-10 transition-all ease-jelly duration-300 group-hover:scale-125 text-gray-700 hover:bg-white/10 hover:text-white backdrop-blur-lg"),"aria-hidden":!0,children:(0,r.jsx)(v.A,{className:(0,o.cn)("w-10 h-10 sm:w-14 sm:h-14 translate-x-0.5")})})})}function W(e){let{hasSteps:t,hasControls:n,autoplayStatus:a,soundSetting:l,showFullscreenPlay:c=!1,isCaptionOn:C,unifiedState:{status:D,timeAtom:F,duration:W,ended:J,playbackRate:Y},unifiedControls:{pause:K,play:X,seek:Q,updatePlaybackRate:Z},updateSound:G,toggleCaptions:ee,...et}=e,en=(0,k.qM)(),er=(0,L.A)(),ea=(0,j._8)(),es=(0,j.gp)(),eo=(0,u.md)(M.F.viewerDemoMode),ei=(0,u.md)(M.F.stageDimensions).layout,el=(0,w.useRef)(null),[ed,ec]=(0,w.useState)(!1),eu=(0,u.md)(F),ep=W>0?eu/W:0,em=(0,u.Xr)(M.F.hideHotspots),eh=(0,N.I7)(),eg=(0,S.T)(),ef=l===A.C.On||l===A.C.Unset&&a===N.mJ.Off,ev=!!en.backgroundMusicUrl,ey=(0,o.isNonEmptyStep)(ea)&&!!ea.syntheticVoice,ex=(0,w.useCallback)((e,t)=>{(null==ea?void 0:ea.type)&&(null==ea?void 0:ea.type)!==i.StepType.Empty&&er.report(e,{stepId:ea.id,stepType:ea.type,isMobile:(0,P.YO)(),hasSyntheticVoice:ey,hasBackgroundMusic:ev,mechanism:t})},[null==ea?void 0:ea.id,null==ea?void 0:ea.type,ey,ev,er]);function eb(e){e.stopPropagation();let t=D!==O._s.Paused;function n(e,t){if(!el.current)return;e.stopPropagation();let n=(0,E.oX)(el.current,e);null!==n&&(Q({to:W*n}),t&&ex("Step Scrubbed","controls"))}function r(e){n(e,!1)}function a(e){e.type.startsWith("mouse")?(window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",a),document.body.removeEventListener("mouseleave",a)):(window.removeEventListener("touchmove",r),window.removeEventListener("touchend",a),window.removeEventListener("touchcancel",a)),t&&(ec(!1),"mouseleave"!==e.type&&X())}t&&K(),ec(t),n(e,!0),e.type.startsWith("mouse")?(window.addEventListener("mousemove",r),window.addEventListener("mouseup",a),document.body.addEventListener("mouseleave",a)):(window.addEventListener("touchmove",r),window.addEventListener("touchend",a),window.addEventListener("touchcancel",a))}function ew(e){e.stopPropagation(),eh(),D===O._s.Paused?(J&&Q({to:0}),X(),G(e=>e===A.C.Unset?A.C.On:e,!1),ex("Step Played","controls")):(K(),ex("Step Paused","controls"))}(0,d.v)(e=>"Space"===e.code,e=>{(0,P.jd)(e.target)||(e.stopImmediatePropagation(),D===O._s.Paused?(X(),ex("Step Played","keyboard")):(K(),ex("Step Paused","keyboard")))},[D,X,K]);let ek=(0,P.MN)(en.steps),ej=ek.find(e=>e>Y),eN=[...ek].reverse().find(e=>e<Y),eS=(0,P.YO)(),eC="fit"===en.mobileLayout&&ei===i.ViewerLayout.Default,eP=(0,w.useMemo)(()=>(0,I.o$)(en.steps,!0,eg).filter(e=>!(0,_.N)(en.schemaVersion,e)||e.id===(null==ea?void 0:ea.id)),[en.schemaVersion,en.steps,null==ea?void 0:ea.id,eg]),{displaySteps:eE,activeOrBeforeIndex:eI,nextPageStep:eO,prevPageStep:eA}=(0,w.useMemo)(()=>t?function(e,t,n,r){let a=e.length-1,s=e.findIndex(e=>t.findIndex(t=>t.id===e.id)>n),o=-1===s?a:s-1;if(e.length<=r)return{displaySteps:e,activeOrBeforeIndex:o,nextPageStep:null,prevPageStep:null};let i=[0,r-1];for(;i[1]<a&&!(o<=i[1]);){let e=i[1]+1,t=e+r-1;i=t>a?[a-(r-1),a]:[e,t]}return{displaySteps:e.slice(i[0],i[1]+1),activeOrBeforeIndex:o-i[0],prevPageStep:i[0]>0?e[i[0]-1]:null,nextPageStep:i[1]<a?e[i[1]+1]:null}}(eP,en.steps,es,ei===i.ViewerLayout.MobileExpanded?5:10):{displaySteps:void 0,activeOrBeforeIndex:void 0,nextPageStep:void 0,prevPageStep:void 0},[t,eP,en.steps,es,ei]);if((0,w.useEffect)(()=>{var e;c&&(0,o.isVideoStep)(ea)&&(null==(e=ea.hotspots)?void 0:e.length)?em(!0):em(!1)},[em,c]),!t&&!n)return null;let eM=eE?(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center gap-2 grow",{"mx-1":ei===i.ViewerLayout.MobileExpanded}),children:[eA?(0,r.jsx)($,{step:eA,useTouch:eS,upcoming:!1,...et}):null,eE.map((e,t)=>(0,r.jsx)(q,{stepCount:eP.length,playheadRef:el,onSeekBegin:eb,percentComplete:ep,hasControls:ei!==i.ViewerLayout.MobileExpanded&&n,step:e,useTouch:eS,upcoming:t>eI,...et},e.id)),eO?(0,r.jsx)($,{step:eO,useTouch:eS,upcoming:!0,...et}):null]}):null;return ei===i.ViewerLayout.MobileExpanded?(0,r.jsxs)("div",{className:(0,o.cn)("flex w-full gap-2 h-11 items-center justify-between px-2 py-1.5 bg-white"),children:[n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:(0,o.cn)("text-gray-600 w-7 h-7 border-transparent bg-transparent transition-all hover:bg-gray-100 rounded-lg flex items-center justify-center shrink-0"),onKeyDown:e=>{"Space"===e.code&&e.stopPropagation()},onClick:ew,"aria-label":D===O._s.Paused?"Play media":"Pause media","aria-hidden":!(0,o.isVideoStep)(ea),role:"switch","aria-checked":D===O._s.Playing,children:D!==O._s.Paused||ed?D===O._s.Buffering?(0,r.jsx)(U.A,{className:"shrink-0 w-7 p-1",size:16,type:B.M.Oval,color:s().gray[600],secondaryColor:s().gray[600],"aria-hidden":!0}):(0,r.jsx)(f.A,{className:"shrink-0 w-7 p-1","aria-hidden":!0}):(0,r.jsx)(v.A,{className:"shrink-0 w-7 p-1","aria-hidden":!0})}),(0,r.jsxs)("div",{ref:el,className:(0,o.cn)("grow relative h-6 py-2"),onClick:e=>e.stopPropagation(),onMouseDown:eS?void 0:eb,onTouchStart:eS?eb:void 0,children:[(0,r.jsx)("div",{className:"absolute left-0 h-2.5 w-full bg-gray-600 rounded-full",style:{top:"0.5rem"}}),(0,r.jsx)("div",{className:"absolute h-1.5 w-1.5 shadow-[0px_0px_0px_1px_rgba(17,24,39,0.12)] bg-white rounded-full",style:{left:"calc(".concat(100*ep,"% - 0.25rem)"),top:"0.625rem"}})]})]}):null,n?null:eM,(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,V.$S)(en)?ef?(0,r.jsx)("button",{className:"text-gray-600 w-7 h-7 p-1 border-transparent bg-transparent transition-all hover:bg-gray-100 rounded-lg",onClick:()=>G(A.C.Off,!0),children:(0,r.jsx)(b.A,{})}):(0,r.jsx)("button",{className:"text-gray-600 w-7 h-7 p-1 border-transparent bg-transparent transition-all hover:bg-gray-100 rounded-lg",onClick:()=>G(A.C.On,!0),children:(0,r.jsx)(x.A,{})}):null,(0,r.jsx)(T.default,{tippyClassName:"shadow-menu border-none origin-bottom-right",placement:"top-end",offset:[0,6],render:()=>(0,r.jsxs)("div",{className:"p-1 flex flex-col gap-0.5",children:[(0,V.NG)(en)&&en.showCaptions?(0,r.jsxs)("button",{className:"flex-row justify-between text-gray-900 bg-white transition-all hover:bg-gray-50 rounded-md bg-transparent flex items-center gap-4 p-2",onClick:ee,children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[C?(0,r.jsx)(m.A,{className:"w-4 h-4 shrink-0"}):(0,r.jsx)(p.A,{className:"w-4 h-4 shrink-0"}),(0,r.jsx)("span",{className:"text-gray-900 font-semibold text-xs",children:"Captions"})]}),(0,r.jsx)("div",{className:"text-gray-600 font-medium text-xs",children:C?"On":"Off"})]}):null,eN?(0,r.jsxs)("button",{className:"flex-row justify-between text-gray-900 bg-white transition-all hover:bg-gray-50 rounded-md bg-transparent flex items-center gap-4 p-2",onClick:()=>{Z(eN),ex("Playback Speed Updated","controls")},children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 shrink-0"}),(0,r.jsx)("span",{className:"text-gray-900 font-semibold text-xs",children:"Slow down"})]}),(0,r.jsxs)("div",{className:"text-gray-600 font-medium text-xs",children:[eN,"✗"]})]}):null,ej?(0,r.jsxs)("button",{className:"flex-row justify-between text-gray-900 bg-white transition-all hover:bg-gray-50 rounded-md bg-transparent flex items-center gap-4 p-2",onClick:()=>{Z(ej),ex("Playback Speed Updated","controls")},children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 shrink-0"}),(0,r.jsx)("span",{className:"text-gray-900 font-semibold text-xs",children:"Speed up"})]}),(0,r.jsxs)("div",{className:"text-gray-600 font-medium text-xs",children:[ej,"✗"]})]}):null]}),wrapperClassName:"h-6 flex flex-row items-center",children:e=>{let{toggle:t}=e;return(0,r.jsx)("button",{className:"text-gray-600 w-7 h-7 p-1 border-transparent bg-transparent transition-all hover:bg-gray-100 rounded-lg",onClick:t,children:(0,r.jsx)(h.A,{})})}})]})]}):(0,r.jsxs)("div",{className:(0,o.cn)("flex w-full gap-2 md:gap-4 relative items-center justify-between cursor-pointer"),style:{zIndex:(0,R.Mh)(R.Py.VideoControls)},children:[n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{show:c,onClick:eo&&c?()=>X():void 0}),(0,r.jsx)("button",{className:(0,o.cn)("text-white w-8 h-8 border-transparent bg-transparent transition-all ease-jelly flex items-center justify-center shrink-0 hover:backdrop-blur-sm hover:bg-white/20 rounded-lg cursor-pointer"),onKeyDown:e=>{"Space"===e.code&&e.stopPropagation()},onClick:ew,"aria-label":D===O._s.Paused?"Play media":"Pause media","aria-hidden":!(0,o.isVideoStep)(ea),role:"switch","aria-checked":D===O._s.Playing,children:D!==O._s.Paused||ed?D===O._s.Buffering?(0,r.jsx)(U.A,{className:"shrink-0 w-8 p-1",size:20,type:B.M.Oval,color:"white",secondaryColor:"white","aria-hidden":!0}):(0,r.jsx)(f.A,{className:"shrink-0 w-8 p-1","aria-hidden":!0}):(0,r.jsx)(v.A,{className:"shrink-0 w-8 p-1","aria-hidden":!0})}),(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center font-sans font-semibold text-xs text-white/70 gap-1 ml-0 mr-1 md:-ml-1 md:mr-0 shrink-0 numbers",{hidden:eC}),children:[(0,r.jsx)("span",{className:"text-white",children:(0,P.fU)(eu)}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{children:(0,P.fU)(W)})]}),t?null:(0,r.jsxs)("div",{ref:el,className:(0,o.cn)("grow relative h-7 py-2 cursor-pointer"),onClick:e=>e.stopPropagation(),onMouseDown:eS?void 0:eb,onTouchStart:eS?eb:void 0,children:[(0,r.jsx)("div",{className:"absolute left-0 top-2 h-3 w-full bg-white/30 rounded-full"}),(0,r.jsx)("div",{className:"absolute top-2 h-3 w-3 shadow-[0px_0px_0px_1px_rgba(17,24,39,0.12)] bg-white rounded-full",style:{left:"calc(".concat(100*ep,"% - 0.375rem)")}})]})]}):null,eM,n&&ek.length>1?(0,r.jsx)(T.default,{tippyClassName:"p-3 -mr-3 shadow-none bg-transparent",appendTo:()=>document.body,placement:"top-end",offset:[0,0],render:e=>{let{close:t}=e;return(0,r.jsx)("div",{className:"backdrop-blur-sm bg-gray-900/60 rounded-[10px]",children:(0,r.jsx)(H,{options:ek,selected:Y,onSelect:e=>{Z(e),ex("Playback Speed Updated","controls")},close:t})})},children:e=>{let{toggle:t,isOpen:n}=e;return(0,r.jsxs)("button",{className:(0,o.cn)("text-sm font-semibold text-nowrap self-stretch h-8 min-w-[32px] px-1.5 border-transparent bg-transparent flex transition-all ease-jelly items-center justify-center shrink-0 hover:backdrop-blur-sm hover:bg-white/20 rounded-lg font-sans cursor-pointer",{"bg-white/20 text-white backdrop-blur-sm":n,"text-white":!n}),onClick:e=>{e.stopPropagation(),t()},children:[Y,(0,r.jsx)("span",{className:"flex",children:"✗"})]})}}):null]})}function q(e){var t;let{step:n,stepCount:a,hasControls:d,upcoming:p,indicatorColor:m,useTouch:h,percentComplete:g,playheadRef:f,onSeekBegin:v,navToStep:y,onPreloadStep:x,enterNavigationElement:b,leaveNavigationElement:N}=e,S=(0,k.qM)(),E=(0,j._8)(),{customValues:I}=(0,w.useContext)(C.c),O=(0,u.md)(M.F.stageDimensions).layout===i.ViewerLayout.MobileExpanded,A=(null==E?void 0:E.id)===n.id,_=(0,o.isOverlayStep)(n),L=(0,o.isOverlayStepWithPaths)(n)?null==(t=n.paths[0])?void 0:t.buttonColor:(0,o.isOverlayStepWithoutPaths)(n)?n.buttonColor:void 0,V=p?O?s().gray[300]:_?s().gray[600]:s().white:O?s().gray[600]:_?null!=L?L:s().gray[600]:1===a&&(0,o.isVideoStep)(n)?"rgba(255, 255, 255, 0.3)":m,D=(0,P.hB)(V);return(0,r.jsx)(c.Ay,{disabled:O,placement:"top",arrow:!1,zIndex:(0,R.Mh)(R.Py.FlowNavIndicator),content:d&&A?null:_&&n.title?(0,r.jsx)("div",{className:"text-sm lg:text-base xl:text-lg font-semibold px-3 py-1 text-shadow max-w-[360px] truncate font-sans",children:(0,r.jsx)(l.default,{markdown:(0,o.withCustomVariables)(n.title,S.customVariables,I)})}):(0,r.jsx)("div",{className:"flex shadow-menu rounded-lg mb-2.5 mx-3",children:(0,r.jsx)(F.Ay,{step:n,isInFlowNav:!0,isPlayable:!1,className:(0,o.cn)("w-48 cursor-pointer")})}),offset:[0,-6],appendTo:"parent",className:"!bg-transparent !p-0 [&>.tippy-content]:!p-0",animation:"shift-away",inertia:!0,children:(0,r.jsx)("div",{className:(0,o.cn)("flex items-center cursor-pointer",{"h-9 group/scoped":!O}),style:{flexBasis:A&&d?"".concat(100*a,"%"):"100%"},onClick:e=>{e.stopPropagation(),A||y(n)},onMouseEnter:()=>{h||A||(x(n),b(n.id))},onMouseLeave:()=>{h||A||N(n.id)},children:(0,r.jsx)("div",{onMouseDown:d&&A&&!h?v:void 0,onTouchStart:d&&A&&h?v:void 0,className:(0,o.cn)("w-full rounded-full transition-all duration-200 ease-jelly relative cursor-pointer",{"opacity-100":!p,"opacity-60":p&&!_,"opacity-70":p&&_},O?"h-2":{"h-1 group-hover/scoped:h-3":!A,"h-3":A}),style:{backgroundColor:V},children:d&&A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute opacity-0 top-0 left-0 w-full user-select-none pointer-events-none",ref:f}),(0,r.jsx)("div",{className:"absolute top-0 h-3 w-3 shadow-[0px_0px_0px_1px_rgba(17,24,39,0.12)] rounded-full",style:{left:"calc(".concat(100*g,"% - 0.375rem)"),backgroundColor:1===a&&(0,o.isVideoStep)(n)?s().white:D}})]}):null})})})}function $(e){let{step:t,useTouch:n,upcoming:a,navToStep:s,onPreloadStep:l,enterNavigationElement:d,leaveNavigationElement:c}=e,p=(0,u.md)(M.F.stageDimensions).layout===i.ViewerLayout.MobileExpanded;return(0,r.jsx)("div",{className:(0,o.cn)("flex items-center cursor-pointer",p?"cursor-pointer":{"h-9 group/scoped":!0}),onClick:e=>{e.stopPropagation(),s(t)},onMouseEnter:()=>{n||(l(t),d(t.id))},onMouseLeave:()=>{n||c(t.id)},children:(0,r.jsx)("div",{className:(0,o.cn)("h-1 w-full flex items-center justify-between gap-1 transition-all duration-200 ease-jelly opacity-60 group-hover/scoped:opacity-100 relative"),children:[1,2,3].map(e=>(0,r.jsx)("div",{className:(0,o.cn)("rounded-full flex-1",{"bg-white h-1 w-1":!p,"w-1.5 h-1.5":p,"bg-gray-300":p&&a,"bg-gray-600":p&&!a})},"dot-".concat(e)))})})}function H(e){let{options:t,selected:n,onSelect:a,close:s}=e,i=(0,u.md)(M.F.showFlowNavIndicator);return(0,w.useEffect)(()=>{i||s()},[i,s]),(0,r.jsx)("div",{className:(0,o.cn)("flex flex-row sm:flex-col gap-1 p-1 font-sans pointer-events-auto cursor-pointer"),children:t.map(e=>(0,r.jsx)("button",{onClick:()=>{e!==n&&a(e),s()},className:(0,o.cn)("p-2 sm:pr-5 rounded-lg text-left font-semibold text-sm transition-all ease-jelly cursor-pointer",{"bg-white shadow-menu":e===n,"bg-transparent hover:bg-white/20 text-white":e!==n}),children:e===D.P3?"Normal":"".concat(e,"✗")},"playback-rate-".concat(e)))})}},13217:(e,t,n)=>{var r=n(7855);e.exports=function(e,t,n){var a=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===a?r(e,t,void 0,n):!!a}},18412:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r,a=n(55729);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let o=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16",vectorEffect:"non-scaling-stroke"})))}},25475:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>o,I$:()=>r,qw:()=>a,wg:()=>s});var r=function(e){return e[e.none=1]="none",e[e.browserLight=2]="browserLight",e[e.browserDark=3]="browserDark",e[e.mobileDark=4]="mobileDark",e}({}),a=function(e){return e[e.default=1]="default",e[e.arcade=2]="arcade",e[e.mobile=3]="mobile",e}({}),s=function(e){return e.On="ON",e.Auto="AUTO",e.Off="OFF",e}({}),o=function(e){return e.Inline="inline",e.PopoutTab="tab",e.PopoutModal="modal",e}({})},65342:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,Rz:()=>d});var r=n(6029),a=n(55729),s=n(82092);let o=(0,a.createContext)({}),i=o;function l(e){let{children:t}=e,n=(0,a.useRef)(new s.Ji).current;return(0,r.jsx)(o.Provider,{value:n,children:t})}let d=e=>t=>(0,r.jsx)(l,{children:(0,r.jsx)(e,{...t})})},66806:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(55729),a=n(58617),s=n(56899),o=n(84285),i=function(e,t,n){if(n||2==arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},l=n(92148).Bd?window:null;function d(e,t,n,d){void 0===d&&(d={});var c=d.event,u=d.target,p=d.eventOptions,m=(0,a.J)(t);!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var l=(0,s.a)(),d=(0,a.J)(t[1]),c=(0,r.useMemo)(function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l()&&("function"==typeof d.current?d.current.apply(this,e):"function"==typeof d.current.handleEvent&&d.current.handleEvent.apply(this,e))}},[]);(0,r.useEffect)(function(){var n=e&&(0,o.mQ)(e,"current")?e.current:e;if(n){var r=t.slice(2);return n.addEventListener.apply(n,i([t[0],c],r,!1)),function(){return n.removeEventListener.apply(n,i([t[0],c],r,!1))}}},[e,t[0]])}(void 0===u?l:u,void 0===c?"keydown":c,(0,r.useMemo)(function(){var t="function"==typeof e?e:"string"==typeof e?function(t){return t.key===e}:e?o.ud:o.HD;return function(e){t(e)&&m.current.call(this,e)}},n),p)}},78602:(e,t,n)=>{"use strict";n.d(t,{s:()=>j});var r=n(6029),a=n(80411),s=n(58390);n(31078).z.enum(["extension-record-demo","extension-record-video","desktop","desktop-video-recording","desktop-camera-recording","editor-upload","camera-recording","figma"]);var o=n(25475);o.I$.none,o.qw.default,o.wg.Auto;let i=e=>{var t;let n={};return n.mobileBackground=null!=(t=null==e?void 0:e.bgImage)?t:null,n.flowWrapper=o.I$.mobileDark,n.mobileLayout="wide",n.bgImage=null,n.customCursor=o.qw.mobile,n};var l=n(86747),d=n(4765),c=n(67549),u=n(55729),p=n(58578),m=n(13448),h=n(46518),g=n(74346),f=n(82148),v=n(65342),y=n(87653),x=n(96233),b=n(2631),w=n(10471),k=n(42063);function j(){let e=(0,b.A)(),t=(0,m.A)(),n=(0,w.qM)(),o=(0,k._8)(),j=(0,k.lS)(),N=(0,c.Xr)(x.F.multipleStepSelection),S=(0,u.useContext)(v.Ay),C=(0,u.useRef)(o);C.current=o;let P=(0,u.useRef)(null),E=(0,u.useCallback)(()=>{P.current&&p.Ay.dismiss(P.current),P.current=null},[]),I=(0,u.useRef)(!1),O=(0,u.useCallback)(async()=>{if(!I.current&&S.hasPrevious())try{let r=S.getCurrent(),a=S.getPrevious();if(!a)return;E(),I.current=!0,j((null==r?void 0:r.beforeStepId)||null),await n.update(a.state,t.user.id),e.report("Undo-Redo Triggered",{shortcut:!0,destination:"undo"}),I.current=!1,N([]),p.Ay.success("Undo Successful")}catch(e){(0,d.Cp)(e)}},[t.user.id,n,E,S,j,N,e]),A=(0,u.useCallback)(async()=>{if(!I.current&&S.hasNext()){try{let r=S.getNext();if(!r)return;I.current=!0,j(r.afterStepId||null),await n.update(r.state,t.user.id),e.report("Undo-Redo Triggered",{shortcut:!0,destination:"redo"})}catch(e){(0,d.Cp)(e)}I.current=!1}},[t.user.id,n,S,j,e]),M=(0,u.useCallback)(async(e,r)=>{var a,s;let o=null==(a=C.current)?void 0:a.id;S.getCurrent()||S.add({state:(0,y.bl)(n),beforeStepId:o,afterStepId:o}),await n.update(e,t.user.id);let i={state:(0,y.bl)(e),beforeStepId:o,afterStepId:r||(null==(s=C.current)?void 0:s.id)};S.add(i)},[t.user.id,n,S]),_=(0,u.useCallback)(e=>{var t;let{beforeFlow:n,afterFlow:r,beforeStepId:a,afterStepId:s}=e;S.getCurrent()||S.add({state:(0,y.bl)(n),beforeStepId:a,afterStepId:a});let o={state:(0,y.bl)(r),beforeStepId:a,afterStepId:s||(null==(t=C.current)?void 0:t.id)};S.add(o)},[S]),L=(0,u.useCallback)(async e=>{let t=Array.isArray(e)?e[0]:e;if(!n||!t)return[];let r=(n.steps.length?n.steps.map(t=>t.id===(null==o?void 0:o.id)?e:t):[e]).flat();await M({steps:r},t.id),j(t.id)},[null==o?void 0:o.id,n,j,M]),V=(0,u.useCallback)(async function(e){var r,l;let d,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!n)return[];let m=n.steps.map(t=>e.find(e=>e.id===t.id)||t),g=e.filter(e=>!n.steps.find(t=>t.id===e.id)),f=c?n.steps.findIndex(e=>e.id===(null==o?void 0:o.id))+1:p>=0?p:n.steps.length,v=[...m.slice(0,f),...g.map(e=>(0,a.isMediaStep)(e)&&e.hotspots?{...e,hotspots:u?e.hotspots:[]}:e),...m.slice(f,n.steps.length)].filter(Boolean),y=(null==o?void 0:o.id)||null==(r=v[0])?void 0:r.id;if(!v.some(e=>(0,a.hasFlowAspectRatio)(n.aspectRatio,e))){let e=v.find(e=>(0,a.isMediaStep)(e)&&e.size);e&&(d=(0,a.getAspectRatio)(e))}let x={};return d&&(0,s.q)(d)&&((x=i(null==(l=t.team)?void 0:l.prefs)).mobileBackground||!t.team.id||n.mobileBackground||(x.mobileBackground={...h[0],teamId:t.team.id})),await M({steps:v,...d?{aspectRatio:d}:{},...x},y),y&&j(y),v},[null==o?void 0:o.id,n,j,M,t.team]),R=(0,u.useRef)(n);R.current=n;let D=(0,u.useCallback)(async e=>{Object.keys(e).forEach(t=>{void 0===e[t]&&delete e[t]});let t=R.current.steps.map(t=>t.id===e.id?e:t);await M({steps:t})},[M]),T=(0,u.useCallback)(e=>{E(),(0,p.Ay)(t=>(P.current=t.id,(0,r.jsxs)("span",{children:[e,(0,r.jsxs)(g.$n,{buttonType:g.EY.secondary,buttonSize:g.lO.sm,className:"ml-3 -mr-2 rounded-md border-none bg-white/[.16] hover:bg-white/[.24] active:bg-white/[.16] text-white pl-2 pr-1 group",onClick:()=>{p.Ay.dismiss(t.id),O()},children:["Undo",(0,r.jsx)("span",{className:"ml-1.5 rounded-md bg-gray-900/[.32] flex p-1 font-medium",children:f._y.undo.keys.join("")})]})]})),{className:"!rounded-lg !text-sm !font-medium !bg-gray-800 !text-white !px-1 !h-11 !shadow-[0px_4px_10px_rgba(17,_24,_39,_0.08)]"})},[E,O]),B=(0,u.useCallback)(async e=>{var t,r;if(!n)return;let s=n.steps,i=-1;e.forEach((e,t)=>{let n=s.findIndex(t=>t.id===e.id);if(0===t&&(i=n),-1===n)return;let r=n===(s.length||0)-1?0:n+1,o=s[r];function l(t){var n;return null!=(n=e.id===t?null==o?void 0:o.id:t)?n:null}s=s.filter(t=>t.id!==e.id).map(e=>(0,a.isVideoStep)(e)?{...e,targetId:l(e.targetId),...e.hotspots&&{hotspots:e.hotspots.map(e=>({...e,targetId:l(e.targetId)}))}}:(0,a.isImageStep)(e)?{...e,hotspots:e.hotspots.map(e=>({...e,targetId:l(e.targetId)}))}:(0,a.isOverlayStepWithPaths)(e)?{...e,paths:e.paths.map(e=>"step"===e.pathType?{...e,targetStepId:l(e.targetStepId)}:e)}:e)});let d=e.map(e=>e.id).includes((null==o?void 0:o.id)||"")&&s.length>0?null==(t=s[Math.max(0,i-1)])?void 0:t.id:void 0;d&&j(d),await M({steps:s},d),T("".concat(e.length>1?"Steps":(null==(r=e[0])?void 0:r.type)===l.StepType.Overlay?"Overlay":"Step"," deleted"))},[n,null==o?void 0:o.id,M,T,j]);return{captureExternalUpdateForHistory:_,replaceActiveStep:L,updateFlow:M,showUndoToast:T,addOrUpdateSteps:V,updateStep:D,deleteSteps:B,undo:O,redo:A}}},82148:(e,t,n)=>{"use strict";n.d(t,{LE:()=>s,_y:()=>o,jU:()=>i});var r=n(82092);let a=(0,r.U0)()?"⌘":"Ctrl",s={openSearch:{name:"Open search",keys:[a,"K"]}},o={toggleSEditPreview:{name:"Toggle Preview",keys:["⇧","P"]},undo:{name:"Undo",keys:[a,"Z"],config:["z",{cmd:!0}]},redo:{name:"Redo",...(0,r.U0)()?{keys:[a,"⇧","Z"],config:["z",{meta:!0,shift:!0}]}:{keys:[a,"Y"],config:["y",{ctrl:!0,shift:!0}]}},selectMultiple:{name:"Select multiple",keys:[a,"⇧","Click"]},copy:{name:"Copy",keys:[a,"C"],config:["c",{cmd:!0}]},duplicate:{name:"Duplicate",keys:[a,"D"],config:["d",{cmd:!0}]},copyStepImage:{name:"Copy step image",keys:["Right click"]},paste:{name:"Paste",keys:[a,"V"]},deleteStep:{name:"Delete",keys:["⌫"],config:["Backspace"]},toggleVisibilityInNavigation:{name:"Toggle step visibility in navigation",keys:[a,"⇧","H"],config:["h",{cmd:!0,shift:!0}]},toggleVideo:{name:"Play/Pause video",keys:["Space"]},seekInVideo:{name:"Seek in video",keys:["<-","->"]}},i={pauseOrPlayVideoOrVoiceover:{name:"Play/pause video or voiceover",keys:["Space"]},navigateToNextOrPreviousStep:{name:"Navigate to next or previous step",keys:["<-","->"]},toggleDemoMode:{name:"Toggle hotspot/callout visibility",keys:[a,"⇧","D"]},toggleFullscreen:{name:"Toggle fullscreen",keys:[a,"⇧","F"]}}},84285:(e,t,n)=>{"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}n.d(t,{AU:()=>a,HD:()=>i,mQ:()=>s,on:()=>r,ud:()=>o});var s=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o=function(){return!0},i=function(){return!1}},87653:(e,t,n)=>{"use strict";n.d(t,{Io:()=>h,bl:()=>m,yW:()=>f});var r=n(80411),a=n(4765),s=n(95816),o=n.n(s),i=n(13217),l=n.n(i),d=n(10891),c=n.n(d),u=n(29594),p=n.n(u);let m=e=>p()(e,["name","externalName","description","schemaVersion","aspectRatio","steps","cta","flowWrapper","customCursor","font","bgImage","resources","showArcadeButton","openingAnimation","showFlowNavIndicator","optimizeFlowForMobileView","showStartOverlay","startOverlayButtonText","showCaptions","sharePageLayout","themeId","themeIdMismatchConfirmed","autoplay","demoModeByDefault","showBackNextButtons","backgroundMusicUrl","backgroundMusicVolume","customVariables","menu","thumbnailUrl","translations","useMagicCursor","watermark","sharePageLogo","sharePageFaviconUrl","sharePageButton","prefs"]),h=(e,t)=>({...m(e),steps:e.steps.map(e=>{var n,a,s,o,i,l,d,c,u;let p=t.steps.find(t=>t.id===e.id);if(!(0,r.isNonEmptyStep)(e)||!(0,r.isNonEmptyStep)(p))return e;let m={...e};return(null==(n=p.cameraRecording)?void 0:n.captions)&&(null==(a=m.cameraRecording)?void 0:a.enabled)&&!(null==(o=m.cameraRecording)||null==(s=o.captions)?void 0:s.length)&&(m.cameraRecording={...m.cameraRecording},m.cameraRecording.captions=p.cameraRecording.captions),(0,r.isVideoStep)(m)&&(0,r.isVideoStep)(p)&&(m.streamUrl=m.streamUrl||(null==(u=t.steps.find(t=>t.id===e.id))?void 0:u.streamUrl),m.videoProcessing=p.videoProcessing),!p.cameraRecording&&!m.cameraRecording||(null==(i=m.cameraRecording)?void 0:i.enabled)||(null==(l=p.cameraRecording)?void 0:l.enabled)||(m.cameraRecording=p.cameraRecording),!p.syntheticVoice&&!m.syntheticVoice||(null==(d=m.syntheticVoice)?void 0:d.enabled)||(null==(c=p.syntheticVoice)?void 0:c.enabled)||(m.syntheticVoice=p.syntheticVoice),m})}),g=e=>c()(e,o()),f=(e,t)=>{try{if(!e||!t)return!0;let{steps:n,...r}=h(e,t),{steps:a,...s}=m(t),i=(e,t,n)=>{if(e instanceof Date&&t instanceof Date||"function"==typeof e&&"function"==typeof t||o()(e)&&o()(t)||("cameraRecording"===n||"syntheticVoice"===n)&&!(null==e?void 0:e.enabled)&&!(null==t?void 0:t.enabled))return!0};return(null==n?void 0:n.length)===(null==a?void 0:a.length)&&l()(g(r),g(s),i)&&n.every((e,t)=>l()(g(e),g(null==a?void 0:a[t]),i))}catch(e){return(0,a.Cp)(e),!1}}},95816:(e,t,n)=>{var r=n(43701),a=n(53140),s=n(42209),o=n(91544),i=n(16799),l=n(9541),d=n(23282),c=n(43562),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||s(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!r(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},97120:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r,a=n(55729);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let o=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m6 9 6 6 6-6",vectorEffect:"non-scaling-stroke"})))}},97821:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r,a,s=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let i=function(e){return s.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24"},e),r||(r=s.createElement("path",{d:"M12.001 15a3 3 0 1 0 0-6 3 3 0 1 0 0 6z",vectorEffect:"non-scaling-stroke"})),a||(a=s.createElement("path",{d:"m9.29 19.371.584 1.315c.174.391.457.724.816.957a2.21 2.21 0 0 0 2.412 0c.359-.233.643-.566.816-.957l.584-1.315a2.43 2.43 0 0 1 2.47-1.423l1.43.152a2.21 2.21 0 0 0 2.149-1.094 2.21 2.21 0 0 0-.127-2.408l-.847-1.163a2.43 2.43 0 0 1-.46-1.434 2.43 2.43 0 0 1 .464-1.429l.847-1.163A2.21 2.21 0 0 0 20.556 7a2.21 2.21 0 0 0-2.149-1.094l-1.43.152c-.511.054-1.025-.056-1.47-.312s-.793-.648-1-1.117l-.589-1.314A2.21 2.21 0 0 0 11.896 2a2.2 2.2 0 0 0-1.206.357 2.2 2.2 0 0 0-.816.957L9.29 4.629a2.417 2.417 0 0 1-2.47 1.429l-1.434-.152A2.21 2.21 0 0 0 3.236 7a2.21 2.21 0 0 0 .127 2.408l.847 1.163a2.43 2.43 0 0 1 0 2.858l-.847 1.163A2.21 2.21 0 0 0 3.236 17a2.21 2.21 0 0 0 2.148 1.094l1.43-.152c.511-.054 1.025.056 1.47.312s.796.648 1.004 1.117z",vectorEffect:"non-scaling-stroke"})))}}}]);