"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["6268"],{37430:function(e,t,i){i.d(t,{Z:()=>r});let r={avatar:"avatar-KIJVyG",avatarOther:"avatarOther-uvAI8g",avatarOtherIcon:"avatarOtherIcon-FpqVMX",link:"link-OtwxxI",column:"column-ADckUl",row:"row-rF9rT4",button:"button-teBUKU",textFace:"textFace-jeUWz6"}},2180:function(e,t,i){i.d(t,{Z:()=>r});let r={container:"container-u4XWUV",label:"label-gARrM9",input:"input-rLnHxk",selectedInput:"selectedInput-RGkQnW"}},34009:function(e,t,i){i.d(t,{Z:()=>r});let r={referralsTierCard:"referralsTierCard-XI8dRc"}},25390:function(e,t,i){i.d(t,{Z:()=>r});let r={personYouMayKnow:"personYouMayKnow-g7Alxo",personYouMayKnowFeed:"personYouMayKnowFeed-bb1Yh4",withSocialContext:"withSocialContext-bZjv3u",personYouMayKnowFeedButton:"personYouMayKnowFeedButton-JiQmpP",personYouMayKnowImage:"personYouMayKnowImage-peGMNI",personYouMayKnowMutuals:"personYouMayKnowMutuals-ZOuD6k",facepileLink:"facepileLink-N3nvHV",facepileFace:"facepileFace-_GchsT",shareProfile:"shareProfile-nfq3_a",fbConnect:"fbConnect-U6M5tm",avatarContainer:"avatarContainer-Bsasck",close:"close-kHICWg",badge:"badge-S8RI6g",badgeIcon:"badgeIcon-jk16vG"}},50012:function(e,t,i){i.d(t,{C:()=>g,l:()=>C});var r=i(7409),o=i(99282),l=i(98848),n=i(16584),s=i(30396),a=i(94184),d=i.n(a),c=i(85685),u=i(93252),h=i(63018),p=i(32700),f=i(63651),m=i(81821),v=i(90271);function g(e){var{children:t,disabled:i}=e,s=(0,l._)(e,["children","disabled"]);return i||(0,m.tq)()||(0,u.P)()?(0,n.tZ)(n.HY,{children:t}):(0,n.tZ)(_,(0,o._)((0,r._)({},s),{children:t}))}function _(e){var t,i,a,d,u,{className:m,children:g,subject:_,placement:Z="right-center",utmSource:b}=e,k=(0,l._)(e,["className","children","subject","placement","utmSource"]);let[w,P]=(0,s.eJ)(!1),S=(t=null!==(u=null!==(d=_.slug)&&void 0!==d?d:_.handle)&&void 0!==u?u:(0,f._IO)(_),i={auto:w},(0,h._I)("/api/v1/user/".concat(t,"/public_profile"),i)),y=S.data,B=(0,p.o)((0,r._)({className:v.Z.profileHoverCard,loading:S.isLoading,hideOnScroll:!0,onOpen:()=>{P(!0)},layerOptions:{placement:Z},content:y?(0,n.tZ)(c.ProfileCard,{profile:y,subject:_,utmSource:b,forceRefresh:()=>S.mutate()}):null},k));return(0,n.BX)(C,(0,o._)((0,r._)({className:m},B.hoverProps),{forwardRef:null===(a=B.triggerProps)||void 0===a?void 0:a.ref,children:[g,B.layer]}))}function C(e){var{inline:t,className:i,forwardRef:o}=e,s=(0,l._)(e,["inline","className","forwardRef"]);return(0,n.tZ)("div",(0,r._)({className:d()("profile-hover-card-target",v.Z.profileHoverCardTarget,t&&v.Z.inline,i),ref:o},s))}},43389:function(e,t,i){i.d(t,{Z:()=>a});var r=i(7409),o=i(99282),l=i(16584),n=i(66298),s=i(64515);let a=e=>(0,l.tZ)(s.l,(0,o._)((0,r._)({},e),{name:"LucideArrowUpRight",svgParams:{height:24,width:24},children:(0,l.tZ)(n.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},25265:function(e,t,i){i.d(t,{Z:()=>a});var r=i(7409),o=i(99282),l=i(16584),n=i(7617),s=i(64515);let a=e=>(0,l.tZ)(s.l,(0,o._)((0,r._)({},e),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,l.tZ)(n.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},666:function(e,t,i){i.d(t,{Z:()=>a});var r=i(7409),o=i(99282),l=i(16584),n=i(8618),s=i(64515);let a=e=>(0,l.tZ)(s.l,(0,o._)((0,r._)({},e),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,l.tZ)(n.Z,{height:24,stroke:e.stroke,fill:e.fill,strokeWidth:e.strokeWidth})}))},95398:function(e,t,i){i.d(t,{Z:()=>s});var r=i(7409),o=i(99282),l=i(16584),n=i(64515);let s=e=>(0,l.tZ)(n.l,(0,o._)((0,r._)({},e),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0},children:(0,l.tZ)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z",strokeWidth:e.strokeWidth,fill:e.fill,className:"lucide",strokeLinecap:"round",strokeLinejoin:"round"})})}))},38457:function(e,t,i){i.d(t,{Z:()=>a});var r=i(7409),o=i(99282),l=i(98848),n=i(16584),s=i(64515);let a=e=>{var{size:t=24,color:i="var(--color-fg-primary)"}=e,a=(0,l._)(e,["size","color"]);return(0,n.tZ)(s.l,(0,o._)((0,r._)({},a),{name:"NoteQuoteForwardIcon",svgParams:{viewBox:"0 0 24 24"},width:t,height:t,stroke:i,strokeWidth:2,fill:"none",children:(0,n.tZ)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z",strokeLinecap:"round","stroke-linejoin":"round"})}))}},42970:function(e,t,i){i.d(t,{Z:()=>a});var r=i(7409),o=i(99282),l=i(98848),n=i(16584),s=i(64515);let a=e=>{var{size:t=24,fill:i="var(--color-fg-primary)"}=e,a=(0,l._)(e,["size","fill"]);return(0,n.tZ)(s.l,(0,o._)((0,r._)({},a),{name:"CommentBadgePinIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:i,children:(0,n.tZ)("path",{stroke:"none",d:"M4.62891 12.2131C4.62891 11.7253 4.75199 11.2486 4.99817 10.7831C5.24434 10.3131 5.5957 9.88566 6.05225 9.50073C6.51326 9.11133 7.05933 8.79801 7.69043 8.56079L7.91199 5.4187C7.57182 5.22624 7.26074 5.03153 6.97876 4.83459C6.69678 4.63765 6.45284 4.44967 6.24695 4.27063C6.04106 4.08712 5.87992 3.92151 5.76355 3.7738C5.57556 3.5321 5.48157 3.29041 5.48157 3.04871C5.48157 2.81596 5.56213 2.62349 5.72327 2.47131C5.88888 2.31466 6.10372 2.23633 6.3678 2.23633H13.6322C13.8963 2.23633 14.1089 2.31466 14.27 2.47131C14.4356 2.62349 14.5184 2.81596 14.5184 3.04871C14.5184 3.29041 14.4244 3.5321 14.2365 3.7738C14.1201 3.92151 13.9567 4.08712 13.7463 4.27063C13.5404 4.44967 13.2965 4.63765 13.0145 4.83459C12.737 5.02706 12.4282 5.22176 12.088 5.4187L12.3029 8.56079C12.9384 8.79801 13.4845 9.11133 13.941 9.50073C14.3976 9.88566 14.7489 10.3131 14.9951 10.7831C15.2413 11.2486 15.3644 11.7253 15.3644 12.2131C15.3644 12.5309 15.2659 12.7883 15.069 12.9852C14.872 13.1777 14.608 13.2739 14.2767 13.2739H10.7117V16.4697C10.7117 16.689 10.6848 16.9128 10.6311 17.1411C10.5774 17.3694 10.5103 17.5753 10.4297 17.7588C10.3491 17.9468 10.2686 18.0967 10.188 18.2086C10.1119 18.325 10.0492 18.3832 10 18.3832C9.95076 18.3832 9.88586 18.325 9.8053 18.2086C9.72473 18.0967 9.64417 17.9468 9.5636 17.7588C9.48303 17.5753 9.41589 17.3694 9.36218 17.1411C9.30847 16.9128 9.28162 16.689 9.28162 16.4697V13.2739H5.72327C5.39205 13.2739 5.12573 13.1777 4.92432 12.9852C4.72738 12.7883 4.62891 12.5309 4.62891 12.2131Z"})}))}},74648:function(e,t,i){i.d(t,{Q:()=>s});var r=i(16584),o=i(74626),l=i(95441),n=i(19081);let s=e=>{let{post:t,ctaUrl:i,ctaText:s,hidden:a}=e,{iString:d}=(0,l.M1)(),c=s;return a||"podcast"!==t.type?a||"newsletter"!==t.type||(c=d("Back to article")):c=d("Back to episode"),(0,r.tZ)(n.tu,{alignItems:"start",paddingY:8,children:(0,r.tZ)(o._,{href:i,leadingIcon:"chevron-left",native:!0,size:"md",variant:"tertiary",children:c})})}},70522:function(e,t,i){i.d(t,{ZP:()=>_});var r=i(27412),o=i(16584),l=i(6400),n=i(94184),s=i.n(n),a=i(81094),d=i(70149),c=i(15702),u=i(82621),h=i(42493),p=i(20888),f=i(86603),m=i(32261),v=i(68833),g=i(60308);class _ extends l.Component{static getSubject(e){return e?"author_id"in e&&e.author_id?{id:e.author_id,name:e.author_name,photo_url:(0,g.SMH)(e,{preferAuthorPhoto:!0}),publications:e.subdomain?[e]:[]}:"user_id"in e&&e.user_id?{id:e.user_id,name:e.name,photo_url:(0,g.SMH)(e),publications:[]}:{id:"id"in e?e.id:void 0,name:"name"in e?e.name:void 0,photo_url:(0,g.SMH)(e),publications:[]}:{id:null,name:null,photo_url:g.zUJ,publications:[]}}static hasCustomProfilePhoto(e){return!!_.getSubject(e).photo_url}isSelf(){return this.props.user&&this.props.user.id===_.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.url?this.props.url:this.props.isAuthor?(0,g.LwU)(_.getSubject(this.props.subject),this.props.pub):(0,g.NNq)(_.getSubject(this.props.subject))}onBeforeProfileClose(e){if(e){if(!this.props.onEdit)return document.location.reload(),!1;this.props.onEdit()}}render(e){let{subject:t,pub:i,user:r,badge:l,freeSignup:n,freeSignupEmail:a,token:d,isStatic:c,size:u,modalProfile:p,isBanned:f,lazy:v,tooltip:g,noLink:Z,className:b}=e;u=u||33;let k=_.getSubject(t);return(0,o.BX)("div",{className:s()("user-head",{banned:f},b),children:[Z?(0,o.tZ)(C,{photo_url:k.photo_url,size:u,isStatic:c,isBanned:f,lazy:v,badge:l,tooltip:g,className:"default-pointer"}):(0,o.tZ)("a",{href:c||!p?this.profileUrl():void 0,onClick:this.onClick,children:(0,o.tZ)(C,{photo_url:k.photo_url,size:u,isStatic:c,isBanned:f,lazy:v,badge:l,tooltip:g})}),this.props.modalProfile&&!c&&"undefined"!=typeof window&&this.state.includeProfile&&(this.isSelf()?(0,o.tZ)(h.EB,{ref:this.assignProfile,user:r,freeSignup:n,freeSignupEmail:a,needsPhoto:!0,token:d,onBeforeClose:e=>this.onBeforeProfileClose(e)}):(0,o.tZ)(m.FI,{ref:this.assignProfile,profileUser:k,pub:i,isBanned:null!=f&&f}))]})}constructor(...e){super(...e),(0,r._)(this,"profileShown",void 0),(0,r._)(this,"profile",void 0),(0,r._)(this,"assignProfile",e=>{this.profile=e}),(0,r._)(this,"onClick",e=>{if(this.props.onClick)this.props.onClick(e);else if(!this.props.modalProfile)return!1;else if(e.preventDefault(),e.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,v.j)(v.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile){var t;null===(t=this.profile)||void 0===t||t.open()}else this.setState({includeProfile:!0},()=>{var e;return null===(e=this.profile)||void 0===e?void 0:e.open()})})}}let C=e=>{let{photo_url:t,size:i,isStatic:r,isBanned:l,lazy:n,badge:u,tooltip:h,style:p,children:f,className:m}=e,v=!t&&!!f,g={founding:(0,o.tZ)(c.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:h}),author:(0,o.tZ)(a.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:h})}[null!=u?u:"undefined"];return(0,o.BX)("div",{className:s()("profile-img-wrap",m),children:[v?f:n?(0,o.tZ)(b,{photo_url:t,size:i,isStatic:r,badge:u,style:p}):(0,o.tZ)(k,{photo_url:t,size:i,isStatic:r,badge:u,style:p}),g&&(0,o.tZ)("div",{className:"profile-img-badge",title:null!=h?h:void 0,children:g}),l&&(0,o.tZ)(d.Z,{})]})},Z=(e,t)=>(0,g.zF4)(e,2*t,{height:2*t,crop:"fill"}),b=e=>{let{photo_url:t,size:i,isStatic:r,badge:l,style:n}=e,[s,a]=(0,f.Z)({}),d=!a||a.isIntersecting?t:g.zUJ;return(0,o.tZ)(w,{url:Z(d,i),size:i,ref:s,badge:l,isStatic:r,style:n})},k=e=>{let{photo_url:t,size:i,isStatic:r,badge:l,style:n}=e;return(0,o.tZ)(w,{url:Z(t,i),size:i,badge:l,isStatic:r,style:n})},w=e=>{let{url:t,size:i,isStatic:r,ref:l,badge:n,className:s}=e;return r?(0,o.tZ)(u.Z,{className:s,src:(0,g.zF4)(t,2*i,{height:2*i,crop:"fill"}),ref:l,height:i,width:i,alt:n||""}):(0,o.tZ)(p.e,{className:s,src:t,imageProps:{height:2*i,crop:"fill"},maxWidth:2*i,ref:l,alt:n||""})}},32261:function(e,t,i){i.d(t,{FI:()=>g,fi:()=>C});var r=i(27412),o=i(7409),l=i(98848),n=i(16584),s=i(6400),a=i(94184),d=i.n(a),c=i(70149),u=i(93666),h=i(48980),p=i(98012),f=i(60308),m=i(84864);class v extends s.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(e){this.props.manualLoad||e.profileUser.id===this.props.profileUser.id||(this.setState({profileUser:null}),this.loadProfileUser())}async loadProfileUser(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{let e=await (0,h.rd)("/api/v1/user/".concat(this.props.profileUser.id,"/profile"));this.setState({profileUser:e})}catch(e){console.error("Failed to load profile:",e)}this.setState({loadingProfile:!1})}}getProfileUser(){return this.state.profileUser||this.props.profileUser}render(e){var t,i;let{pub:r}=e,o=this.getProfileUser(),l="publications"in o&&r&&(null===(t=o.publications)||void 0===t?void 0:t.filter(e=>e.id!==r.id))||[];return(0,n.BX)("div",{className:"user-profile ".concat(this.props.isBanned?"banned":""),children:[(0,n.tZ)(C,{photo_url:(0,f.SMH)(o),banned:this.props.isBanned,email:"email"in o?o.email:void 0,pub:r}),(0,n.tZ)("div",{className:"user-profile-name",children:"name"in o?o.name:""}),(0,n.tZ)("div",{className:"user-profile-status",children:r&&o.id===r.author_id?(0,n.BX)("b",{children:["Author of ",r.name]}):r&&"subscribed_at"in o&&o.subscribed_at?"Subscriber to ".concat(r.name," since ").concat((0,p.Z)(o.subscribed_at).standardDate()):"\xa0"}),l.length>0&&(0,n.BX)("div",{className:"user-profile-publication",children:["Author of"," ",(0,m.oxfordComma)(l.map(e=>(0,n.tZ)("a",{href:e.base_url,native:!0,children:e.name})))]}),this.props.isBanned&&(0,n.BX)("div",{className:"user-profile-banned",children:["Banned from commenting on ",null!==(i=null==r?void 0:r.name)&&void 0!==i?i:""]})]})}}class g extends u.p{onBeforeOpen(){var e;null===(e=this.profile)||void 0===e||e.loadProfileUser()}renderChildren(){let e=this.props,{ref:t}=e,i=(0,l._)(e,["ref"]);return(0,n.tZ)("div",{className:"user-profile-modal",children:(0,n.tZ)(v,(0,o._)({ref:this.assignProfile,manualLoad:!0},i))})}constructor(...e){super(...e),(0,r._)(this,"profile",void 0),(0,r._)(this,"assignProfile",e=>{this.profile=e})}}let _=e=>{let{children:t,email:i,pub:r}=e;return(0,n.tZ)("a",{target:"_blank",href:(0,f.pN7)(r,i),children:t})},C=e=>{let{photo_url:t,size:i=92,banned:r=!1,email:o="",className:l="",pub:s=null,children:a}=e,u=(0,n.tZ)("img",{className:"user-profile-head",height:i,width:i,src:(0,f.zF4)(null!=t?t:"",2*i,{height:2*i,crop:"fill"})});return(0,n.BX)("div",{className:d()(l,"profile-image-wrapper"),children:[o&&s?(0,n.tZ)(_,{email:o,pub:s,children:u}):u,r&&(0,n.tZ)(c.Z,{height:i}),a]})}},12461:function(e,t,i){i.d(t,{$:()=>u});var r=i(16584),o=i(35543),l=i(60807),n=i(80878),s=i(15771),a=i(3021),d=i(63651),c=i(47929);function u(e){let{person:t,surface:i="suggestion"}=e,u=(0,l.aF)(),{primary_publication:h}=t,p=(0,o.Sv)(t,i),f=p.isFollowing?"Following":"Follow",m=p.isFollowing?"secondary-outline":"secondary";return(0,r.tZ)(a.kJ,{user:t,publication:h,label:h?h.name:"",source:i,onClick:e=>(0,n.Q)(e,(0,d.NNq)(t,{utm_source:c.b3.substack,utm_content:c.fZ.resackerItem}),{state:{showBack:!0}}),cta:t.id===(null==u?void 0:u.id)?null:(0,r.tZ)(s.zx,{priority:m,size:"sm",onClick:e=>{e.preventDefault(),p.toggle()},children:f})})}},65252:function(e,t,i){i.d(t,{FG:()=>s,mr:()=>l,ol:()=>n});var r,o=i(95441);let l=()=>{let{iString:e}=(0,o.M1)();return[["1d",e("For 1 day")],["30d",e("For 30 days")],["90d",e("For 90 days")],["1y",e("For 1 year")],["1000y",e("Forever")]]};var n=((r={}).VISIBLE="visible",r.DELETE_THIS_COMMENT="delete_this_comment",r.DELETE_ALL_COMMENTS="delete_all_comments",r);let s=()=>{let{iString:e}=(0,o.M1)();return[["visible",e("Do not delete comments")],["delete_this_comment",e("Delete this comment")],["delete_all_comments",e("Also delete all comments")]]}}}]);