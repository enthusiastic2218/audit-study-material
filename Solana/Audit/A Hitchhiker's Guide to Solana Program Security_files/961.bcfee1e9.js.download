"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["961"],{89043:function(e,t,n){n.d(t,{Z:()=>r});let r={container:"container-PNh5cP",containerBulwark:"containerBulwark-Y0wz4B",noPodcasts:"noPodcasts-reia2s"}},62126:function(e,t,n){n.d(t,{m:()=>et});var r=n(16584),i=n(30396),l=n(80569),a=n.n(l),o=n(95441),c=n(15771),d=n(19081),s=n(6490),u=n(58175);let p=e=>{let{isOpen:t,onContinue:n}=e,{iString:l}=(0,o.M1)(),[a,p]=(0,i.eJ)(!1);return(0,r.BX)(s.u_,{isOpen:t,children:[(0,r.tZ)(s.xB,{title:l("Switch to Bitcoin"),showClose:!1}),(0,r.tZ)(s.fe,{children:(0,r.BX)(d.tu,{gap:24,children:[(0,r.BX)(d.tu,{gap:16,children:[(0,r.tZ)(u.xv.B4,{translated:!0,children:"Switching to Bitcoin will end your auto-renewing credit card payments."}),(0,r.BX)(u.xv.B4,{translated:!0,children:["Please note that Substack cannot process refunds or auto-renewals for Bitcoin payments. You will now be sent to"," ",(0,r.tZ)("a",{href:"https://opennode.com",target:"_blank",rel:"noopener",children:"OpenNode"})," ","to complete your checkout."]})]}),(0,r.tZ)(c.zx,{onClick:()=>{p(!0),n()},disabled:a,children:l("Continue")})]})})]})};var m=n(25469),h=n(17876),g=n(94184),v=n.n(g),f=n(51776);let b="themed-qm5g5y",_=e=>{let{placeholder:t,maxLength:n,value:i,symbol:l,themed:a=!1,onChange:o}=e;return(0,r.BX)(d.gq,{alignItems:"center",justifyContent:"start",className:v()("inputContainer-JJXl4U",{[b]:a}),children:[(0,r.tZ)(u.xv.B3,{as:"span",color:a?"pub-secondary-text":"secondary",weight:"semibold",className:"currencyInput-n4aG03",children:l}),(0,r.tZ)(f.oi,{name:"Confirm Founding Price","aria-label":"Confirm founding price",value:i,placeholder:t,maxLength:n,onChange:e=>o(e.currentTarget.value),onInput:e=>o(e.currentTarget.value),className:v()("inputField-ZlLLCs",{[b]:a})})]})};var y=n(68833),w=n(84864);let Z=e=>{let{currency:t,isValid:n,newUpgradeModal:l,planName:a,price:c,setValidationState:s}=e,[p,g]=(0,i.eJ)(""),v=parseInt(c);(0,i.d4)(()=>((0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_REQUIRED,{price:c,source:"upgrade modal"}),()=>{n||(0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_DISMISSED,{price:c,source:"upgrade modal"})}),[]);let{iString:f}=(0,o.M1)(),b=(0,w.isZeroDecimalCurrency)(t)?1:100;return(0,r.BX)(d.tu,{font:l?"text":void 0,gap:8,paddingTop:8*!l,borderTop:l?void 0:"detail",alignItems:"start",justifyContent:"start",children:[(0,r.BX)(u.xv,{translated:!0,as:"p",size:l?14:17,color:"secondary",children:["Please confirm you want to pay"," ",(0,r.tZ)(u.xv,{as:"span",color:"primary",weight:"semibold",children:I18N.p(v?(0,w.centsToPriceString)(v*b,t):c)})," ","per year for a ",I18N.p(null!=a?a:f("Founding Member"))," subscription by typing the price below."]}),(0,r.BX)(d.gq,{alignItems:"center",justifyContent:"start",gap:8,style:{width:"100%"},children:[(0,r.tZ)(_,{placeholder:c,symbol:(0,w.currencySymbol)(t),maxLength:c.length,value:p,themed:!1,onChange:e=>{e===c?(s(!0),g(e)):e!==p&&(s(!1),g(e))}}),n?(0,r.tZ)(m.Z,{size:24,style:{color:"var(--color-accent-fg-green)"}}):(0,r.tZ)(h.Z,{size:24,style:{color:"var(--color-accent-fg-red)"}})]})]})};var x=n(89734),B=n.n(x),C=n(58865),I=n(7409),N=n(99282),S=n(64515);let F=e=>(0,r.tZ)(S.l,(0,N._)((0,I._)({},e),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"},children:(0,r.tZ)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})}));var X=n(87077),k=n(31582);let P={outlineWrapper:"outlineWrapper-MqmfKS",outlineWrapperWithWarning:"outlineWrapperWithWarning-x5ALXu",warningContainer:"warningContainer-lQlVcA",outlineWrapperSelected:"outlineWrapperSelected-KXkgz5",amountInput:"amountInput-pcn7kh",amountInputDeselected:"amountInputDeselected-W75Nrd"};function T(){let e=(0,C._)([" per ",""]);return T=function(){return e},e}function A(){let e=(0,C._)(["Amount must be greater than ",""]);return A=function(){return e},e}let M=e=>{var t;let{amount:n,currency:l,isSelected:a,outlineOnSelect:c,plan:d,usePer:s,showDuration:u=!0,disableInput:p=!1,className:m,disableWarning:h,onChangeAmount:g,truncateInterval:f=!1}=e,b=(0,i.sO)(null),[_,y]=(0,i.eJ)(!1),Z=(0,i.I4)(e=>{g(e.toString().replace(/[^\d.]/g,""))},[g]);l||(l=d.currency),(0,i.d4)(()=>{let e=(0,k.vq)(d,l);y(!!(!h&&e&&null!==n&&l&&parseFloat(Number((0,w.isZeroDecimalCurrency)(l)?n:100*Number(n)).toFixed(2))<e&&a))},[n,l,h,a,d]),(0,i.bt)(()=>{setTimeout(()=>{b.current&&(b.current.style.width="1px",b.current.style.width="".concat(b.current.scrollWidth,"px"),b.current.scrollLeft=0)},0)},[n,b]),(0,i.d4)(()=>{a&&(b.current.focus(),b.current.select())},[b,a]);let{iTemplate:x,iString:B}=(0,o.M1)(),C=f&&"year"===d.interval?"yr":f&&"month"===d.interval?"mo":d.interval;return(0,r.BX)("span",{className:v()(P.outlineWrapper,m,{[P.outlineWrapperSelected]:c&&a,[P.outlineWrapperWithWarning]:_}),children:[(0,w.centsToPriceString)(100,l).replace("1",""),(0,r.tZ)("input",{disabled:p,ref:b,className:v()(P.amountInput,{[P.amountInputDeselected]:!a}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:"string"==typeof n?n:d.amount/100,onKeyDown:e=>{"ArrowUp"===e.key?(Z(Number(n||d.amount/100)+5),setTimeout(()=>{b.current.selectionStart=b.current.selectionEnd=b.current.value.length},0)):"ArrowDown"===e.key&&(!n||Number(n)>=5)&&(Z(Number(n||d.amount/100)-5),setTimeout(()=>{b.current.selectionStart=b.current.selectionEnd=b.current.value.length},0))},onInput:e=>{Z(e.target.value)}}),(0,r.tZ)("input",{name:"amount",type:"hidden",value:"string"==typeof n?100*(Number(n)||0):d.amount}),u&&"forever"!==d.interval&&(s?x(T(),B(C)):"/".concat(B(C))),_&&(0,r.tZ)("div",{className:P.warningContainer,children:(0,r.tZ)(X.u,{text:x(A(),(0,w.centsToPriceString)(null!==(t=(0,k.vq)(d,l))&&void 0!==t?t:0,l)),children:(0,r.tZ)(F,{stroke:"white",height:20,fill:"red",strokeWidth:1})})})]})};var D=n(43570);let E=e=>{let{currency:t,foundingAmount:n,foundingName:i,isSelected:l,isCurrent:a,plan:c,onChangeAmount:s}=e,{iString:p}=(0,o.M1)();return(0,r.BX)(d.gq,{alignItems:"center",flex:"grow",gap:16,justifyContent:"space-between",children:[(0,r.tZ)(u.xv.B4,{weight:l?"semibold":"regular",children:(0,r.BX)(d.tu,{children:[(0,r.tZ)("div",{children:i}),(0,r.tZ)(M,{amount:n?n.toString():"",currency:t,isSelected:l,plan:c,usePer:!0,onChangeAmount:e=>{s(Number(e))}})]})}),a&&(0,r.tZ)(D.Vp,{priority:"primary",theme:"default",children:p("Current")})]})};var U=n(10656);let z=e=>{let{currency:t,plan:n,isCurrent:i,isSelected:l,language:a}=e,{iString:c}=(0,o.M1)();return(0,r.BX)(d.gq,{alignItems:"center",flex:"grow",gap:8,justifyContent:"space-between",children:[(0,r.tZ)(u.xv.B4,{weight:l?"semibold":"regular",children:(0,U.tS)(n,{currency:t,noTrial:!0,recurring:!0,language:a})}),i&&(0,r.tZ)(D.Vp,{priority:"primary",theme:"default",children:c("current")})]})};var L=n(57640),j=n(51699);let O=e=>{let{currency:t,foundingAmount:n,foundingName:i,isCurrent:l,language:a,plan:o,isSelected:c,onChangePlan:s,onChangeFoundingAmount:u}=e;return(0,r.BX)(d.gq,{alignItems:"center",as:"label",border:c?"accent":"detail-themed",gap:8,padding:16,radius:"sm",children:[(0,r.tZ)(L.Y,{checked:c,name:"plan",value:o.id,onClick:e=>{s({planId:e.target.value})}}),(0,j.F)({plan:o})?(0,r.tZ)(E,{currency:t,foundingAmount:n,foundingName:i,isCurrent:l,isSelected:c,plan:o,onChangeAmount:u}):(0,r.tZ)(z,{currency:t,plan:o,isCurrent:l,isSelected:c,language:a})]})},W=e=>{let{currency:t,foundingAmount:n,foundingName:i,getIsCurrentPlan:l,language:a,plans:o,selectedPlanId:c,onChangeFoundingAmount:s,onChangePlan:u}=e,p=B()(o,"amount").filter(e=>{var t;return!(null===(t=e.metadata)||void 0===t?void 0:t.bitcoin)}),m=null!=c?c:"";return(0,r.tZ)(d.tu,{gap:8,children:p.map(e=>(0,r.tZ)(O,{currency:t,foundingAmount:n,foundingName:i,isCurrent:l(e),isSelected:e.id===m,language:a,plan:e,onChangePlan:u,onChangeFoundingAmount:s}))})};var q=n(61254),V=n(24791);let J=e=>{let{currency:t,foundingAmount:n,foundingAmountLessThanMinimum:i,foundingName:l,hasChanges:a,sub:c,isNewPlanClassicFounding:s,newPlan:p}=e,{iString:m,language:h}=(0,o.M1)(),g=(0,w.isZeroDecimalCurrency)(t)?1:100,v=a&&p&&(!s||!i),f=v?s?"".concat((0,w.centsToPriceString)((null!=n?n:0)*g,t)," ").concat(m("per year")):(0,U.tS)(p,{language:h,currency:t}):m("N/A");return(0,r.BX)(d.tu,{gap:24,children:[(0,r.tZ)(u.xv.H4,{translated:!0,children:"Summary"}),(0,r.BX)("div",{className:"table-tzqeVd",children:[c.plan&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(u.xv.B4,{color:"secondary",translated:!0,children:"Current plan"}),(0,r.BX)(d.tu,{"data-testid":"upgrade-summary-current-plan",gap:4,children:[(0,r.tZ)(u.xv.B4,{color:"secondary",align:"right",children:(0,V.sM)({sub:c})?l:H({plan:c.plan,language:h,currency:t})}),(0,V.sM)({sub:c})&&(0,r.tZ)(u.xv.B4,{color:"secondary",align:"right",children:(0,U.tS)(c.plan,{language:h,currency:t})})]})]}),(0,r.tZ)(u.xv.B4,{translated:!0,children:"New plan"}),(0,r.BX)(d.tu,{"data-testid":"upgrade-summary-new-plan",gap:4,children:[(0,r.tZ)(u.xv.B4,{align:"right",weight:v?"semibold":"regular",children:v?H({plan:p,language:h,currency:t}):m("N/A")}),s&&v&&(0,r.tZ)(u.xv.B4,{align:"right",weight:"semibold",children:f})]}),(0,r.tZ)(q.iz,{className:"table-divider-O5XQ7c"}),(0,r.tZ)(u.xv.B4,{translated:!0,children:"Total"}),(0,r.tZ)(u.xv.B4,{"data-testid":"upgrade-summary-total",align:"right",weight:v?"semibold":"regular",children:f})]})]})},H=e=>{var t,n,r;let{plan:i,language:l,currency:a}=e;return(null===(t=i.metadata)||void 0===t?void 0:t.founding)==="yes"?null!==(r=null===(n=i.metadata)||void 0===n?void 0:n.short_description)&&void 0!==r?r:"Founding membership":(0,U.tS)(i,{language:l,currency:a})};var R=n(33804),Y=n(98914),G=n(26111);let K={"left-column":"left-column-RH66AP"},Q=e=>{var t,n;let{pub:r,sub:i}=e,l=(0,V.MO)(r);if(!l)return 0;let a=(0,k.$e)(l,i.currency),o=i.is_founding&&i.plan&&(0,V.sM)({sub:i})&&l.interval===i.plan.interval?(0,k.$e)(i.plan,i.currency):null,c=(0,w.isZeroDecimalCurrency)(null!==(t=i.currency)&&void 0!==t?t:"usd")?1:100;return(null!==(n=null!=o?o:a)&&void 0!==n?n:0)/c},$=e=>{let{pub:t,sub:n}=e,r=null==n?void 0:n.plan;if(!r)return null;if((0,V.sM)({sub:n})){let e=(0,V.MO)(t);if(e&&e.interval===r.interval)return e}return r},ee=e=>{var t,n;let{plan:r,sub:i}=e;return!!r&&!!i.plan&&(!!(r.id===i.plan.id||(0,V.sM)({sub:i})&&(0,j.F)({plan:r})&&r.interval===i.plan.interval)||r.amount===i.plan.amount&&r.interval===i.plan.interval&&r.currency===i.plan.currency&&(null===(t=r.metadata)||void 0===t?void 0:t.bitcoin)===(null===(n=i.plan.metadata)||void 0===n?void 0:n.bitcoin))},et=e=>{var t,n,l;let{isOpen:m,preselectedPlan:h,pub:g,sub:v,onClose:f}=e,{iString:b,language:_}=(0,o.M1)(),[x,B]=(0,i.eJ)(!1),[C,I]=(0,i.eJ)($({pub:g,sub:v})),[N,S]=(0,i.eJ)(Q({pub:g,sub:v})),[F,X]=(0,i.eJ)(!1),[k,P]=(0,i.eJ)(!1),[T,A]=(0,i.eJ)(null),M=(0,i.Ye)(()=>(g.plans||[]).filter(e=>{if(g.disable_annual_subscriptions){var t;return"year"!==e.interval||(null===(t=e.metadata)||void 0===t?void 0:t.founding)}return!g.disable_monthly_subscriptions||"month"!==e.interval}),[g.plans]),D=M.some(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.bitcoin}),E=null!==(t=(0,V.H$)(g))&&void 0!==t?t:"",U=null!==(n=v.currency)&&void 0!==n?n:"usd",z=(0,w.isZeroDecimalCurrency)(U),L=z?1:100,O=C&&!ee({plan:C,sub:v}),q=N!==Q({pub:g,sub:v}),H=O||q,et=parseFloat((N*L).toFixed(2))<(null!==(l=(0,V.rm)({pub:g,currency:U}))&&void 0!==l?l:0),en=C&&(0,j.F)({plan:C}),er=en&&q&&(null!=N?N:0)>=(z?1e6:1e4),ei=!!(x||!H||er&&!F||en&&et||T);(0,i.d4)(()=>{if(m&&h){if("yearly"===h){let e=M.find(e=>"year"===e.interval&&1===e.interval_count);e&&I(e)}else if("founding"===h){let e=(0,V.MO)(g);e&&I(e)}}},[m,M,h,g]);let el=(0,i.I4)(()=>{I($({pub:g,sub:v})),S(Q({pub:g,sub:v}))},[g,v]),ea=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&el(),(0,y.j)(y.FP.UPGRADE_PLAN_MODAL_DISMISSED,{plan:C}),f()},eo=async function(){let{quantity:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!C)return;B(!0);let t=N&&en?N*L:void 0;if(er&&!F){B(!1);return}try{var n;let r=await a().post("/api/v1/subscription/change_plan").send({planId:C.id,foundingAmount:t,quantity:e,token:(0,G.x)(window._preloads.original_url,"token")});(null===(n=r.body)||void 0===n?void 0:n.opennodePaymentUrl)?setTimeout(()=>{window.location.href=r.body.opennodePaymentUrl},30):(B(!1),alert(b("Success! You've changed your plan")),(0,y.j)(y.FP.UPGRADE_PLAN_MODAL_SUBMITTED,{plan:C,amount:null!=t?t:null}),(0,G.x)("redirect")?(0,Y.uX)((0,G.x)("redirect"),{local_navigation:!1}):((0,Y.iO)("change_plan"),window.location.reload()))}catch(e){B(!1),A((0,Y.zx)(e))}},ec=e=>{X(e),e&&(0,y.j)(y.FP.FOUNDING_PRICE_CONFIRMATION_SUBMITTED,{price:N,source:"upgrade modal"})};return M.length?(0,r.BX)("div",{children:[D&&(0,r.tZ)(p,{isOpen:k,onContinue:()=>eo()}),(0,r.tZ)(s.u_,{isOpen:m,testId:"upgrade-plan-modal",width:700,onClose:x?()=>{}:f,fullscreenMobile:!0,children:(0,r.tZ)(R.w,{children:(0,r.BX)(d.gq,{direction:{desktop:"row",mobile:"column"},children:[(0,r.BX)(d.tu,{className:K["left-column"],gap:16,padding:24,children:[(0,r.tZ)(u.xv.H3,{translated:!0,children:"Change Plan"}),(0,r.tZ)(W,{currency:U,foundingAmount:N,foundingName:E,getIsCurrentPlan:e=>ee({plan:e,sub:v}),language:_,plans:M,selectedPlanId:null==C?void 0:C.id,onChangeFoundingAmount:e=>{S(e),A(null),X(!1)},onChangePlan:e=>{let{planId:t}=e,{plans:n}=g,r=null==n?void 0:n.find(e=>e.id===t);r&&((0,y.j)(y.FP.UPGRADE_PLAN_MODAL_PLAN_CHANGED,{oldPlan:C,newPlan:r}),I(r),A(null))}})]}),(0,r.BX)(d.tu,{padding:24,flex:"grow",gap:80,children:[(0,r.BX)(d.tu,{flex:"grow",gap:40,children:[(0,r.tZ)(J,{currency:U,foundingAmount:N,foundingAmountLessThanMinimum:et,foundingName:E,hasChanges:H,isNewPlanClassicFounding:!!en,newPlan:C,sub:v}),er&&(0,r.tZ)(Z,{price:N?N.toString():"",isValid:F,planName:E,currency:U,setValidationState:e=>ec(e),newUpgradeModal:!0}),T&&(0,r.tZ)(u.xv,{color:"error",size:14,font:"text",children:T})]}),(0,r.BX)(d.gq,{gap:12,justifyContent:"end",children:[(0,r.tZ)(c.zx,{priority:"secondary",onClick:()=>ea(),disabled:x,children:b("Cancel")}),(0,r.tZ)(c.zx,{priority:"primary",className:"confirm",onClick:()=>{var e;(null==C?void 0:null===(e=C.metadata)||void 0===e?void 0:e.bitcoin)?(ea(!1),P(!0)):eo()},disabled:ei,children:x?b("Loading..."):b("Change plan")})]})]})]})})})]}):null}},95031:function(e,t,n){n.d(t,{_:()=>a});var r=n(16584),i=n(75744),l=n(58175);let a=e=>{let{hideTerms:t,pub:n,showIntrinioAttrib:a}=e,o=n.has_custom_tos||n.has_custom_privacy,c=(0,r.BX)("div",{className:"footer-copyright-blurb",children:["\xa9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"]}),d=(0,r.BX)(r.HY,{children:[a&&(0,r.BX)(l.xv,{translated:!0,as:"div",className:"footer-copyright-blurb",children:["Market data by ",(0,r.tZ)("a",{href:"https://intrinio.com/",children:"Intrinio"})]}),!t&&(0,r.tZ)("div",{className:"footer-terms-blurb",children:(0,r.tZ)(i.nO,{publication:n})})]});return o?(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{className:"footer-blurbs",children:[c,!t&&(0,r.tZ)("div",{className:"footer-terms-blurb",children:(0,r.tZ)(i.Ug,{pub:n})})]}),(0,r.BX)("div",{className:"footer-blurbs",children:[(0,r.tZ)("div",{className:"footer-copyright-blurb",children:"Substack"}),d]})]}):(0,r.BX)("div",{className:"footer-blurbs",children:[c,d]})}},89810:function(e,t,n){n.d(t,{i:()=>B});var r=n(7409),i=n(99282),l=n(16584),a=n(30396),o=n(39693),c=n.n(o),d=n(24350),s=n.n(d),u=n(80569),p=n.n(u),m=n(73207),h=n(95441),g=n(14952),v=n(60807),f=n(7882),b=n(98914),_=n(70379),y=n(24791),w=n(6070),Z=n(67914),x=n(60308);let B=()=>{let e=(0,v.aF)(),t=(0,g.Ij)(),n=(0,_.pm)(),{iString:o}=(0,h.M1)(),[d,u]=(0,a.eJ)((null==e?void 0:e.name)||""),[B,C]=(0,a.eJ)((null==e?void 0:e.email)||""),[I,N]=(0,a.eJ)(!1),[S,F]=(0,a.eJ)(!1),[X,k]=(0,a.eJ)(null),[P,T]=(0,a.eJ)(null),[A,M]=(0,a.eJ)(!1),[D,E]=(0,a.eJ)(!1),[U]=(0,a.eJ)(0),[z,L]=(0,a.eJ)(new Set),{ids:j}=(0,m.I)({pub:t}),{ids:O}=(0,m.I)({pub:t,pubSetting:"fp_primary_column_section_ids"}),{result:W,isLoading:q,refetch:V}=(0,f.ib)({pathname:"/api/v1/subscription",auto:!0}),{refetch:J,isLoading:H}=(0,f.ib)({pathname:"/api/v1/subscription/sections/email",auto:!1,method:"PATCH"}),{refetch:R}=(0,f.ib)({pathname:"/api/v1/subscription/email",auto:!1,method:"POST"});(0,a.d4)(()=>{!q&&(null==W?void 0:W.email_settings)&&L(new Set(Object.keys(W.email_settings).filter(e=>{var t;return"individual"===(null===(t=W.email_settings)||void 0===t?void 0:t[e])}).map(e=>Number(e))))},[q,W]);let Y=(0,a.I4)(async e=>{if(e&&e!==d){N(!0),k(null);try{await p().put("/api/v1/user/profile").send({name:e}),u(e)}catch(e){k((0,b.zx)(e)),console.error("Name update failed:",e)}finally{N(!1)}}},[d]),G=(0,a.I4)(async()=>{if(!(null==e?void 0:e.email))return{success:!1};M(!0);try{return await p().post("/api/v1/forgot").send({email:e.email,for_pub:null==t?void 0:t.subdomain,redirect:window.location.pathname}),n.popToast(e=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},e),{text:"Password reset email sent. Please check your inbox."}))),{success:!0}}catch(e){return console.error("Password reset failed:",e),n.popToast(t=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},t),{text:(0,b.zx)(e)}))),{success:!1}}finally{M(!1)}},[null==e?void 0:e.email,n]),K=(0,a.I4)(async(e,n)=>{if(e&&e!==B){if(e!==n){T("Email addresses do not match");return}F(!0),T(null);try{await p().put("/api/v1/user/email").send({email:e,email_doublecheck:n}),C(e),(0,b.uX)((0,x.ZPN)({redirect:"/subscribe?isSignInAttempt=true",for_pub:null==t?void 0:t.subdomain}))}catch(e){var r;(null===(r=e.response)||void 0===r?void 0:r.status)===403?T("This email is already associated with another account"):T((0,b.zx)(e)),console.error("Email update failed:",e)}finally{F(!1)}}},[B]),Q=(0,a.Ye)(()=>t?(0,y.tk)({pub:t,includeMainPub:!(0,w.HD)({pub:t}),excludePodcasts:(0,w.HD)({pub:t})}):[],[t]),$=(0,a.I4)(async(e,n)=>{if(!e||!t)return;let r=new Set(z);n?r.add(e):r.delete(e);try{await J({json:Q.reduce((t,r)=>(r.sectionId===e&&(t[r.sectionId]={setting:n?"individual":"disabled"}),t),{})}),n&&(null==W?void 0:W.email_disabled)&&(await R({json:{publication_id:t.id,email_disabled:!1,receive_podcast_emails:!0,source:"account_settings"}}),await V()),L(r)}catch(e){console.error("Failed to update newsletter subscription:",e)}},[t,z,Q,J,R,W,V]),ee=(0,a.I4)(async(e,n)=>{if(!t)return;let r="fromTheFreePress"===e?O:j.filter(e=>!O.includes(e)),i=new Set(z);r.forEach(e=>{n?i.add(e):i.delete(e)});try{let e=r.reduce((e,t)=>(e[t]={setting:n?"individual":"disabled"},e),{});await J({json:e}),n&&(null==W?void 0:W.email_disabled)&&(await R({json:{publication_id:t.id,email_disabled:!1,receive_podcast_emails:!0,source:"account_settings"}}),await V()),L(i)}catch(e){console.error("Failed to update newsletter group:",e)}},[t,O,j,z,J,R,W,V]),et=(0,a.I4)(async()=>{if(t&&e)try{let e=Q.filter(e=>e.sectionId).map(e=>e.sectionId);if(e.length>0){let t=e.reduce((e,t)=>(e[t]={setting:"disabled"},e),{});await J({json:t})}await R({json:{publication_id:t.id,email_disabled:!0,receive_podcast_emails:!1,source:"account_settings"}}),await V(),L(new Set),n.popToast(e=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},e),{text:"Successfully unsubscribed from all emails."})))}catch(e){console.error("Failed to unsubscribe from all emails:",e),n.popToast(t=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},t),{text:(0,b.zx)(e)})))}},[t,e,Q,J,R,V,n]),en=(0,a.I4)(async()=>{if(confirm(o("Are you sure? Time paid will not be refunded")))try{await p().del("/api/v1/subscription").send({force_now:!0}),n.popToast(e=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},e),{text:"Subscription cancelled successfully."}))),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Failed to delete subscription:",e),n.popToast(t=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},t),{text:(0,b.zx)(e)})))}},[o,n]),er=(0,a.I4)(async()=>{E(!0);try{await p().post("/api/v1/subscription/reactivate").send({}),n.popToast(e=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},e),{text:"Your subscription is set to renew."}))),await V()}catch(e){console.error("Failed to set to renew:",e),n.popToast(t=>(0,l.tZ)(_.FN,(0,i._)((0,r._)({},t),{text:(0,b.zx)(e)})))}finally{E(!1)}},[n,V]),ei=s()(Q,"sectionId"),el=t&&O?{name:"From The Free Press",newsletters:c()(O.map(e=>ei[e])).map(e=>(0,i._)((0,r._)({},e),{selected:z.has(e.sectionId||0),onToggle:t=>$(e.sectionId||0,t)}))}:{name:"From The Free Press",newsletters:[]},ea=t&&O?{name:"All",newsletters:c()(Q.filter(e=>e.sectionId).map(e=>(0,i._)((0,r._)({},e),{selected:z.has(e.sectionId||0),onToggle:t=>$(e.sectionId||0,t)})))}:{name:"All",newsletters:[]},eo=t&&j?{name:"Featured",newsletters:c()(j.filter(e=>!O.includes(e)).map(e=>ei[e])).map(e=>(0,i._)((0,r._)({},e),{selected:z.has(e.sectionId||0),onToggle:t=>$(e.sectionId||0,t)}))}:{name:"Featured",newsletters:[]},ec=(null==W?void 0:W.status)==="trialing",ed=null;return ec&&(W.current_period_end?ed=new Date(1e3*W.current_period_end):W.expiry&&(ed=new Date(W.expiry))),{name:d,email:B,updateName:Y,updateEmail:K,isUpdatingName:I,isUpdatingEmail:S,nameError:X,emailError:P,isSendingReset:A,handlePasswordChange:G,newsletters:{isLoading:q||H,fromTheFreePress:el,all:ea,featured:eo,updateNewsletter:$,updateNewsletterGroup:ee,unsubscribeFromAllEmails:et,pubEmailsDisabled:!!(null==W?void 0:W.email_disabled)},plan:null==W?void 0:W.plan,totalAmount:null==W?void 0:W.totalAmount,currency:null==W?void 0:W.currency,isLifetime:(null==W?void 0:W.type)==="lifetime"||(null==W?void 0:W.never_ends)||!1,isComped:(null==W?void 0:W.is_comped)||!1,isTrial:ec,giftCount:U,trialEnd:ed,canChangeSubscription:!!W&&(0,Z.Nf)(W),subscription:null!=W?W:void 0,renewing:D,onSetToRenew:er,onUnsubscribeNow:en}}},34288:function(e,t,n){n.d(t,{$:()=>b});var r=n(16584),i=n(98661);n(30396);var l=n(94184),a=n.n(l),o=n(95031),c=n(55438);n(97742);var d=n(58319),s=n(95441),u=n(45261),p=n(68833),m=n(58175),h=n(60308);n(6911);var g=n(81821),v=n(47929),f=n(8525);let b=(0,i.memo)(e=>{let{publication:t,user:n,path:i,hideTerms:l,showIntrinioAttrib:b}=e,{iString:_}=(0,s.M1)();void 0===l&&(l=!1);let y=(0,u.Tf)(),w=(0,g.tq)(),Z=(0,g.s)(),x=(0,g.Dt)(),B=n&&!n.reader_installed_at,C=w&&(Z||x)&&B;return(0,r.BX)("div",{className:"footer-wrap publication-footer",children:[(0,r.tZ)(d.Z,{onVisible:()=>{var e;(0,p.j)(p.FP.PUBLICATION_FOOTER_SEEN,{publication_id:null==t?void 0:t.id,user_id:null==n?void 0:n.id,source:(e=i)?"/"===e?"pub-homepage":e.startsWith("/p")?"pub-post":e:"unknown"})}}),(0,r.tZ)("div",{className:a()("footer",{"themed-background":y}),children:(0,r.BX)("div",{className:"container",children:[(0,r.tZ)(o._,{hideTerms:l,pub:t,showIntrinioAttrib:null!=b&&b}),(0,r.BX)("div",{className:"footer-buttons",children:[(0,r.BX)("a",{className:a()("footer-substack-cta","start-publishing",C&&"app-upsell"),native:!0,href:(null==n?void 0:n.has_publication)?"".concat((0,h.SVA)({subdomain:"your"}),"/publish"):"".concat((0,h.ZJn)(),"/signup?").concat((0,h.Y$Q)({utm_source:v.b3.substack,utm_medium:v.lP.web,utm_content:v.fZ.footer})),children:[(0,r.tZ)(c.Z,{})," ",_("Start writing")]}),!C&&(0,r.tZ)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,h.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton}),children:_("Get the app")}),C&&Z&&(0,r.tZ)("a",{className:f.Z.appBadge,href:(0,h.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton,force:"ios"}),children:(0,r.tZ)("img",{className:"app-upsell",src:(0,h.zF4)("/img/app_page/app-store.png",320)})}),C&&x&&(0,r.tZ)("a",{className:f.Z.appBadge,href:(0,h.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.webFooterButton,force:"android"}),children:(0,r.tZ)("img",{className:"app-upsell",src:(0,h.zF4)("/img/app_page/google-play.png",320)})})]}),(0,r.BX)(m.xv,{translated:!0,as:"div",className:"footer-slogan-blurb",children:[(0,r.tZ)("a",{href:"".concat((0,h.ZJn)()),native:!0,children:"Substack"})," ","is the home for great culture"]})]})})]})})},18355:function(e,t,n){n.d(t,{p:()=>o});var r=n(16584),i=n(25380),l=n(7523),a=n(19081);let o=e=>{let{checked:t,onChange:n,label:o,name:c,disabled:d=!1,preset:s="lg-preview-byline"}=e,u=()=>{d||n(!t)};return(0,r.BX)(a.gq,{alignItems:"center",as:"label",gap:16,children:[(0,r.tZ)(a.tu,{style:{width:"24px",height:"24px",border:"1px solid #000",borderRadius:"0",backgroundColor:"transparent",cursor:d?"not-allowed":"pointer",justifyContent:"center",alignItems:"center",flexShrink:0,opacity:d?.5:1},onClick:u,children:t&&(0,r.tZ)(i.Z,{color:"#000",size:16})}),(0,r.tZ)(l.Z,{preset:s,style:{fontWeight:400,lineHeight:"24px",margin:0,padding:0,transform:"translateY(-1px)",cursor:d?"not-allowed":"pointer",opacity:d?.5:1},onClick:u,children:o}),c&&(0,r.tZ)("input",{name:c,type:"hidden",value:t?"true":"false"})]})}},13561:function(e,t,n){n.d(t,{A:()=>f});var r=n(16584),i=n(6400),l=n(19425),a=n(12048),o=n(94184),c=n.n(o),d=n(50308),s=n.n(d),u=n(71375),p=n(347),m=n(15771),h=n(19081),g=n(27190),v=n(88e3);let f=e=>{let{children:t,disableCloseOnBackdropClick:n=!1,fullscreenMobile:o,hideCloseButton:d,initialFocus:f,isOpen:b,maxFullscreenMobile:_,overflow:y,testId:w="modal",width:Z=660,onClose:x=()=>void 0,onEscape:B}=e;return(0,r.tZ)(p.h,{children:(0,r.tZ)(l.u,{as:i.Fragment,show:b,children:(0,r.tZ)(a.V,{as:"div",className:"modal-Suw4en","data-testid":w,initialFocus:f,onClick:e=>e.stopPropagation(),onClose:n?s():x,onKeyDown:B?e=>{let{code:t}=e;B&&"Escape"===t&&B(e)}:void 0,onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),children:(0,r.BX)(g.Uv,{children:[(0,r.tZ)(g.sc,{children:(0,r.tZ)(g._n,{})}),(0,r.tZ)(v.Q,{children:(0,r.tZ)(v.l,{className:c()("modalBody-s4SL_V","the-free-press-theme"),fullscreenMobile:o,maxFullscreenMobile:_,overflow:y,width:Z,children:(0,r.tZ)(p.h,{children:(0,r.BX)(h.tu,{paddingTop:d?24:8,children:[!d&&(0,r.tZ)(h.gq,{justifyContent:"end",children:(0,r.tZ)(m.hU,{priority:"quaternary",onClick:x,children:(0,r.tZ)(u.Z,{})})}),t]})})})})]})})})})}},22526:function(e,t,n){n(16584);var r=n(6400);n(30396),(0,r.createContext)({publication:{},pub:{},setPublication:e=>{}}).displayName="PublishContext"},71e3:function(e,t,n){n.d(t,{A:()=>A});var r=n(16584),i=n(94184),l=n.n(i),a=n(30998),o=n.n(a),c=n(89734),d=n.n(c),s=n(55480),u=n(67749),p=n(20888),m=n(95441),h=n(68833),g=n(98422),v=n(71068),f=n(15771),b=n(19081),_=n(58175),y=n(63651);let w={containerVertical:"containerVertical-L_u6LQ",logoVertical:"logoVertical-p9LsNy",listenLink:"listenLink-UqdzU4"},Z=e=>{var t;let{label:n,openInNewTab:i,podcastSettings:a,section:o,sectionUrl:c,setupUrl:d,subscribeUrl:s,trackingSource:Z,user:x}=e,{iString:C}=(0,m.M1)(),{isMobile:I}=(0,g.v9)(),N=I?80:160,S=(0,v.oB)({radius:"md",width:N}),F=(null==x?void 0:x.is_subscribed)&&null!==(t=a.paidEpisodeArtUrl)&&void 0!==t?t:a.artUrl;return(0,r.BX)(b.gq,{direction:I?"column":"row",gap:I?12:24,children:[F&&(0,r.tZ)(p.e,{className:l()(S),src:(0,y.zF4)(F,2*N),maxWidth:N,useRetinaSizing:!0,imageIsFixedWidth:!0}),(0,r.BX)(b.tu,{gap:8,children:[(0,r.BX)(b.gq,{alignItems:"center",justifyContent:"space-between",children:[(0,r.tZ)(_.xv.B1,{as:"a",color:"pub-primary-text",font:"pub-headings",weight:"bold",href:c,rel:"noopener noreferrer",target:"_blank",children:a.title}),d&&(0,r.tZ)(f.zx,{priority:"secondary",size:"sm",href:d,newTab:i,onClick:()=>{(0,h.j)(h.FP.SET_UP_FEED_CLICKED,{section_id:o.id,source:Z})},children:C("Set up")})]}),n&&(0,r.BX)(b.gq,{gap:8,alignItems:"center",children:[(0,r.tZ)(B,{label:n}),"free-with-ads"===n&&s&&(0,r.tZ)(_.xv,{className:w.listenLink,color:"accent",font:"text",size:12,onClick:()=>{(0,h.j)(h.FP.LISTEN_AD_FREE_CLICKED,{section_id:o.id,source:Z}),i?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s},children:"Listen ad-free"})]}),(0,r.tZ)(_.xv.B3,{color:"pub-secondary-text",font:"text",children:a.description}),(0,r.tZ)("div",{children:(0,r.BX)(_.xv,{alignItems:"center",color:"accent",display:"inline-flex",font:"text",size:14,weight:"medium",gap:8,onClick:()=>{(0,h.j)(h.FP.SEE_ALL_EPISODES_CLICKED,{section_id:o.id,source:Z}),i?window.open(c,"_blank","noopener,noreferrer"):window.location.href=c},children:[(0,r.tZ)("span",{children:C("See all episodes")}),(0,r.tZ)(u.Z,{size:14})]})})]})]})},x=e=>{let{label:t,openInNewTab:n,podcastSettings:i,section:a,sectionUrl:o,trackingSource:c}=e,{iString:d}=(0,m.M1)(),s=(0,v.oB)({radius:"md"});return(0,r.BX)(b.tu,{className:w.containerVertical,border:"detail-themed",padding:20,radius:"md",gap:20,children:[(0,r.tZ)(b.gq,{justifyContent:"center",children:i.artUrl&&(0,r.tZ)(p.e,{className:l()(s,w.logoVertical),src:(0,y.zF4)(i.artUrl,440),maxWidth:164,useRetinaSizing:!0,imageIsFixedWidth:!0})}),(0,r.BX)(b.tu,{gap:12,children:[(0,r.BX)(b.tu,{gap:8,children:[(0,r.tZ)(_.xv.B1,{as:"a",color:"pub-primary-text",font:"pub-headings",href:o,rel:"noopener noreferrer",target:"_blank",weight:"bold",children:i.title}),t&&(0,r.tZ)(b.gq,{children:(0,r.tZ)(B,{label:t})}),(0,r.tZ)(_.xv.B3,{color:"pub-secondary-text",font:"text",children:i.description})]}),(0,r.tZ)("div",{children:(0,r.BX)(_.xv,{display:"inline-flex",alignItems:"center",gap:8,color:"accent",font:"text",size:14,weight:"medium",onClick:()=>{(0,h.j)(h.FP.SEE_ALL_EPISODES_CLICKED,{section_id:a.id,source:c}),n?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o},children:[(0,r.tZ)("span",{children:d("See all episodes")}),(0,r.tZ)(u.Z,{size:14})]})})]})]})},B=e=>{let{label:t}=e;return(0,r.tZ)(b.gq,{bg:"secondary",display:"inline-block",paddingX:6,radius:"sm",children:(0,r.tZ)(_.xv,{color:"pub-secondary-text",font:"text",size:12,weight:"semibold",lineHeight:20,children:"member-only"===t?"+ Member-only":"free-with-ads"===t?"Free with ads":"Free"})})};var C=n(46234),I=n(30733),N=n(24791),S=n(6070),F=n(60308),X=n(26111),k=n(47929);let P={twoColumnGrid:"twoColumnGrid-pq1MC7",mainColumn:"mainColumn-cft5kf",sideColumn:"sideColumn-FFh4jo"},T=k.b3.podcastsPage,A=e=>{let{idToMagicLink:t,pub:n,user:i}=e,{isMobile:a}=(0,g.v9)(),c=d()((0,N.hK)(n),e=>{var t;return null!==(t=o()(n.navigationBarItems,t=>t.section_id===e.id))&&void 0!==t?t:999}),u=!!(null==i?void 0:i.is_subscribed),p=!u&&!a,m=c.filter(e=>u||!(0,S.QI)({sectionId:e.id})),h=u?[]:c.filter(e=>(0,S.QI)({sectionId:e.id})),v=null==t?void 0:t[n.id];return v||(v=(0,F.tS3)(n,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:T}})),(0,r.tZ)(I.N,{columns:p?3:2,paddingTop:a?8:void 0,children:(0,r.BX)(b.hs,{className:l()({[P.twoColumnGrid]:p}),direction:p?"row":"column",gap:p?void 0:40,children:[!u&&(0,r.BX)(b.tu,{alignItems:a?"stretch":"start",className:P.sideColumn,gap:24,paddingLeft:p?32:void 0,children:[(0,r.BX)(b.tu,{gap:a?12:16,children:[(0,r.tZ)(_.xv.H2,{color:"pub-primary-text",font:"pub-headings",children:"Member-only Shows"}),(0,r.tZ)(C.B,{firehoseFeedUrl:v,pub:n,trackingSource:T,variant:"member-only"})]}),(0,r.tZ)(b.tu,{gap:a?16:24,children:h.map((e,l)=>{let o=(0,s.d_)({pub:n,section:e}),c=(null==t?void 0:t[e.id])||(0,F.tS3)(n,{section:e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:T}}),d=(0,y.Ucy)(n,{section:e,addBase:!0}),p=(0,S.hx)({sectionId:e.id})?"member-only":"free";return(0,r.BX)(r.HY,{children:[(0,r.tZ)(a?Z:x,{label:p,openInNewTab:!0,podcastSettings:o,section:e,sectionUrl:d,setupUrl:u?c:null,trackingSource:T,user:null!=i?i:null}),l!==h.length-1&&a&&(0,r.tZ)(b.gq,{borderBottom:"detail-themed"})]})})})]}),(0,r.BX)(b.tu,{className:P.mainColumn,gap:24,paddingRight:p?32:void 0,children:[(0,r.BX)(b.tu,{gap:a?12:16,children:[(0,r.BX)(_.xv.H2,{color:"pub-primary-text",font:"pub-headings",children:[n.name," Shows"]}),u&&(0,r.tZ)(C.B,{pub:n,firehoseFeedUrl:v,trackingSource:T})]}),(0,r.tZ)(b.tu,{gap:a?16:24,children:m.map((e,l)=>{let a=(0,s.d_)({pub:n,section:e}),o=(null==t?void 0:t[e.id])||(0,F.tS3)(n,{section:e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!i||!i.is_free_subscribed,params:{utm_source:T}}),c=(0,y.Ucy)(n,{section:e,addBase:!0}),d=(0,S.hx)({sectionId:e.id})?u?"member-only":"free-with-ads":"free";return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Z,{label:d,openInNewTab:!0,podcastSettings:a,section:e,sectionUrl:c,setupUrl:u?o:null,subscribeUrl:(0,F.W1P)(n,{utm_source:T,simple:!0,next:document.location.href,referring_pub_ids:(0,X.x)("referring_pub_ids"),addBase:!0}),trackingSource:T,user:null!=i?i:null}),l!==m.length-1&&(0,r.tZ)(b.gq,{borderBottom:"detail-themed"})]})})})]})]})})}},12844:function(e,t,n){n.d(t,{k:()=>m,w:()=>u});var r=n(16584),i=n(95441),l=n(15771),a=n(17352),o=n(19081),c=n(38841),d=n(58175),s=n(60308);let u=(e,t)=>{var n;return{logoUrl:e.podcast_art_url||e.logo_url||(0,s.cse)(),mainClickUrl:(0,s.UVC)({pub:e,section:null,addBase:!0}),buttonClickUrl:t,name:e.podcast_title||e.name,description:null!==(n=e.podcast_description||e.hero_text)&&void 0!==n?n:void 0}},p=e=>{let{logoUrl:t,mainClickUrl:n,buttonClickUrl:s,name:u,description:p,showButton:m}=e,{iString:h}=(0,i.M1)();return(0,r.BX)(a.Z,{gap:12,direction:"row",alignItems:"center",padding:12,children:[t&&(0,r.tZ)(c.wk,{size:48,logoUrl:t}),(0,r.BX)(o.sg,{gap:2,flex:"grow",children:[(0,r.tZ)(d.xv.B3,{weight:"semibold",children:(0,r.tZ)(d.hh,{href:n,children:u})}),(0,r.tZ)(d.xv.B4,{color:"secondary",children:p})]}),m&&(0,r.tZ)(l.zx,{priority:"primary",href:s,newTab:!0,children:h("Set up")})]})},m=e=>{let{showButton:t,items:n}=e;return(0,r.tZ)(o.sg,{gap:12,children:n.map(e=>(0,r.tZ)(p,{logoUrl:e.logoUrl,mainClickUrl:e.mainClickUrl,buttonClickUrl:e.buttonClickUrl,name:e.name,description:e.description,showButton:t}))})}},86075:function(e,t,n){n.d(t,{u:()=>h});var r=n(7409),i=n(99282),l=n(98848),a=n(16584),o=n(98661),c=n(71068),d=n(15771);n(17352);var s=n(19081),u=n(58175);let p={size:20,color:"var(--color-fg-secondary)"},m={size:"sm",priority:"secondary-outline"};function h(e){var t,n,{icon:c,title:s,description:u,button:h}=e,_=(0,l._)(e,["icon","title","description","button"]);return(0,a.BX)(g,(0,i._)((0,r._)({},_),{children:[c?(t=c)&&(0,o.isValidElement)(t)?(0,o.cloneElement)(t,(0,r._)({},p,t.props)):t:null,(0,a.BX)(b,{children:[(0,a.tZ)(v,{children:s}),u&&(0,a.tZ)(f,{children:u})]}),h?(n=h)&&(0,o.isValidElement)(n)&&n.type===d.zx?(0,o.cloneElement)(n,(0,r._)({},m,n.props)):n:null]}))}function g(e){var{children:t}=e,n=(0,l._)(e,["children"]);return(0,a.tZ)(s.sg,(0,i._)((0,r._)({flex:"grow",alignItems:"center",justifyContent:"center",gap:12,padding:20,textAlign:"center"},n),{children:t}))}function v(e){let{children:t}=e;return(0,a.tZ)(u.xv.B4,{weight:"medium",color:"primary",children:t})}function f(e){let{children:t}=e;return(0,a.tZ)(u.xv.B4,{color:"secondary",children:t})}let b=(0,c.zo)({display:"flex",direction:"column",gap:2,maxWidth:400})},39198:function(e,t,n){n.d(t,{t:()=>o});var r=n(16584),i=n(61254),l=n(19081),a=n(58175);function o(e){let{children:t}=e;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(l.tu,{paddingY:4,paddingX:8,children:(0,r.tZ)(a.xv.B4,{color:"secondary",children:t})}),(0,r.tZ)(i.iz,{pullX:8})]})}},98591:function(e,t,n){n.d(t,{CX:()=>l}),n(16584);var r=n(98661);n(22526),n(48980);let i=(0,r.createContext)(null);function l(){let e=(0,r.useContext)(i);if(!e)throw Error("usePublishContext must be used within a PublishProvider");return e}},55533:function(e,t,n){n.d(t,{ld:()=>s,vJ:()=>d});var r=n(7409),i=n(99282),l=n(98848),a=n(16584);n(15771);var o=n(19081),c=n(58175);function d(e){var{title:t,body:n,children:c,spacing:d}=e,u=(0,l._)(e,["title","body","children","spacing"]);return(0,a.tZ)(o.tu,(0,i._)((0,r._)({flex:"grow",alignItems:"center",justifyContent:"center",padding:20},u),{children:(0,a.tZ)(s,{title:t,body:n,gap:d,children:c})}))}function s(e){let{title:t,body:n,children:r,gap:i}=e;return(0,a.BX)(o.tu,{gap:12,alignItems:"center",children:[(0,a.BX)(o.tu,{gap:null!=i?i:4,alignItems:"center",children:[(0,a.tZ)(c.xv.B3,{weight:"semibold",color:"primary",align:"center",children:t}),(0,a.tZ)(c.xv.B4,{color:"secondary",align:"center",children:n})]}),r]})}},20521:function(e,t,n){n.d(t,{x:()=>l});var r=n(98012);function i(e){var t;let n=[e.is_primary,(null===(t=e.publication)||void 0===t?void 0:t.author_id)===e.user_id,"admin"===e.role,"contributor"===e.role].map(e=>e?"0":"1").join("");return"".concat(n,"-").concat((0,r.Z)(e.created_at).valueOf())}function l(e){return e.slice(0).sort((e,t)=>i(e)>i(t)?1:-1)}}}]);