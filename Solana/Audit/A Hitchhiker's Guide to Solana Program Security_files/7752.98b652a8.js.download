"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["7752"],{23710:function(e,t,n){n.d(t,{Z:()=>r});let r={reactionsHoverZone:"reactionsHoverZone-nHxYxG",reactionsContainer:"reactionsContainer-uNTS8E",outgoing:"outgoing-xjlZZA",emojiGrid:"emojiGrid-yGGf1S",reaction:"reaction-BmRJjL",selected:"selected-T0p6AZ",nameCard:"nameCard-dZv34e",emojiBox:"emojiBox-hGb2ir",addReactButton:"addReactButton-j8HliB",emojiPopover:"emojiPopover-UcQl9N",show:"show-rCpI7T"}},93228:function(e,t,n){n.d(t,{Z:()=>a});var r=n(7409),o=n(99282),i=n(16584),l=n(64515);let a=e=>(0,i.BX)(l.l,(0,o._)((0,r._)({},e),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"},children:[(0,i.tZ)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080",fillRule:"evenodd",clipRule:"evenodd"}),(0,i.tZ)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080",fillRule:"evenodd",clipRule:"evenodd"})]}))},21465:function(e,t,n){n.d(t,{Z:()=>c});var r=n(7409),o=n(99282),i=n(98848),l=n(16584),a=n(64515);let c=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:c=1.5}=e,s=(0,i._)(e,["size","stroke","strokeWidth"]);return(0,l.tZ)(a.l,(0,o._)((0,r._)({},s),{name:"NoteCommentIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:c,strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.tZ)("path",{d:"M18.7502 11V7.50097C18.7502 4.73917 16.5131 2.50033 13.7513 2.50042L6.25021 2.50044C3.48848 2.5004 1.25017 4.73875 1.2502 7.50048L1.25021 10.9971C1.2502 13.749 3.47395 15.9836 6.22586 15.9971L6.82888 16V19.0182L12.1067 16H13.7502C16.5116 16 18.7502 13.7614 18.7502 11Z"})}))}},66289:function(e,t,n){n.d(t,{Z:()=>l});var r=n(7409),o=n(99282),i=n(16584);function l(e){return(0,i.tZ)("svg",(0,o._)((0,r._)({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-fg-secondary)"},e),{children:(0,i.BX)("g",{transform:"translate(0, -2)",children:[(0,i.tZ)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"}),(0,i.tZ)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,i.tZ)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]})}))}},68733:function(e,t,n){n.d(t,{Fm:()=>l,N1:()=>o,uk:()=>a,zN:()=>i});var r=n(30396);function o(e){let{fileType:t}=e;return t.startsWith("image/")}function i(e){let{fileType:t}=e;return t.startsWith("video/")}function l(e){let{onAddFiles:t,acceptFile:n}=e,o=(0,r.sO)(),i=(0,r.sO)(),[l,a]=(0,r.eJ)(!1),c=e=>Array.from(e.items).filter(e=>"file"===e.kind&&n({fileType:e.type})),s=e=>c(e).length>0,d=e=>{let{current:t}=i;t&&t===e.target&&(i.current=void 0,a(!1))};return{isDragging:l,props:{onDragEnter:e=>{let{current:t}=o,{target:n}=e;t&&n&&n instanceof HTMLElement&&(t===n||t.contains(n))&&e.dataTransfer&&(s(e.dataTransfer)||0===e.dataTransfer.items.length)&&(e.preventDefault(),i.current=n,a(!0))},onDragOver:e=>{i.current&&e.preventDefault()},onDragLeave:d,onDragEnd:d,onDrop:e=>{e instanceof DragEvent&&!e.defaultPrevented&&e.dataTransfer&&s(e.dataTransfer)&&0!==c(e.dataTransfer).length&&(e.preventDefault(),t(Array.from(e.dataTransfer.files)),a(!1),i.current=void 0)},ref:o}}}function a(e){let t=l(e),n=(0,r.sO)(!1);return(0,r.d4)(()=>{let{props:{onDragEnter:e,onDragOver:r,onDragLeave:o,onDragEnd:i,onDrop:l}}=t,a=document.body;t.props.ref.current=a;let c={dragenter:t=>{n.current||(n.current=!0,e(t))},dragover:r,dragleave:e=>{n.current&&(e.clientX<=0||e.clientX>=window.innerWidth||e.clientY<=0||e.clientY>=window.innerHeight)&&(n.current=!1,o(e))},dragend:e=>{n.current&&(n.current=!1,i(e))},drop:e=>{n.current&&(n.current=!1,l(e))}};for(let[e,t]of Object.entries(c))a.addEventListener(e,t);return()=>{for(let[e,t]of Object.entries(c))a.removeEventListener(e,t)}},[]),t}},21685:function(e,t,n){n.d(t,{J:()=>f});var r=n(7409),o=n(99282),i=n(98848),l=n(16584),a=n(94184),c=n.n(a),s=n(98661),d=n(62372),u=n(6651);let f=e=>{var{className:t="",children:n,layerClassName:a,inputRef:f,hideOnScroll:h=!1,autofocus:p=!1,onClose:C,onOpen:Z}=e,v=(0,i._)(e,["className","children","layerClassName","inputRef","hideOnScroll","autofocus","onClose","onOpen"]);let[k,m]=(0,s.useState)(!1),g=()=>{k||(m(!0),null==Z||Z())},w=()=>{k&&(m(!1),null==C||C())},y=function(e){let{open:t,onClose:n,disabled:i,possiblePlacements:a=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:f,snap:h=!1,onOpen:p,content:C,className:Z,layerOptions:v,closeOnOutsideClick:k=!0}=e,m=(0,s.useRef)(!1);(0,s.useEffect)(()=>{t&&!m.current&&p&&(m.current=!0,p())},[t,p]);let{triggerProps:g,layerProps:w,renderLayer:y}=(0,d.sJ)((0,r._)({isOpen:!i&&t,overflowContainer:!1,auto:!0,snap:h,possiblePlacements:a,placement:f,containerOffset:10,triggerOffset:8},k&&{onOutsideClick:()=>n()},f&&{placement:f},v));return{triggerProps:g,layer:t&&!i&&y((0,l.tZ)("div",(0,o._)((0,r._)({className:c()("popoverLayerForScrollDetection",u.Z.popoverBase,Z)},w),{children:"function"==typeof C?C({closePopover:n}):C})))}}((0,r._)({open:k,onClose:w,onOpen:g,hideOnScroll:h,className:a},v));return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&w()};return k&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[k,C]),function(e){let{hideOnScroll:t,handleClose:n,open:r}=e,o=(0,s.useCallback)(e=>{requestAnimationFrame(()=>{var o;let i=null===(o=e.target.classList)||void 0===o?void 0:o.contains("popoverLayerForScrollDetection");r&&t&&!i&&n()})},[t,n,r]);(0,s.useEffect)(()=>{if(t)return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[o,t])}({hideOnScroll:h,handleClose:w,open:k}),(0,s.useEffect)(()=>{k&&p&&f&&f.current&&f.current.focus({preventScroll:!0})},[k,p,f]),(0,l.BX)("div",(0,o._)((0,r._)({className:t},y.triggerProps),{onClick:e=>{k?w():g(),e.stopPropagation()},children:["function"==typeof n?n({isOpen:k}):n,y.layer]}))}},43681:function(e,t,n){n.d(t,{LM:()=>b,Wh:()=>N,gY:()=>E,kB:()=>_,oy:()=>M,wg:()=>H});var r=n(16584),o=n(39693),i=n.n(o),l=n(99869),a=n(77600),c=n(28596),s=n(51455),d=n(59154),u=n(79138),f=n(4473),h=n(39535),p=n(95441),C=n(93155),Z=n(15771),v=n(61254),k=n(36500),m=n(97434),g=n(40949),w=n(75419),y=n(60308),L=n(63651);let b=e=>{let{variant:t,url:n,onLinkClicked:o}=e,{iString:i}=(0,p.M1)(),l=()=>{window.open((0,L.n1t)("https://www.facebook.com/sharer/sharer.php",{u:n}),"_blank"),null==o||o("facebook")};return"icon"===t?(0,r.tZ)(Z.hU,{priority:"secondary-outline",onClick:l,children:(0,r.tZ)(u.Z,{size:20})}):(0,r.tZ)(k.sN,{leading:(0,r.tZ)(u.Z,{}),onClick:l,children:i("Share to Facebook")})},M=e=>{let{variant:t,url:n,twitterText:o,onLinkClicked:i}=e,{iString:l}=(0,p.M1)(),a=()=>{window.open((0,y.LaP)({url:n,text:o||""}),"_blank"),null==i||i("twitter")};return"icon"===t?(0,r.tZ)(Z.hU,{priority:"secondary-outline",onClick:a,children:(0,r.tZ)(h.Z,{size:20})}):(0,r.tZ)(k.sN,{leading:(0,r.tZ)(h.Z,{}),onClick:a,children:l("Share to X")})},E=e=>{let{variant:t,url:n,twitterText:o,onLinkClicked:i}=e,{iString:l}=(0,p.M1)(),a=()=>{window.open((0,y.xJ2)({text:o?"".concat(o,"\n").concat(n):null!=n?n:""}),"_blank"),null==i||i("bluesky")};return"icon"===t?(0,r.tZ)(Z.hU,{priority:"secondary-outline",onClick:a,children:(0,r.tZ)(d.Z,{size:20})}):(0,r.tZ)(k.sN,{leading:(0,r.tZ)(d.Z,{}),onClick:a,children:l("Share to Bluesky")})},N=e=>{let{variant:t,url:n,onLinkClicked:o}=e,{iString:i}=(0,p.M1)(),a=(0,g.y)(),c=()=>{n&&(a(n),null==o||o("copy"))};return"icon"===t?(0,r.tZ)(Z.hU,{priority:"secondary-outline",onClick:c,children:(0,r.tZ)(l.Z,{height:20})}):(0,r.tZ)(k.sN,{leading:(0,r.tZ)(l.Z,{}),onClick:c,children:i("Copy link")})},_=e=>{let{variant:t,url:n,onLinkClicked:o}=e,{iString:i}=(0,p.M1)(),l=(0,w.i3)(),a=()=>{l.open({restackUrl:n||""}),null==o||o("notes")};return"icon"===t?(0,r.tZ)(Z.hU,{priority:"secondary-outline",onClick:a,children:(0,r.tZ)(f.Z,{size:20})}):(0,r.tZ)(k.sN,{leading:(0,r.tZ)(f.Z,{}),onClick:a,children:i("Share to Notes")})},B=e=>{let{onLinkClicked:t,comment:n}=e,{iString:o}=(0,p.M1)(),{openModal:i,closeModal:l}=(0,C.dd)();return n?(0,r.tZ)(k.sN,{leading:(0,r.tZ)(a.Z,{}),onClick:()=>{null==t||t("embed"),i({children:(0,r.tZ)(s.I,{comment:n||void 0,onClose:l}),width:540})},children:o("Embed note")}):null},H=e=>{let{url:t,onLinkClicked:n}=e,o=b(e),l=E(e),a=M(e),c=N(e),s=_(e),d=B(e);return i()([c,(0,r.tZ)(j,{url:t,onShare:()=>{null==n||n("chat")}}),d,(0,r.tZ)(v.iz,{paddingX:8}),s,o,l,a])};function j(e){let{url:t,onShare:n}=e,{iString:o}=(0,p.M1)(),i=(0,m.B)();return(0,r.tZ)(k.sN,{leading:(0,r.tZ)(c.Z,{}),onClick:()=>{i.open({linkAttachmentUrl:t,source:"share_post"}),null==n||n()},children:o("Send as message")})}}}]);