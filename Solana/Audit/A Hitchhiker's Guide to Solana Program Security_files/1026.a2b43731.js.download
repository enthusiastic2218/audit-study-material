"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["1026"],{9970:function(e,t,i){if(i.d(t,{Z:()=>o}),2787!=i.j)var r=i(7409);if(2787!=i.j)var n=i(99282);if(2787!=i.j)var l=i(98848);var a=i(16584),s=i(64515);let o=2787!=i.j?e=>{var{size:t=20,fill:i="var(--color-fg-primary)"}=e,o=(0,l._)(e,["size","fill"]);return(0,a.tZ)(s.l,(0,n._)((0,r._)({},o),{name:"PlayIconFilled",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:i,children:(0,a.tZ)("path",{stroke:"none",d:"M5.04688 18.5527C5.4375 18.5527 5.76953 18.3965 6.16016 18.1719L17.5469 11.5898C18.3574 11.1113 18.6406 10.7988 18.6406 10.2812C18.6406 9.76367 18.3574 9.45117 17.5469 8.98242L6.16016 2.39063C5.76953 2.16602 5.4375 2.01953 5.04688 2.01953C4.32422 2.01953 3.875 2.56641 3.875 3.41602V17.1465C3.875 17.9961 4.32422 18.5527 5.04688 18.5527Z"})}))}:null},25956:function(e,t,i){i.d(t,{I:()=>H,s:()=>N});var r=i(7409),n=i(99282),l=i(98848),a=i(16584),s=i(30396),o=i(94184),d=i.n(o),c=i(59543),h=i(1548),u=i(3862),p=i(20888),m=i(24658),g=i(7523),Z=i(8845),v=i(95441),f=i(60807),b=i(25530),w=i(98422),_=i(15771),y=i(80026),B=i(19081),x=i(98012),I=i(63651),C=i(37175),X=i(24407);let N=e=>{let{theme:t,isMobile:i}=e;switch(t){case"full-width-image":return i?{height:620,width:350}:{height:880,width:1440};case"landscape-image":return i?{height:200,width:330}:{height:440,width:750};default:return i?{height:450,width:450}:{height:750,width:550}}},H=e=>{var{postTheme:t,inThreadHead:i}=e,n=(0,l._)(e,["postTheme","inThreadHead"]);if(!t||i)return(0,a.tZ)(M,(0,r._)({},n));let s=Y[t.header_variant];return s?(0,a.tZ)(s,(0,r._)({postTheme:t},n)):null},T=e=>{let{postTheme:t}=e,{setTheme:i}=(0,Z.T)();(0,s.d4)(()=>{i(null!=t?t:null)},[])},M=e=>{let{post:t,title:i,pub:r}=e;return T({postTheme:null}),(0,a.BX)(B.tu,{paddingBottom:24,children:[(0,a.tZ)(g.Z,{preset:"h4-sans-condensed",children:i}),(0,a.tZ)(R,{post:t,preset:"lg-preview-byline",pub:r})]})},k={black:"primary",white:"white",red:"accent"},F=e=>{var t,i,r;let{postTheme:n,imageHeight:l,imageWidth:s,aspectRatio:o,post:c,pub:h}=e,u=null!==(t=n.post_preview_crop_gravity)&&void 0!==t?t:"auto",m=n.cover_image_caption?(0,C.toHtml)(JSON.stringify(n.cover_image_caption),!1,{postId:null!==(i=null==c?void 0:c.id)&&void 0!==i?i:null,pubId:null!==(r=null==h?void 0:h.id)&&void 0!==r?r:null}):null;return n.cover_image?(0,a.BX)("figure",{className:d()(X.Z.headerImageContainer,X.Z["".concat(n.header_variant,"-container")]),children:[(0,a.tZ)(p.e,{className:X.Z.headerImage,imageProps:{smartCrop:!0,gravity:u,height:l},maxWidth:null!=s?s:l/o,src:n.cover_image,style:{aspectRatio:o}}),m?(0,a.tZ)("figcaption",{children:(0,a.tZ)(B.gq,{justifyContent:"end",paddingTop:8,children:(0,a.tZ)(g.Z,{dangerouslySetInnerHTML:{__html:m},preset:"caption"})})}):null]}):null},R=e=>{let{post:t,pub:i,fontColor:l="accent",showThemedMeta:s=!0,preset:o="article-byline"}=e,{iString:d,language:c}=(0,v.M1)(),{isMobile:p}=(0,w.v9)();return(0,a.tZ)(y.xu,{paddingTop:24,children:(0,a.tZ)(u.E,{className:X.Z.bylineWrapper,hideFaces:!0,hideMeta:!0,post:t,pub:i,renderBylines:e=>{let{publishedBylines:u,getLinkProps:m}=e;return(0,a.tZ)(B.hs,{alignItems:"baseline",className:X.Z.bylineContainer,direction:{mobile:"row",desktop:"column"},gap:8,justifyContent:"space-between",wrap:"wrap",children:"article-byline"===o?(0,a.BX)(a.HY,{children:[(0,a.BX)(g.Z,{color:l,preset:"article-byline",children:[d("By "),(0,a.tZ)(h.M,{array:u,formatter:e=>m(e).href?(0,a.tZ)(g.Z,(0,n._)((0,r._)({as:"a"},m(e)),{color:l,native:!0,preset:"article-byline",children:e.name})):(0,a.tZ)(g.Z,{as:"span",color:l,preset:"article-byline",children:e.name}),limit:4})]}),s&&(0,a.tZ)(B.hs,{direction:{mobile:"row",desktop:"column"},paddingTop:16*!p,children:(0,a.BX)(g.Z,{preset:"timestamp",children:[(0,x.Z)(t.post_date).locale(c).format("MM.DD.YY"),t.section?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(g.Z,{as:"a",href:(0,I.Ucy)(i,{section:t.section}),preset:"timestamp",children:t.section.name})]}):null]})})]}):(0,a.BX)(g.Z,{color:l,preset:o,children:[d("By "),(0,a.tZ)(h.M,{array:u,formatter:e=>m(e).href?(0,a.tZ)(g.Z,(0,n._)((0,r._)({as:"a"},m(e)),{color:l,preset:o,children:e.name})):(0,a.tZ)(g.Z,{as:"span",color:l,preset:o,children:e.name}),limit:4})," — ",(0,x.Z)(t.post_date).locale(c).format("MM.DD.YY")]})})}})})},Y={"portrait-image":e=>{let{post:t,postTheme:i,title:r,subtitle:n,pub:l}=e,{isMobile:s}=(0,w.v9)(),{isPrint:o}=(0,b.v)(),d=(0,f.aF)();T({postTheme:i});let{height:c,width:h}=N({isMobile:s,theme:null==i?void 0:i.header_variant});return(0,a.BX)(a.HY,{children:[(0,a.BX)(B.hs,{className:X.Z.customThemeHeader,direction:s?"column":"row",children:[(0,a.BX)(B.tu,{justifyContent:"center",children:[(0,a.BX)(B.tu,{gap:16*!!s,children:[(0,a.tZ)(g.Z,{preset:o?"h2-serif":s?"h1-text":"h1-serif",children:null!=r?r:t.is_draft?t.draft_title:t.title}),(0,a.tZ)(y.xu,{paddingTop:24*!s,children:(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:n})})]}),(0,a.tZ)(B.tu,{gap:16,children:(0,a.tZ)(R,{post:t,pub:l})})]}),(0,a.tZ)(F,{aspectRatio:h/c,imageHeight:c,imageWidth:h,post:t,postTheme:i,pub:l})]}),(0,a.tZ)(m.R,{post:t,pub:l,user:d,variant:"newsletter-post"})]})},"landscape-image":e=>{let{post:t,postTheme:i,pub:r,title:n,subtitle:l}=e,{isMobile:s}=(0,w.v9)();T({postTheme:i});let o=(0,f.aF)(),{isPrint:d}=(0,b.v)(),{width:c,height:h}=N({isMobile:s,theme:i.header_variant}),u=c/h;return(0,a.BX)(a.HY,{children:[(0,a.BX)(B.tu,{className:X.Z.customThemeHeader,children:[(0,a.tZ)(g.Z,{preset:d?"h2-serif":"h1-serif",children:n}),s&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l}),(0,a.BX)(B.hs,{direction:s?"column-reverse":"row",gap:s?8:40,children:[(0,a.tZ)(F,{aspectRatio:u,imageHeight:c/u,imageWidth:c,post:t,postTheme:i,pub:r}),(0,a.BX)(B.tu,{flex:"fill",justifyContent:"space-between",paddingBottom:12,children:[!s&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l}),(0,a.tZ)(B.tu,{gap:16,children:(0,a.tZ)(R,{post:t,pub:r})})]})]})]}),(0,a.tZ)(m.R,{post:t,pub:r,user:o,variant:"newsletter-post"})]})},"full-width-image":e=>{var t,i,r;let{post:n,pub:l,postTheme:s,title:o,subtitle:d}=e,{isMobile:c}=(0,w.v9)();T({postTheme:s});let{isPrint:h}=(0,b.v)(),{language:u}=(0,v.M1)(),p=(0,f.aF)(),{width:Z}=N({isMobile:c,theme:s.header_variant}),_=null===(t=s.variant_config)||void 0===t?void 0:t.fullWidthImage,C=(null==_?void 0:_.hideOverlay)||!1,H=(null==_?void 0:_.hideSectionLink)||!1,M=null!==(r=k[null!==(i=null==_?void 0:_.textColor)&&void 0!==i?i:"white"])&&void 0!==r?r:"white";return(0,a.BX)(a.HY,{children:[(0,a.tZ)(B.hs,{alignItems:"center",className:X.Z.fullWidthImageHeader,direction:"column",justifyContent:c?"end":"center",style:{backgroundImage:"".concat(C?"":"linear-gradient(rgba(22, 22, 19, 0.65), rgba(22, 22, 19, 0.65))").concat(s.cover_image?"".concat(C?"":", ","url(").concat((0,I.zF4)(s.cover_image,2*Z,{quality:"auto:best",smartCrop:!0}),")"):"")},children:(0,a.BX)(B.tu,{alignItems:"center",className:X.Z.fullWidthHeaderContent,justifyContent:c?"start":"center",paddingX:c?32:40,children:[(0,a.tZ)(B.hs,{direction:{mobile:"row",desktop:"column"},paddingBottom:c?56:64,paddingTop:16*!c,children:(0,a.BX)(g.Z,{color:M,preset:"timestamp",children:[(0,x.Z)(n.post_date).locale(u).format("MM.DD.YY"),n.section&&!H?(0,a.BX)(a.HY,{children:[" — ",(0,a.tZ)(g.Z,{as:"a",color:M,href:(0,I.Ucy)(l,{section:n.section}),preset:"timestamp",children:n.section.name})]}):null]})}),(0,a.BX)(B.tu,{alignItems:"center",gap:24,children:[(0,a.tZ)(g.Z,{color:M,preset:h?"h3-condensed":"h1-sans",children:o}),(0,a.tZ)(y.xu,{className:X.Z.fullWidthHeaderSubtitle,children:(0,a.tZ)(g.Z,{color:M,preset:"d1-serif",children:d})})]}),(0,a.tZ)(B.tu,{alignItems:"center",paddingTop:c?32:120,children:(0,a.tZ)(R,{fontColor:M,post:n,pub:l,showThemedMeta:!1})})]})}),(0,a.tZ)(m.R,{post:n,pub:l,user:p,variant:"newsletter-post"})]})},title_and_image_only:e=>{let{post:t,pub:i,postTheme:r,title:n,subtitle:l}=e,{isMobile:s}=(0,w.v9)();T({postTheme:r});let o=(0,f.aF)(),{iString:h}=(0,v.M1)(),u=(null==o?void 0:o.is_contributor)&&(null==t?void 0:t.id)?(0,a.tZ)(_.zx,{href:(0,I.ANx)(i,t.id,{params:{back:document.location.href}}),leading:(0,a.tZ)(c.Z,{size:20}),localNavigation:!1,priority:"secondary",children:h("Edit")}):null;return(0,a.tZ)("div",{className:X.Z.titleAndImageContainer,children:(0,a.BX)(B.tu,{gap:s?24:40,paddingBottom:64,children:[(0,a.tZ)("div",{className:d()(X.Z.titleAndImageHeader,{[X.Z.noImage]:!r.cover_image}),children:s?(0,a.BX)(B.tu,{gap:24,children:[u&&(0,a.tZ)(B.gq,{alignSelf:"start",children:u}),(0,a.tZ)(g.Z,{preset:"h1-serif",children:n}),r.cover_image&&(0,a.tZ)(B.gq,{children:(0,a.tZ)(p.e,{className:X.Z.image,imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})}),l&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l})]}):(0,a.BX)(a.HY,{children:[(0,a.BX)(B.tu,{children:[u&&(0,a.tZ)(B.gq,{alignSelf:"start",children:u}),(0,a.tZ)(g.Z,{preset:"h1-serif",children:n}),(0,a.tZ)(B.tu,{gap:24,children:l&&(0,a.tZ)(g.Z,{preset:"d1-sans-regular",children:l})})]}),r.cover_image&&(0,a.tZ)(B.gq,{justifyContent:"end",children:(0,a.tZ)(p.e,{imageIsFixedWidth:!0,maxWidth:540,src:r.cover_image,useRetinaSizing:!0})})]})}),(0,a.tZ)("div",{className:X.Z.thickRule})]})})}}},33224:function(e,t,i){i.d(t,{lF:()=>l,ld:()=>s,up:()=>r,xm:()=>n}),i(94654);let r=e=>{let{finishedSelection:t,transcriptionRows:i}=e,r=i[t.begin.rowIndex],n=i[t.finish.rowIndex],l=r.words[t.begin.wordIndex],a=n.words[t.finish.wordIndex];return{start:l.start,end:a.end}},n=e=>{let{startRow:t,endRow:i,startOffset:r,endOffset:n,startNodeText:l,endNodeText:a}=e,s=0!==r&&" "!==l[r-1]&&" "!==l[r],o=l.slice(0,r).trim(),d=0===o.length?0:o.split(/\s+/).length-+!!s,c=t.words[d],h=a.slice(0,n).trim().split(/\s+/).length,u=i.words[h-1];return{start:c.start,end:u.end}},l=e=>{let{selectStart:t,selectEnd:i,alignedRows:r}=e,n=e=>{var t;let{rowIndex:i,offset:n,text:l}=e,a=r[i];a||console.error("Row at index",i,"does not exist");let s=l.slice(0,n).trim().split(/\s+/).length;(s<1||s>a.words.length)&&console.error("Calculated number of words",s,"is out of bounds");let o=a.words[s-1];return"number"!=typeof o.originalIndex&&console.error("Word's original index is not a number",o.originalIndex),null!==(t=null==o?void 0:o.originalIndex)&&void 0!==t?t:0};return[n(t),n(i)]},a=e=>e<.5?2*e*e:-1+(4-2*e)*e,s=e=>{let{virtualizedListRef:t,start:i,end:r,duration:n}=e,l=performance.now(),s=e=>{let o=e-l,d=a(Math.min(o/n,1));t.current&&(t.current.scrollTo(i+(r-i)*d),o<n&&requestAnimationFrame(s))};requestAnimationFrame(s)}},69891:function(e,t,i){i.d(t,{n:()=>g});var r=i(7409),n=i(99282),l=i(98848),a=i(16584),s=i(49550),o=i(23279),d=i.n(o),c=i(98661),h=i(95441),u=i(15771),p=i(80026),m=i(20392);function g(e){var{tabs:t,value:i,onChange:o,ariaLabel:u}=e,g=(0,l._)(e,["tabs","value","onChange","ariaLabel"]);let{iString:v}=(0,h.M1)(),b=(0,c.useRef)(null),w=(0,c.useRef)(null),_=t.findIndex(e=>e.value===i);return(0,c.useLayoutEffect)(()=>{let e=e=>{let t=w.current,i=b.current;if(!i||!t||e<0)return;let r=i.getElementsByClassName(m.Z.tab)[e];if(!r)return;let n=r.getBoundingClientRect(),l=i.getBoundingClientRect();requestAnimationFrame(()=>{t.style.setProperty("--highlight-width","".concat(n.width,"px")),t.style.setProperty("--highlight-x","".concat(n.left-l.left,"px"))})},t=()=>e(_);t();let i=b.current,r=new ResizeObserver(d()(t,200));return i&&r.observe(i),()=>{r.disconnect()}},[_,t]),(0,a.tZ)(s.O.Group,{manual:!0,selectedIndex:-1===_?0:_,onChange:e=>{var i;let r=null===(i=t[e])||void 0===i?void 0:i.value;void 0!==r&&o(r)},children:(0,a.tZ)(s.O.List,(0,n._)((0,r._)({as:p.X2,className:m.Z.container,height:40,position:"relative",ref:b,"aria-label":null!=u?u:"".concat(v("Tabs"))},g),{children:()=>(0,a.BX)(a.HY,{children:[t.map((e,t)=>(0,a.tZ)(Z,{tab:e,children:e.label},e.value)),(0,a.tZ)(f,{ref:w})]})}))})}function Z(e){let{tab:t,children:i}=e;return(0,a.tZ)(s.O,{as:c.Fragment,children:()=>(0,a.BX)(u.kG,{position:"relative",className:m.Z.tab,radius:"xs",resetCss:!0,gap:6,showFocus:!0,animate:!0,userSelect:"none",children:[t.leadingIcon,(0,a.tZ)(v,{children:i}),t.trailingIcon]})})}let v=e=>{let{children:t}=e;return(0,a.tZ)(p.xv.B4,{as:"span",weight:"semibold",size:14,ellipsis:!0,animate:!0,children:t})},f=(0,p.zo)({position:"absolute",className:m.Z.highlight})}}]);