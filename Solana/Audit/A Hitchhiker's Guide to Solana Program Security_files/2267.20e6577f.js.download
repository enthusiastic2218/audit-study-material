"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2267"],{26935:function(e,t,n){n.d(t,{Z:()=>o});let o={buttonBase:"buttonBase-GK1x3M",buttonText:"buttonText-X0uSmG",grow:"grow-R0h_fk",size_xs:"size_xs-Q62jAa",sizeXs:"size_xs-Q62jAa",size_sm:"size_sm-G3LciD",sizeSm:"size_sm-G3LciD",size_md:"size_md-gCDS3o",sizeMd:"size_md-gCDS3o",size_lg:"size_lg-A_bUNK",sizeLg:"size_lg-A_bUNK",buttonStyle:"buttonStyle-r7yGCK",loading:"loading-ddiesl",rounded:"rounded-SYxRdz",priority_primary:"priority_primary-RfbeYt",priorityPrimary:"priority_primary-RfbeYt","priority_primary-mono":"priority_primary-mono-P_CW5x",priorityPrimaryMono:"priority_primary-mono-P_CW5x",priority_secondary:"priority_secondary-S63h9o",prioritySecondary:"priority_secondary-S63h9o","priority_secondary-accent":"priority_secondary-accent-WwlIuq",prioritySecondaryAccent:"priority_secondary-accent-WwlIuq","priority_secondary-destructive":"priority_secondary-destructive-xg9221",prioritySecondaryDestructive:"priority_secondary-destructive-xg9221","priority_secondary-outline":"priority_secondary-outline-MgyjoK",prioritySecondaryOutline:"priority_secondary-outline-MgyjoK",priority_tertiary:"priority_tertiary-rlke8z",priorityTertiary:"priority_tertiary-rlke8z","priority_tertiary-accent":"priority_tertiary-accent-_S602l",priorityTertiaryAccent:"priority_tertiary-accent-_S602l",priority_quaternary:"priority_quaternary-kpMibu",priorityQuaternary:"priority_quaternary-kpMibu",priority_destructive:"priority_destructive-NKsm9Q",priorityDestructive:"priority_destructive-NKsm9Q",media:"media-XfKJl4",textButton:"textButton-CeUBxU",iconButtonBase:"iconButtonBase-dJGHgN buttonBase-GK1x3M",iconButton:"iconButton-mq_Et5 iconButtonBase-dJGHgN buttonBase-GK1x3M",buttonSpinner:"buttonSpinner-GMiUY5"}},87900:function(e,t,n){n.d(t,{Z:()=>m});var o=n(7409),i=n(99282),r=n(16584),a=n(6400),l=n(68833),s=n(59176),c=n(98914),u=n(60308),d=n(26111);let p="domain-redirect-time";class m extends a.Component{componentDidMount(){let e=this.loadedWithLikelyLoggedInParam()?"param":null;e&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:e}):this.useIframe()&&window.addEventListener("message",e=>this.handleFrameMessage(e)),(0,c.iO)("triedSigningIn")}shouldBlockLoginRedirect(){var e;let t=parseInt((0,s.mM)(p,0));return this.state.block_auto_login||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||this.state.user||"undefined"==typeof window||Date.now()-t<=864e5||this.state.triedSigningIn}handleFrameMessage(e){var t,n,o;if((null===(t=e.data)||void 0===t?void 0:t.type)!=="frame-state")return;let i=!this.shouldBlockLoginRedirect()&&(null===(n=e.data)||void 0===n?void 0:n.loggedInAtSubstack);(0,l.j)(l.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:null===(o=e.data)||void 0===o?void 0:o.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:i}),i&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect(){var e;let{source:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.j)(l.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:"param"===t,source:t}),(0,s.ex)(p,"".concat(Date.now()));let n=(0,u.YZ5)({useOriginalUrl:!0});this.props.initialData.hide_intro_popup&&(n=(0,u.rhs)(n,{hide_intro_popup:!0})),location.href=(0,u.uXE)({for_pub:null===(e=this.state.pub)||void 0===e?void 0:e.subdomain,justTrying:!0,redirect:n})}loadedWithLikelyLoggedInParam(){return"undefined"!=typeof window&&window._preloads.original_url&&!!(0,d.x)(window._preloads.original_url,"lli")}useIframe(){var e,t,n;return!("undefined"==typeof window||this.loadedWithLikelyLoggedInParam()||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||(0,u.fF3)(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:t.href))}render(){return this.useIframe()?(0,r.tZ)("iframe",{src:"".concat((0,u.ZJn)(),"/channel-frame"),className:"channel-frame",width:"0",height:"0"}):null}constructor(e,t){super(e,t),this.state=(0,i._)((0,o._)({},e.initialData),{triedSigningIn:(0,d.x)("triedSigningIn")})}}},35047:function(e,t,n){n.d(t,{ZP:()=>q,sv:()=>j});var o=n(7409),i=n(99282),r=n(58865),a=n(16584),l=n(98661),s=n(30396),c=n(94184),u=n.n(c),d=n(36808),p=n(2564),m=n(71375),f=n(91925),h=n(12620),g=n(64343),_=n(21312),v=n(20888),b=n(75744),y=n(57391),w=n(95441),S=n(56629),E=n(40647),N=n(35702),A=n(68833),k=n(98914),T=n(71068),P=n(15771),I=n(19081),x=n(38841),C=n(58175),U=n(64528),Z=n(55722),R=n(74312),M=n(34590),B=n(31377),L=n(60308),D=n(26111),F=n(6911),O=n(70408),V=n(84864),z=n(47929),H=n(31190);function W(){let e=(0,r._)(["By ",""]);return W=function(){return e},e}let G="intro_popup_last_hidden_at";function j(e){let{includePrice:t=!0,includeRankingDetail:o=!0,includeByline:i=!0,includeBadge:r=!1,rankingDetailOverrideText:l=null,language:s="en"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s||e.language,{iTemplate:u}=I18N.i(s||e.language),d=(0,V.getByLine)(e),p=null;return o&&(p=l||(e.rankingDetailByLanguage&&"en"!==c&&e.rankingDetailByLanguage[c]?e.rankingDetailByLanguage[c].rankingDetail:e.rankingDetail)),(0,a.BX)(U.N,{separator:" \xb7 ",children:[i&&d?(0,a.BX)(I.hs,{inline:!0,gap:4,children:[u(W(),d),r&&(0,a.tZ)(R.cr,{module:"../pencraft/unstable/UserBadge",resolve:e=>e.UserBadge,onRequest:()=>Promise.all([n.e("565"),n.e("6384")]).then(n.bind(n,87989)),size:"sm",tier:e.author_bestseller_tier,userId:e.author_id,whileLoading:e.author_bestseller_tier?(0,a.tZ)(I.hs,{alignItems:"center",children:(0,a.tZ)(Z.o,{size:"sm",tier:e.author_bestseller_tier})}):(0,a.tZ)(a.HY,{})})]}):null,p,t&&function(e,t){let{language:n}=t,o=!e.disable_monthly_subscriptions&&e.plans&&e.plans.filter(e=>"month"===e.interval).sort((e,t)=>e.amount-t.amount)[0],i=!e.disable_annual_subscriptions&&e.plans&&e.plans.filter(e=>"year"===e.interval).sort((e,t)=>e.amount-t.amount)[0],r=o||i;if(r)return(0,M.bP)(r,{language:n})}(e,{language:s})]})}let q=(0,l.memo)(e=>{var t,n,r;let{publication:l,user:c,post:u,onHide:p,freeSignup:m,hidden:h,alwaysShow:g,showOnMount:_,freeSignupEmail:v,email:b,referralCode:w,blurbs:T,launchWelcomePage:P,topThreePosts:I,topThreeSubscribers:x}=e,{getConfigFor:C}=(0,E.xR)(),U=C("welcome_page_query_params"),[Z,R]=(0,s.eJ)(!1),[M,F]=(0,s.eJ)(!!(P||g)),O=(e,t)=>{var n;return U&&null!==(n=(0,D.x)(e))&&void 0!==n?n:t},[H]=(0,s.eJ)(O("no_skip",void 0)),[W]=(0,s.eJ)(O("no_blurbs",!1)),[j]=(0,s.eJ)(()=>{let e=O("hero_text",void 0);return e?decodeURIComponent(e):void 0}),{getExperimentVariant:q,exposeExperiment:Y}=(0,y.jc)(),{getSettingFor:Q}=(0,S.So)(),$=null!==(t=(0,D.x)("force"))&&void 0!==t?t:void 0;(0,s.d4)(()=>{let e=e=>{"Escape"===e.key&&eo(!0)};if(M)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[M]),(0,s.d4)(()=>{if(P&&!ei()||et()){if("undefined"!=typeof window&&(0,k.cn)(document.documentElement,"has-intro-popup"),(0,D.x)("r")){let e=(0,D.x)("r");c&&(0,V.userReferralKey)(c)===e||(0,A.j)(A.FP.COVER_PAGE_REFERRAL_VISIT,{referral_key:e,referring_user:(0,V.userFromReferralKey)(e)})}ee()}else p&&p(),(0,N.a)({hide_intro_popup:!0}),"undefined"!=typeof window&&(0,k.IV)(document.documentElement,"has-intro-popup"),!g&&"undefined"!=typeof window&&(0,k.pv)(document.documentElement,"show-intro-popup")&&(0,k.IV)(document.documentElement,"show-intro-popup");return["no_skip","no_blurbs","hero_text","hide_intro_popup"].forEach(e=>(0,k.iO)(e)),()=>{"undefined"!=typeof window&&(0,k.IV)(document.documentElement,"has-intro-popup"),eo(!0)}},[]);let ee=()=>{"undefined"==typeof window||((0,k.cn)(document.documentElement,"show-intro-popup"),(0,A.j)(A.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!l.cover_photo_url,has_free_signup_email:!!v,has_free_signup:!!m,functional_version:!0,launch_welcome_page:P,always_show:g,hidden:h,screen_height:"undefined"!=typeof window?window.innerHeight:null,screen_width:"undefined"!=typeof window?window.innerWidth:null,test_experiment_variant_v5:q("test_experiment_v5")}),Y("test_experiment_v5"),g||(0,A.XY)("pageview",{dl:"".concat(document.location.origin,"/welcome").concat(document.location.search)})),F(!0)},et=(0,s.I4)(()=>!!g||!h&&(!!_||!!Z||!ei()&&!!(null==u||u&&!(0,B.isPaidAudience)(u.audience))&&!m&&(!c||!c.is_free_subscribed&&!c.is_subscribed)),[g,m,h,u,_,Z,c]),en=Q("display_welcome_page_details")&&l.freeSubscriberCount&&!(0,k.K1)()&&!$&&!l.invite_only&&!w&&!l.custom_domain&&(null==I?void 0:I.length)&&(null==x?void 0:x.length)&&!H&&!j;(0,s.d4)(()=>{M&&et()&&en&&Y("welcome_page_update_desktop_visuals_limited")},[Y,Q,en,et,M]);let eo=e=>{e||(er(),setTimeout(()=>{(0,N.a)({hide_intro_popup:!0})},500)),p&&p(),!g&&"undefined"!=typeof window&&(0,k.pv)(document.documentElement,"show-intro-popup")&&(0,k.IV)(document.documentElement,"show-intro-popup")},ei=()=>{let e=d.get(G);return!!(e&&new Date(e)>new Date(Date.now()-864e5))},er=()=>{d.set(G,new Date().toJSON(),{expires:3650})},ea=async e=>{(0,A.j)(A.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!e.body.prompt_to_login,has_plans:!!l.plans,functional_version:!0,homepage_type:l.homepage_type}),er(),R(!0),(0,N.a)({freeSignup:!0,freeSignupEmail:e.body.email});let t=g?"/":document.location.href;e.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,L.n1t)("/account/login",{redirect:t,email:e.body.email})},30):document.location.href=(0,L.n1t)("/subscribe",(0,i._)((0,o._)({next:t,later:!0,just_signed_up:!0},e.body.subscription_id&&{subscription_id:e.body.subscription_id},e.body.referral_token&&{referral_token:e.body.referral_token}),{requires_confirmation:e.body.requires_confirmation?"true":"",utm_source:z.b3.coverPage,email:e.body.email,skip_redirect_check:!0}))},el=()=>{(0,A.j)(A.FP.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),eo()};if(!M||!et())return null;let es=(0,a.tZ)(K,{source:"cover_page",email:b,pub:l,user:null!=c?c:null,freeSignup:m,freeSignupEmail:v,referralCode:w,forceSignup:null!==(r=null!==(n=(0,D.x)("force"))&&void 0!==n?n:H)&&void 0!==r?r:void 0,onMaybeLater:H?void 0:el,onFreeSignup:ea,blurbs:T,hideBlurbs:W,overrideSubtitle:j});if(en)switch(q("welcome_page_update_desktop_visuals_limited")){case"treatment_social_proof":es=(0,a.tZ)(J,{email:b,pub:l,user:null!=c?c:null,freeSignup:m,freeSignupEmail:v,onMaybeLater:el,onFreeSignup:ea,blurbs:T,topThreeSubscribers:x});break;case"treatment_large_fonts":es=(0,a.tZ)(X,{email:b,pub:l,user:null!=c?c:null,freeSignup:m,freeSignupEmail:v,onMaybeLater:el,onFreeSignup:ea,blurbs:T})}return(0,a.tZ)(f.s,{children:(0,a.tZ)("div",{className:"intro-popup",children:(0,a.tZ)("div",{className:"intro-popup-page",children:es})})})}),J=e=>{var t,i,r,l,c;let{pub:d,user:p,email:m,freeSignup:f,freeSignupEmail:y,onMaybeLater:E,onFreeSignup:N,blurbs:k,topThreeSubscribers:P}=e,U="cover_page",Z=(0,s.qp)(S.vz),{iString:M,language:B}=(0,w.M1)(),{title:D,subtitle:F,logoUrl:V,coverPhotoUrl:z,hideTitle:W,hideSubtitle:G}=Y(d),q=z&&(0,L.zJH)(z),J=q&&q.width/q.height,X=!!(J&&J<2),K=!W||z&&X,Q=!G||z&&X;(0,s.d4)(()=>{(0,A.j)(A.FP.FULL_EMAIL_FORM_SHOWN,{source:U,functional_version:!0,version:"social-proof"})},[U]);let ee=k?k.filter(e=>""!=e.description):[],et=j(d,{includePrice:!1,includeBadge:!0,includeRankingDetail:!1,language:B});return(0,a.BX)("div",{className:"full-email-form",children:[(0,a.BX)("div",{className:"vertically-centered",children:[(0,a.tZ)($,{onClick:E}),z?X?null:(0,a.tZ)(T.xu,{paddingBottom:48,children:(0,a.tZ)(v.e,{className:H.Z.publicationCoverPhotoCenter,src:z,imageProps:{quality:"auto:best"},maxWidth:840,loading:"eager",style:(0,o._)({},q&&q.width&&{height:"min(168px, ".concat(840*q.height/q.width,"px)")}),imageIsFixedWidth:!0})}):V&&(0,a.tZ)(T.xu,{paddingBottom:32,children:(0,a.tZ)(x.wk,{logoUrl:V,size:88})}),(0,a.BX)(I.hs,{gap:48,children:[(0,a.BX)(I.tu,{className:X?H.Z.column:H.Z.centeredColumn,gap:32,children:[(0,a.BX)(I.tu,{gap:16,children:[K?(0,a.tZ)(C.xv.H1,{textAlign:X?"left":"center",font:"pub-headings",className:H.Z.coverPrimary,textWrap:"balance",children:D}):null,Q?(0,a.tZ)(C.xv.B3,{textAlign:X?"left":"center",font:"display",size:15,lineHeight:20,className:H.Z.coverSecondary,textWrap:"balance",children:F}):null,et&&(null===(l=et.props)||void 0===l?void 0:null===(r=l.children)||void 0===r?void 0:null===(i=r.filter)||void 0===i?void 0:null===(t=i.call(r,Boolean))||void 0===t?void 0:t.length)?(0,a.tZ)(C.xv.B2,{textAlign:X?"left":"center",weight:"semibold",font:"display",size:17,lineHeight:24,className:H.Z.coverSecondary,children:et}):null]}),(0,a.BX)(I.tu,{gap:16,children:[(0,a.BX)(I.hs,{alignItems:"center",alignSelf:X?"start":"center",gap:8,children:[(0,a.tZ)(I.hs,{alignItems:"center",className:u()(H.Z.faces),children:P.map((e,t)=>{let{id:o,photo_url:i}=e,r=(0,a.tZ)(v.e,{className:u()(H.Z.face,0===t&&H.Z.first,t===P.length-1&&H.Z.last),style:{zIndex:P.length-t},maxWidth:80,src:(0,L.zF4)(i||(0,O.I4)(o),64),imageIsFixedWidth:!0});return(0,a.tZ)(R.cr,{module:"@/frontend/components/ProfileHoverCard",resolve:e=>e.ProfileHoverCard,onRequest:()=>Promise.all([n.e("8173"),n.e("135"),n.e("6566"),n.e("9293"),n.e("565"),n.e("7493"),n.e("5924"),n.e("7337"),n.e("640"),n.e("1262"),n.e("8523"),n.e("9918")]).then(n.bind(n,85685)),whileLoading:r,subject:e,dontStopPropagation:!1,disabled:!1,placement:"top-start",children:r})})}),d.freeSubscriberCount?(0,a.BX)(C.xv.H3,{font:"display",weight:"semibold",size:20,lineHeight:24,className:H.Z.coverPrimary,translated:!0,children:["Join over ",I18N.p(d.freeSubscriberCount)," subscribers"]}):null]}),(0,a.tZ)(h.Z,{email:m,isWelcomePageColor:!0,freeSignup:f,freeSignupEmail:y,pub:d,source:U,user:p,onConfirmationRequired:"enabled"===d.payments_state?()=>null:void 0,onSuccess:N||(()=>document.location.href="/"),autoFocus:!0,className:H.Z.containerClassName,promptClassName:H.Z.promptClassName,inputClassName:H.Z.inputClassName,subscribeButtonClassName:H.Z.subscribeButtonClassName}),(0,a.BX)(I.hs,{gap:4,cursor:"pointer",alignItems:"center",alignSelf:X?"start":"center",inline:!0,onClick:E,children:[(0,a.tZ)(C.xv.B3,{style:{color:"var(--cover_print_secondary)"},children:"No thanks"===Z.getSettingFor("welcome_page_opt_out_text")?M("No thanks"):null!==(c=Z.getSettingFor("welcome_page_opt_out_text"))&&void 0!==c?c:M("No thanks")}),(0,a.tZ)(g.Z,{height:18,stroke:"var(--cover_print_secondary)",strokeWidth:2})]})]})]}),z&&X?(0,a.tZ)(I.tu,{className:u()(H.Z.column,H.Z.hideColumnSmallScreens),gap:32,children:(0,a.tZ)(v.e,{className:H.Z.publicationCoverPhotoRight,src:z,imageProps:{quality:"auto:best"},maxWidth:476,loading:"eager",imageIsFixedWidth:!0})}):null]}),!!(null==ee?void 0:ee.length)&&(0,a.tZ)("div",{className:"blurb-buffer"}),!!(null==ee?void 0:ee.length)&&(0,a.tZ)(I.gq,{className:"blurbs",gap:20,children:ee.map(e=>(0,a.BX)(I.tu,{gap:8,className:"blurb",children:[(0,a.tZ)(C.xv.B4,{className:"blurb-text",children:(0,a.tZ)(_.Z,{maxLines:4,ellipsesText:"...”",text:"“".concat(e.description,"”")})}),(0,a.BX)(C.xv.B4,{weight:"semibold",className:"blurb-text",children:[e.author_name||e.recommendingPublication.email_from_name||e.recommendingPublication.copyright,", ",(0,a.tZ)("a",{href:(0,L.SVA)(e.recommendingPublication),children:e.recommendingPublication.name})]})]}))})]}),(0,a.tZ)(b.fJ,{publication:d})]})},X=e=>{var t;let{pub:n,user:i,email:r,freeSignup:l,freeSignupEmail:c,onMaybeLater:d,onFreeSignup:p,blurbs:m}=e,f="cover_page",y=(0,s.qp)(S.vz),{getSettingFor:E}=(0,S.So)(),{iString:N,language:k}=(0,w.M1)(),{title:P,subtitle:U,logoUrl:Z,coverPhotoUrl:R,hideTitle:M,hideSubtitle:B}=Y(n),D=R&&(0,L.zJH)(R),F=D&&D.width/D.height,O=!!(F&&F<2),V=!M||R&&O,z=!B||R&&O;(0,s.d4)(()=>{(0,A.j)(A.FP.FULL_EMAIL_FORM_SHOWN,{source:f,functional_version:!0,version:"large-fonts"})},[f]);let W=m?m.filter(e=>""!=e.description):[],G=E("display_welcome_page_details");return(0,a.BX)("div",{className:"full-email-form",children:[(0,a.BX)("div",{className:"vertically-centered",children:[(0,a.tZ)($,{onClick:d}),R?O?null:(0,a.tZ)(T.xu,{paddingBottom:48,children:(0,a.tZ)(v.e,{className:H.Z.publicationCoverPhotoCenter,src:R,imageProps:{quality:"auto:best"},maxWidth:840,loading:"eager",style:(0,o._)({},D&&D.width&&{height:"min(168px, ".concat(840*D.height/D.width,"px)")}),imageIsFixedWidth:!0})}):Z&&(0,a.tZ)(T.xu,{paddingBottom:32,children:(0,a.tZ)(x.wk,{logoUrl:Z,size:88})}),(0,a.BX)(I.hs,{gap:48,children:[(0,a.BX)(I.tu,{className:O?H.Z.largeColumn:H.Z.largeCenteredColumn,gap:32,children:[(0,a.BX)(I.tu,{gap:16,children:[V?(0,a.tZ)(C.xv.H1,{textAlign:O?"left":"center",font:"pub-headings",className:u()(H.Z.coverPrimary,H.Z.largeHeading),textWrap:"balance",children:P}):null,z?(0,a.tZ)(C.xv.B3,{textAlign:O?"left":"center",font:"display",size:15,lineHeight:20,className:u()(H.Z.coverSecondary,H.Z.largeSubHeading),textWrap:"balance",children:U}):null,(0,a.tZ)(C.xv.B2,{textAlign:"left",weight:"semibold",font:"display",size:17,lineHeight:24,className:H.Z.coverSecondary,alignSelf:O?"start":"center",children:j(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:!!G,language:k})})]}),(0,a.BX)(I.tu,{gap:16,children:[(0,a.tZ)(h.Z,{email:r,isWelcomePageColor:!0,freeSignup:l,freeSignupEmail:c,pub:n,source:f,user:i,onConfirmationRequired:"enabled"===n.payments_state?()=>null:void 0,onSuccess:p||(()=>document.location.href="/"),autoFocus:!0,className:H.Z.containerClassName,promptClassName:H.Z.largePromptClassName,inputClassName:H.Z.largeInputClassName,inputWrapperClassName:H.Z.largeInputWrapperClassName,subscribeButtonClassName:H.Z.largeSubscribeButtonClassName}),(0,a.BX)(I.hs,{gap:4,cursor:"pointer",alignItems:"center",alignSelf:"center",inline:!0,onClick:d,children:[(0,a.tZ)(C.xv.B1,{size:20,lineHeight:30,weight:"semibold",style:{color:"var(--cover_print_secondary)"},children:"No thanks"===y.getSettingFor("welcome_page_opt_out_text")?N("No thanks"):null!==(t=y.getSettingFor("welcome_page_opt_out_text"))&&void 0!==t?t:N("No thanks")}),(0,a.tZ)(g.Z,{height:18,stroke:"var(--cover_print_secondary)",strokeWidth:2})]})]})]}),R&&O?(0,a.tZ)(I.tu,{className:u()(H.Z.largeColumn,H.Z.hideLargeColumnSmallScreens),gap:32,children:(0,a.tZ)(v.e,{className:H.Z.largePublicationCoverPhotoRight,src:R,imageProps:{quality:"auto:best"},maxWidth:568,loading:"eager",imageIsFixedWidth:!0})}):null]}),!!(null==W?void 0:W.length)&&(0,a.tZ)("div",{className:"blurb-buffer"}),!!(null==W?void 0:W.length)&&(0,a.tZ)(I.gq,{className:"blurbs",gap:20,children:W.map(e=>(0,a.BX)(I.tu,{gap:8,className:"blurb",children:[(0,a.tZ)(C.xv.B4,{className:"blurb-text",children:(0,a.tZ)(_.Z,{maxLines:4,ellipsesText:"...”",text:"“".concat(e.description,"”")})}),(0,a.BX)(C.xv.B4,{weight:"semibold",className:"blurb-text",children:[e.author_name||e.recommendingPublication.email_from_name||e.recommendingPublication.copyright,", ",(0,a.tZ)("a",{href:(0,L.SVA)(e.recommendingPublication),children:e.recommendingPublication.name})]})]}))})]}),(0,a.tZ)(b.fJ,{publication:n})]})},K=e=>{var t;let{autoFocus:i=!0,pub:r,user:l,email:c,freeSignup:d,freeSignupEmail:m,referralCode:f,source:g,forceSignup:v,submitButtonText:b,onMaybeLater:y,onFreeSignup:E,blurbs:N,hideBlurbs:k,overrideSubtitle:T}=e,x=(0,s.qp)(S.vz),{iString:U}=(0,w.M1)(),Z=(0,D.x)("referralCode"),M=(0,D.x)("refSource"),B=U("Learn More"),O=(0,L.d6h)(r,{params:(0,o._)({utm_source:z.b3.subscribeEmail,utm_content:z.fZ.learnMore},Z&&{referralCode:Z},M&&{refSource:M})});(0,s.d4)(()=>{"subscribe_page"===g&&(0,A.j)(A.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,A.j)(A.FP.FULL_EMAIL_FORM_SHOWN,{source:g,functional_version:!0})},[g]);let V=N&&!k?N.filter(e=>""!=e.description):[];return(0,a.tZ)("div",{className:"full-email-form",children:(0,a.BX)("div",{className:"vertically-centered",children:[y&&!r.invite_only&&(0,a.tZ)($,{onClick:y}),(0,a.tZ)(Q,{pub:r,overrideSubtitle:T}),!r.invite_only||l&&l.is_free_subscribed?(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.gq,{justifyContent:"center",style:{width:"100%"},children:(0,a.BX)(I.tu,{gap:4,style:{width:"100%",maxWidth:"380px"},children:[(0,a.tZ)(h.Z,{email:c,isWelcomePageColor:!0,freeSignup:d,freeSignupEmail:m,pub:r,referralCode:f,source:g,submitButtonText:b,user:l,onConfirmationRequired:"enabled"===r.payments_state?()=>null:void 0,onSuccess:E||(()=>document.location.href="/"),autoFocus:i}),(0,a.BX)(C.xv.B4,{paddingX:{mobile:16,desktop:0},paddingTop:16,className:H.Z.tosText,translated:!0,children:["By subscribing, I agree to Substack’s"," ",(0,a.tZ)("a",{className:H.Z.tosLink,href:(0,F._Q)(),target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," ","and acknowledge its"," ",(0,a.tZ)("a",{className:H.Z.tosLink,href:(0,F.WF)(),target:"_blank",rel:"noopener noreferrer",children:"Information Collection Notice"})," ","and"," ",(0,a.tZ)("a",{className:H.Z.tosLink,href:(0,F.Zz)(),target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})]})]})}),!v&&(y?(0,a.tZ)("a",{onClick:e=>e.preventDefault(),className:"no-styles",children:(0,a.BX)(P.zx,{priority:"quaternary",className:H.Z.maybeLater,onClick:y,"data-testid":"maybeLater",children:["No thanks"===x.getSettingFor("welcome_page_opt_out_text")?U("No thanks"):null!==(t=x.getSettingFor("welcome_page_opt_out_text"))&&void 0!==t?t:U("No thanks"),(0,a.tZ)(p.Z,{size:20})]})}):(0,a.BX)(P.zx,{priority:"quaternary",className:H.Z.maybeLater,href:O,localNavigation:!1,children:[B,(0,a.tZ)(p.Z,{size:20})]}))]}):(0,a.tZ)(R.cr,{onRequest:()=>n.e("2457").then(n.bind(n,51323)),resolve:e=>e.InviteActions,module:"./InviteActions",pub:r,user:l,freeSignupEmail:m}),!!(null==V?void 0:V.length)&&(0,a.tZ)("div",{className:"blurb-buffer"}),!!(null==V?void 0:V.length)&&(0,a.tZ)(I.gq,{className:"blurbs",gap:20,children:V.map(e=>(0,a.BX)(I.tu,{gap:8,className:"blurb",children:[(0,a.tZ)(C.xv.B4,{className:u()("blurb-text",H.Z.blurbText),children:(0,a.tZ)(_.Z,{maxLines:4,ellipsesText:"...”",text:"“".concat(e.description,"”")})}),(0,a.BX)(C.xv.B4,{weight:"semibold",className:u()("blurb-text",H.Z.blurbText),children:[e.author_name||e.recommendingPublication.email_from_name||e.recommendingPublication.copyright,", ",(0,a.tZ)("a",{href:(0,L.SVA)(e.recommendingPublication),children:e.recommendingPublication.name})]})]}))})]})})},Y=(e,t)=>{let n,o,i,r,a,l;let{getConfigFor:s}=(0,E.xR)();if(s("section_specific_welcome_pages")&&e.section){var c;n=e.section.name,o=e.section.description,i=null!==(c=e.section.logo_url)&&void 0!==c?c:e.logo_url,a=!!((r=e.section.cover_photo_url)&&e.section.hide_intro_title),l=!!(r&&e.section.hide_intro_subtitle)}else n=e.name,o=e.hero_text,i=e.logo_url,a=!!((r=e.cover_photo_url)&&e.hide_intro_title),l=!!(r&&e.hide_intro_subtitle);return t&&(o=t),{title:n,subtitle:o,logoUrl:i,coverPhotoUrl:r,hideTitle:a,hideSubtitle:l}},Q=e=>{let{pub:t,overrideSubtitle:n}=e,{getSettingFor:i}=(0,S.So)(),{language:r}=(0,w.M1)(),{title:l,subtitle:s,logoUrl:c,coverPhotoUrl:d,hideTitle:p,hideSubtitle:m}=Y(t,n),f=i("display_welcome_page_details"),h=d&&(0,L.zJH)(d);return(0,a.BX)(a.HY,{children:[d?(0,a.tZ)(v.e,{className:"publication-cover-photo",src:d,imageProps:{quality:"auto:best"},maxWidth:1360,loading:"eager",style:(0,o._)({},h&&h.width&&{height:"min(35vh, ".concat(680*h.height/h.width,"px)")})}):c&&(0,a.tZ)(T.xu,{paddingBottom:32,children:(0,a.tZ)(x.wk,{logoUrl:c,size:88})}),!p&&(0,a.tZ)("h1",{className:u()("publication-name",{"no-logo":!c,"with-cover":d},H.Z.balancedText),children:l}),!m&&s&&(0,a.tZ)("p",{className:u()("publication-tagline with-cover",{verbose:!0,"with-cover":d},H.Z.balancedText),children:s}),(0,a.tZ)("div",{className:"publication-meta",children:j(t,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:t.rankingDetailFreeSubscriberCount,includeRankingDetail:!!f,language:r})})]})},$=e=>{let{onClick:t}=e;return(0,a.tZ)(P.hU,{onClick:t,"aria-label":"Close","data-testid":"close-welcome-modal",priority:"tertiary",className:H.Z.closeWelcomeModal,children:(0,a.tZ)(m.Z,{size:20})})}},20253:function(e,t,n){n.d(t,{GP:()=>v,Rx:()=>y,UD:()=>_,ZP:()=>S,lQ:()=>g});var o=n(27412),i=n(7409),r=n(99282),a=n(98848),l=n(16584),s=n(6400),c=n(94184),u=n.n(c),d=n(37168),p=n(68833),m=n(48980),f=n(58175),h=n(84864);function g(e,t){if("undefined"==typeof window||void 0===window.Stripe)return null;let n={};return t&&t.stripe_user_id?h.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(t.stripe_country)&&(n.stripeAccount=t.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(e,n)}function _(e){return e.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}},disableLink:!0})}class v extends s.Component{componentDidMount(){!this.props.disabled&&(this.props.element&&this.props.element.mount(this.elementContainer),this.props.addressElement&&this.props.addressElement.mount(this.addressContainer))}componentDidUpdate(e){this.props.disabled||(this.props.element&&!e.element&&this.props.element.mount(this.elementContainer),this.props.addressElement&&!e.addressElement&&this.props.addressElement.mount(this.addressContainer))}componentWillUnmount(){try{this.props.element&&this.props.element.unmount(this.elementContainer),this.props.addressElement&&this.props.addressElement.unmount(this.addressContainer)}catch(e){}}render(e){let{className:t,element:n,isPaymentElement:o,addressElement:i,disabled:r}=e;return n||o?(0,l.BX)("div",{className:u()("fancy-stripe",t,{"payment-element":o}),children:[i&&(0,l.tZ)("div",{ref:this.assignAddressContainer,style:{paddingBottom:"24px"}}),(0,l.tZ)("div",{ref:this.assignElementContainer}),r&&(0,l.tZ)(f.xv.B4,{translated:!0,color:"error",children:"This type of purchase is currently unavailable in your region."})]}):null}constructor(...e){super(...e),(0,o._)(this,"elementContainer",void 0),(0,o._)(this,"addressContainer",void 0),(0,o._)(this,"assignElementContainer",e=>{this.elementContainer=e}),(0,o._)(this,"assignAddressContainer",e=>{this.addressContainer=e})}}class b extends s.Component{async componentDidMount(){let e=!1;if(this.state.paymentRequest){try{let t=await this.state.paymentRequest.canMakePayment();t&&t.applePay&&(e=!0)}catch(e){console.error(e)}(0,p.j)(p.FP.APPLE_PAY_SETUP_FINISHED,{success:e})}if(await this.setState({canMount:e}),e){if(this.button||await new Promise(e=>setTimeout(e,0)),!this.state.stripeButton){console.error("stripeButton not ready");return}if(this.state.stripeButton.mount(this.button),!this.state.paymentRequest){console.error("paymentRequest not ready");return}this.state.paymentRequest.on("token",e=>this.onTokenReceived(e)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}else this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)}componentDidUpdate(e){let t=!1;for(let i of["pub","plan","quantity","coupon","notRecurring","variableAmount"]){var n,o;if(e[i]!==this.props[i]||"coupon"===i&&e[i]&&(null===(n=e[i])||void 0===n?void 0:n.loading)&&(!this.props[i]||!(null===(o=this.props[i])||void 0===o?void 0:o.loading))){t=!0;break}}t&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(e){}}async onTokenReceived(e){(0,p.j)(p.FP.APPLE_PAY_ATTEMPED);try{if(!this.props.onSuccess){console.error("No onSuccess handler for Apple Pay");return}await this.props.onSuccess({email:e.payerEmail,name:e.payerName,stripe_token:e.token}),e.complete("success"),(0,p.j)(p.FP.APPLE_PAY_SUCCEEDED)}catch(t){console.error("Apple Pay submission failed:",e,t),e.complete("fail"),(0,p.j)(p.FP.APPLE_PAY_FAILED,{reason:t.message})}}getPaymentTotal(){var e,t,n,o;let i;let{pub:r,plan:a,quantity:l,coupon:s,notRecurring:c,variableAmount:u}=this.props,d=0,p=Math.max(0,a.trial_period_days||0,s&&!s.error&&!s.loading&&s.trial_period_days||0,r.trial_end_override&&Math.ceil((r.trial_end_override-Date.now()/1e3)/60/60/24));c&&(p=0);let m=((null===(e=a.metadata)||void 0===e?void 0:e.founding)?null!==(t=u||a.amount)&&void 0!==t?t:0:null!==(n=a.amount)&&void 0!==n?n:0)*(l||1),f=m;return s&&!s.error&&!s.loading&&(s.percent_off?f=Math.round(f*(1-(s.percent_off_precise||s.percent_off)/100)):s.amount_off&&(f=Math.max(0,f-s.amount_off)),f<=0&&(f=m,"once"===s.duration?"year"===a.interval?d+=12*a.interval_count:d+=a.interval_count:"repeating"===s.duration&&(d+=null!==(o=s.duration_in_months)&&void 0!==o?o:0))),c?i="one-time":(i="".concat(this.props.plan.interval,"ly"),this.props.quantity>1&&(i+=" per person"),d?(p>15&&(d+=Math.floor(p/30)),i+=" with ".concat(d,"-month trial")):p&&(i+=" with ".concat(p,"-day trial"))),{label:i,amount:f}}render(e,t){let{children:n,className:o,error:i}=e,{canMount:r}=t;return void 0===r||r||"undefined"==typeof window?(0,l.BX)("div",{className:"apple-pay-parent-container",children:[r?(0,l.tZ)("div",{className:"apple-pay-element ".concat(o||""),ref:this.assignButton}):(0,l.tZ)("p",{className:"apple-pay-loader ".concat(o||""),children:"Loading…"}),i&&(0,l.tZ)("div",{className:"error",children:i}),n]}):null}constructor(e,t){if(super(e,t),(0,o._)(this,"button",void 0),(0,o._)(this,"assignButton",e=>{this.button=e}),e.stripe&&e.pub.stripe_country){(0,p.j)(p.FP.APPLE_PAY_SETUP_STARTED);try{let t=e.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),n=e.stripe.elements().create("paymentRequestButton",{paymentRequest:t});this.state={paymentRequest:t,stripeButton:n}}catch(e){console.error(e),(0,p.j)(p.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}}class y extends s.Component{render(e,t){var{children:n,ref:o,defaultValue:r}=e,s=(0,a._)(e,["children","ref","defaultValue"]);return(0,l.BX)("div",{className:"fancy-input",children:[(0,l.tZ)("input",(0,i._)({ref:this.assignInput,defaultValue:r},s)),n]})}blur(){this._input&&this._input.blur()}constructor(...e){super(...e),(0,o._)(this,"_input",void 0),(0,o._)(this,"assignInput",e=>{this._input=e})}}class w extends s.Component{getInputs(){let e=[];if(this.base)for(let t of Array.from(this.base.getElementsByTagName("*")))["INPUT","TEXTAREA","SELECT"].includes(t.nodeName)&&t.getAttribute("name")&&"g-recaptcha-response"!==t.id&&e.push(t);return e}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){for(let e of(this.resetErrors(),this.getInputs()))e.blur&&e.blur(),"checkbox"===e.type?e.checked=!1:"select"===e.type?e.selectedIndex=-1:"radio"===e.type?e.checked=!1:"target"in e&&e.target?e.target.value="":e.value=""}handleStripeChange(e){let{error:t}=e;t?this.setState({_stripeError:t.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",e=>this.handleStripeChange(e))}componentDidUpdate(e){let{country:t,currency:n,email:o,name:r,pub:a,stripeClientSecret:l,stripeElementAppearance:s,themeVariables:c,useStripePaymentElement:u}=this.props;if(u){var d,p;if(e.useStripePaymentElement||(null===(d=this._stripeCardOrPaymentElement)||void 0===d||d.destroy(),this._stripeCardOrPaymentElement=null),l!==e.stripeClientSecret){if(l){this.setState({loading:!0});let e=this.props.isPlatformCustomer?this._stripe:this._connectedStripe;if(!e){console.error("Stripe instance not available in componentDidUpdate");return}({elements:this._stripeElements,addressElement:this._stripeAddressElement,paymentElement:this._stripeCardOrPaymentElement}=function(e,t){let{withAddressElement:n=!1,currency:o,email:r,name:a,country:l,stripeElementAppearance:s={},themeVariables:{color_theme_accent:c,color_theme_bg_contrast_1:u,print_on_pop:d,print_on_web_bg_color:p,print_secondary_on_web_bg_color:m}={},disableWallets:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h={clientSecret:t,currency:o,appearance:(0,i._)({theme:"flat",variables:{borderRadius:"8px",colorBackground:u||void 0,colorPrimary:c||"rgb(255, 103, 25)",accessibleColorOnColorPrimary:d||void 0,colorText:p||void 0,colorTextPlaceholder:m||void 0,colorTextSecondary:m||void 0}},s),locale:window._preloads&&window._preloads.language||"auto"},g=e.elements(h);return{elements:g,addressElement:n?g.create("address",{mode:"billing",defaultValues:{name:a,address:{country:l}}}):void 0,paymentElement:g.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:r,name:a,address:{country:l}}},wallets:f?{applePay:"never",googlePay:"never"}:void 0,terms:{card:"never",applePay:"never",googlePay:"never"}})}}(e,l,{withAddressElement:(null==a?void 0:a.stripe_country)==="IN",currency:n,email:o,name:null!=r?r:void 0,country:t,stripeElementAppearance:s,themeVariables:c,disableWallets:!1})),this.setState({loading:!1})}else e.stripeClientSecret&&(null===(p=this._stripeCardOrPaymentElement)||void 0===p||p.destroy(),this._stripeCardOrPaymentElement=null)}}}componentWillUnmount(){this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.destroy()}onInputBlur(e){this.props.analyticsName&&this._mountTime&&new Date().getTime()-this._mountTime.getTime()>1e3&&e.target&&e.target.value&&!e.target._blurTracked&&((0,p.j)("".concat(this.props.analyticsName," Input Filled"),{name:e.target.name}),e.target._blurTracked=!0)}async onPaymentRequestAttempt(e){let t=await this.handleSubmitAsync(null,e);if(t)throw t}handleSubmit(e){e&&e.preventDefault(),this.handleSubmitAsync(e).catch(e=>{console.error(e)})}async handleSubmitAsync(e){let t,n,o,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.preventDefault(),this.props.analyticsName&&(0,p.j)("".concat(this.props.analyticsName," Submit Pressed")),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});let a=null;if(this.stripeElement&&!r.stripe_token&&!this.props.useStripePaymentElement){let{token:e=null,error:t}=this._stripe?await this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(e)a=e;else{this.setState({loading:!1,_stripeError:t&&t.message}),this.props.analyticsName&&(console.log("error",t),(0,p.j)("".concat(this.props.analyticsName," Missing Payment"),{type:t&&t.type,code:t&&t.code,decline_code:t&&t.decline_code,reason:t&&t.message}));return}}if(this.stripeElement&&this.props.useStripePaymentElement){var l,s,c,u=this;if(t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u.props.isPlatformCustomer?u._stripe:u._connectedStripe;if(!t){console.error("Stripe instance not available");return}if(!u._stripeElements){console.error("Stripe elements not available");return}return t.confirmSetup({elements:u._stripeElements,redirect:"if_required",confirmParams:e})},!this.props.performSubmit){let{setupIntent:e}=await t();if(e)n=e.payment_method;else{this.setState({loading:!1});return}}}let d={};for(let e of this.getInputs())if(e.blur&&e.blur(),"checkbox"==e.type)d[e.name]=!!e.checked;else if("radio"==e.type)e.checked&&(d[e.name]=e.value);else if("select"===e.type){let t=e.options[e.selectedIndex];t?d[e.name]=t.value:console.error("No selected option in select element")}else d[e.name]=e.value;if(Object.keys(r).forEach(e=>{!d[e]&&r[e]&&(d[e]=r[e])}),a?d.stripe_token=a:n&&(d.paymentMethodId=n),this.props.prepareData)try{let t=await this.props.prepareData(d,e);t&&(d=t)}catch(e){throw this.setState({loading:!1}),e}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);try{this.props.performSubmit?o=this.props.useStripePaymentElement?await this.props.performSubmit(d,{confirmSetup:t}):await this.props.performSubmit(d):this.props.action?o=this.props.method&&"get"===this.props.method?{body:await (0,m.rd)(this.props.action,{query:d,method:this.props.method})}:{body:await (0,m.rd)(this.props.action,{json:d,method:this.props.method||"POST"})}:this.props.onSubmit&&this.props.onSubmit(d)}catch(t){let e=t.response&&t.response.body instanceof ReadableStream;t.response&&t.body&&e?t.response={body:t.body,status:null===(s=t.response)||void 0===s?void 0:s.status}:t.response&&t.body&&!t.response.body&&(t.response.body=t.body),i=t}if((null==o?void 0:null===(l=o.body)||void 0===l?void 0:l.confirmPaymentUrl)&&o.body.clientSecret&&this._connectedStripe){(0,p.j)(p.FP.PAYMENT_CONFIRMATION_STARTED);let e=await this._connectedStripe.confirmCardPayment(o.body.clientSecret);if(e.error){(0,p.j)(p.FP.PAYMENT_CONFIRMATION_FAILED,{error:null===(c=e.error)||void 0===c?void 0:c.message});let t={error:e.error.message||"Failed to confirm payment"};i={response:{body:t,text:JSON.stringify(t)}}}else(0,p.j)(p.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),i){if(this.processErrors(i.response),this.props.onError&&this.props.onError(i,d),!i.response)throw i}else this.props.onSuccess&&this.props.onSuccess(o,d);return i}processErrors(e){let t={},n=[];if(e&&e.body&&e.body.errors){let o=this.getInputs();e.body.errors.forEach(e=>{!0!==this.props.noInlineErrors&&e.param&&o.filter(t=>t.getAttribute("name")===e.param).length>0?t[e.param]?(console.log("Discarding repeated error"),console.log(e)):t[e.param]=e:n.push(e)})}else e&&e.body&&"string"==typeof e.body.error?n.push({msg:e.body.error}):n.push({msg:"Something went wrong"});this.setState({_paramErrors:t,_otherErrors:n}),this.props.analyticsName&&(0,p.j)("".concat(this.props.analyticsName," Error"),{paramErrors:JSON.stringify(t),otherErrors:JSON.stringify(n)})}render(e,t){let n=e.autoLock&&t.loading||e.loading,o=!1,a=!1,c=e.getConfigFor("disable_card_element_in_europe")&&!e.useStripePaymentElement&&e.pub&&h.EEA_COUNTRIES.includes(e.pub.stripe_country)&&(!e.currency||"eur"===e.currency),d=p=>{let m=[];return(0,s.toChildArray)(p).forEach(p=>{if(!p)return null;if("object"==typeof p&&(p.type===y||"input"===p.type||"textarea"===p.type||"select"===p.type)&&p.props&&"name"in p.props&&p.props.name){let e=p.props.name;if(m.push((0,s.cloneElement)(p,{disabled:n||"disabled"in p.props&&p.props.disabled,onChange:e=>{let t=p.props&&"onChange"in p.props&&p.props.onChange||p.props&&"onInput"in p.props&&p.props.onInput;t&&"function"==typeof t&&t(e),this.props.onChange&&this.props.onChange(e)},onInput:e=>{p.props&&"onInput"in p.props&&p.props.onInput&&"function"==typeof p.props.onInput&&p.props.onInput(e),this.props.onInput&&this.props.onInput(e)},onBlur:e=>{this.onInputBlur(e),p.props&&"onBlur"in p.props&&p.props.onBlur&&"function"==typeof p.props.onBlur&&p.props.onBlur(e)}})),t._paramErrors[null!=e?e:"undefined"]&&!n){let n=t._paramErrors[null!=e?e:"undefined"];if(!n){console.error("No error for",e);return}n.msgHTML?m.push((0,l.tZ)("div",(0,r._)((0,i._)({className:"error"},e&&{name:e}),{dangerouslySetInnerHTML:{__html:n.msgHTML}}))):m.push((0,l.tZ)("div",(0,r._)((0,i._)({className:"error"},e&&{name:e}),{children:n.msg||"Invalid"})))}}else if("object"==typeof p&&p.props&&"type"in p.props&&"submit"===p.props.type)m.push((0,s.cloneElement)(p,{disabled:n||"disabled"in p.props&&p.props.disabled,onClick:e=>{p.props&&"onClick"in p.props&&p.props.onClick&&"function"==typeof p.props.onClick&&!1!==p.props.onClick(e)&&this.handleSubmit(e)}}));else if("object"==typeof p&&p.props&&"id"in p.props&&"error-container"===p.props.id){if(t._otherErrors&&!n){let e=t._otherErrors.map(e=>e.msgHTML?(0,l.tZ)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:e.msgHTML}}):(0,l.tZ)("div",{className:"error other-error",children:e.msg})).concat(p.props&&p.props.children?(0,s.toChildArray)(p.props.children):[]);m.push((0,s.cloneElement)(p,{},e))}}else if("object"==typeof p&&"type"in p&&p.type===v){if(o)throw Error("Can only handle one stripe element");o=!0,m.push((0,s.cloneElement)(p,{ref:e=>{p.props&&p.props.ref&&p.props.ref(e),this.stripeElement=e},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement,addressElement:this._stripeAddressElement,disabled:c})),!t._stripeError&&this._stripeCardOrPaymentElement||n||"undefined"==typeof window||m.push((0,l.tZ)("div",{className:u()("error",e.stripeErrorClassName),role:"alert",children:t._stripeError||"Stripe payments not loaded. Are there blocked scripts?"}))}else if("object"==typeof p&&"type"in p&&p.type===b){if(a)throw Error("Can only handle one stripe payment request button");a=!0,m.push((0,s.cloneElement)(p,{ref:e=>{p.props&&p.props.ref&&p.props.ref(e),this.stripePaymentRequestButton=e},stripe:this._stripe,onSuccess:e=>(p.props&&"onSuccess"in p.props&&p.props.onSuccess&&"function"==typeof p.props.onSuccess&&p.props.onSuccess(e),this.onPaymentRequestAttempt(e))}))}else"object"==typeof p&&"props"in p&&p.props&&p.props.children?m.push((0,s.cloneElement)(p,{},d(p.props.children))):m.push(p)}),m};return(0,l.tZ)("form",(0,r._)((0,i._)({className:"form ".concat(e.className||""),action:e.noJsAction||e.action,method:e.method&&["get","post"].includes(e.method.toLowerCase())&&e.method.toLowerCase()||"post",autoComplete:e.autoComplete,onSubmit:e=>this.handleSubmit(e),noValidate:!0},e.enctype&&{enctype:e.enctype}),{children:d(e.children)}))}constructor(e,t){super(e,t),(0,o._)(this,"_stripe",void 0),(0,o._)(this,"_connectedStripe",void 0),(0,o._)(this,"_stripeCardOrPaymentElement",void 0),(0,o._)(this,"_mountTime",void 0),(0,o._)(this,"_stripeElements",void 0),(0,o._)(this,"_stripeAddressElement",void 0),(0,o._)(this,"stripeElement",void 0),(0,o._)(this,"stripePaymentRequestButton",void 0),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=g(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement||(this._stripeCardOrPaymentElement=_(this._stripe)),this._connectedStripe=function(e,t){if("undefined"==typeof window||void 0===window.Stripe||!(null==t?void 0:t.stripe_user_id))return null;let n={stripeAccount:t.stripe_user_id};return window.Stripe(e,n)}(this.props.stripe_publishable_key,this.props.pub)))}}let S=(0,d.hO)(w)},85095:function(e,t,n){n.d(t,{Un:()=>u,am:()=>c});var o=n(16584),i=n(98661),r=n(60807),a=n(48980),l=n(40121);let s=(0,i.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>void 0,profiles:new Map,setProfile:()=>void 0});function c(e){let{value:t,handle:n,children:r}=e,[a,l]=(0,i.useState)({profile:null,loading:!1}),[c,u]=(0,i.useState)(new Map(t?[[n||t.id,{profile:t,loading:!1}]]:[])),d={viewerProfile:a,setViewerProfile:(0,i.useCallback)((e,t)=>{l(n=>n.profile===e&&n.loading===t?n:{profile:e,loading:t})},[]),profiles:c,setProfile:(0,i.useCallback)((e,t,n)=>{u(o=>{var i,r;if((null===(i=o.get(e))||void 0===i?void 0:i.profile)===t&&(null===(r=o.get(e))||void 0===r?void 0:r.loading)===n)return o;let a=new Map(o);return a.set(e,{profile:t,loading:n}),a})},[])};return(0,o.tZ)(s.Provider,{value:d,children:r})}function u(){let{subjectId:e,subjectName:t,delayLoading:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,r.aF)(),{viewerProfile:c,setViewerProfile:u,profiles:d,setProfile:p}=(0,i.useContext)(s),[m,f]=(0,i.useState)(null);if("string"==typeof e){if(e.includes("-")){let n=e.split("-");e=n[0],t=n.slice(1).join("-")}else e.startsWith("@")&&(e=e.slice(1))}let h=e?d.get(e):null,g=(0,i.useCallback)(async e=>{u(c.profile,!0);let t=(0,l.Hm)(e.name,{hashIfEmpty:!0});try{let n=await (0,a.rd)("/api/v1/user/".concat(e.id,"-").concat(t,"/public_profile/self"));u(n,!1)}catch(e){e instanceof Error&&f(e),u(null,!1)}},[c,u,f]),_=null==h?void 0:h.profile,v=c.profile,b=(0,i.useCallback)(async e=>{!v&&o&&g(o),p(e,_,!0);try{let n=t&&(0,l.Hm)(t,{hashIfEmpty:!0}),o=await (n?(0,a.rd)("/api/v1/user/".concat(e,"-").concat(n,"/public_profile")):(0,a.rd)("/api/v1/user/".concat(e,"/public_profile")));p(e,o,!1)}catch(t){t instanceof Error&&f(t),p(e,_,!1)}},[_,p,t,v,g,o]);return(0,i.useEffect)(()=>{n||(null==h?void 0:h.profile)||(null==h?void 0:h.loading)||m||!e||b(e),n||c.loading||c.profile||m||!o||g(o)},[n,e,b,h,m,c,g,o]),{loading:!!(null==h?void 0:h.loading),viewerProfile:c.profile,subjectProfile:null==h?void 0:h.profile,refetch:b,error:m}}s.displayName="ProfileContext"},45261:function(e,t,n){n.d(t,{Tf:()=>l,ze:()=>s});var o=n(16584),i=n(6400),r=n(30396);let a=(0,i.createContext)({hasThemedBackground:!1});function l(){var e;return!!(null===(e=(0,r.qp)(a))||void 0===e?void 0:e.hasThemedBackground)}function s(e){let{value:t,children:n}=e,i=(0,r.Ye)(()=>t,Object.values(t));return(0,o.tZ)(a.Provider,{value:i,children:n})}a.displayName="ThemeContext"},24421:function(e,t,n){n.d(t,{N:()=>u});var o=n(16584),i=n(94184),r=n.n(i),a=n(26224),l=n(82621),s=n(17043),c=n(98143);function u(e){let{src:t,size:n,framed:i}=e;return(0,o.tZ)(l.Z,{className:r()(a.A.avatar,c.Z.avatar,i&&c.Z.framed),src:(0,s.zF)(t),style:{width:n,height:n,minWidth:n,minHeight:n,objectFit:"cover",margin:0,display:"inline"},width:n,height:n})}},30516:function(e,t,n){n.d(t,{Ac:()=>u,Vh:()=>p,WB:()=>d,XJ:()=>c});var o=n(36808),i=n(98914),r=n(48884),a=n(31742),l=n(60308),s=n(69332);async function c(e){var t;(null===(t=window._preloads)||void 0===t?void 0:t.language)&&void 0===window._preloads.customPublicationThemePreviewId&&r.TO.indexOf(window._preloads.language)>-1&&"function"==typeof fetch&&await fetch("/api/v1/i18n/translations?language=".concat(e),{method:"GET"}).then(e=>e.json()).then(t=>{r.mb.l(e,t)}).catch(()=>{})}function u(){let e=(0,s.m)(window.location.href);if(!e.token&&!e.lli||!window.history.replaceState)return;e.token&&!e.pt&&delete e.token,delete e.lli;let t="".concat((0,l.n1t)(window.location.pathname,e)).concat(window.location.hash);window.history.replaceState({},document.title,t)}function d(){if("object"==typeof window._analyticsConfig&&null!==window._analyticsConfig&&!window._analyticsConfig.anonymousId){let e;try{let t=o.get(a.Ic.ANONYMOUS_ID);t&&(e=JSON.parse(t))}catch(e){}e||(e=(0,i.EH)(),o.set(a.Ic.ANONYMOUS_ID,JSON.stringify(e),{expires:365})),window._analyticsConfig.anonymousId=e}}function p(){var e,t;!(!(null===(e=console)||void 0===e?void 0:e.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||window.location.pathname.startsWith("/visited-surface-frame"))&&(null===(t=window._preloads.user)||void 0===t||!t.is_global_admin)&&console.log("%c\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░ SUBSTACK WANTS YOU ░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▒░░░░░░░░▒▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓▒▒░░░░░░░░░░░░░░▒▒▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▓▓▓▓▒░░░░░░░░░░░░░░░░░░░░░░▒▓▓▓▓▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░ TO BUILD A NEW ECONOMIC ENGINE FOR CULTURE ░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n                   https://substack.com/jobs\n","font-family:monospace")}n(82190)},35702:function(e,t,n){let o;n.d(t,{Z:()=>u,a:()=>d});var i,r,a=n(16584);n(98661);var l=n(6400),s=n(30516),c=n(68833);function u(e){if(o)throw Error("Cannot re-render the things");o=e,window._preloads&&(window._preloads.original_url=window.location.href),(0,c.uF)(),(0,s.WB)(),(0,s.Ac)(),function(){if(!window.history||!window.history.pushState||!window.scrollTo)return;let e=window.history.pushState;history.pushState=function(t,n,o){var i;let r=e.apply(history,arguments);return(null===(i=null==t?void 0:t.resetScroll)||void 0===i||i)&&-1===o.indexOf("#")&&window.scrollTo(0,0),r}}(),(0,s.XJ)(window._preloads.language).finally(()=>{p()}),(0,s.Vh)()}function d(e){let t=!1;if("object"==typeof window._preloads&&null!==window._preloads)for(let n in e)("object"==typeof e[n]&&null!==e[n]||e[n]!==window._preloads[n])&&(window._preloads[n]=e[n],t=!0);t&&p()}function p(){if(!o)return;let e=document.getElementById("entry");(0,l.render)((0,a.tZ)(o,{initialData:window._preloads}),e||document.body)}n(82190),"undefined"!=typeof window&&(null===(r=window._preloads)||void 0===r?void 0:null===(i=r.user)||void 0===i?void 0:i.is_global_admin)&&new URLSearchParams(window.location.search).get("devtools")&&n(14369)},8090:function(e,t,n){n.d(t,{A:()=>k,Bt:()=>B,FP:()=>v,K8:()=>U,Kl:()=>E,Md:()=>L,bI:()=>M,c$:()=>x,j:()=>T,jA:()=>Z,jJ:()=>I,x6:()=>P,xG:()=>C});var o,i,r=n(7409),a=n(21811),l=n(15872),s=n(55229),c=n(43300),u=n(49762),d=n(96708),p=n(98914),m=n(98012),f=n(37313),h=n(60308),g=n(26111),_=n(41935);let v=f.F,b="undefined"!=typeof window,y=!!(b&&window.navigator&&window.navigator.sendBeacon),w=!(0,p.w1)()&&y,S=new c.T({batchOptions:w?{maxBatchSize:8,maxBatchDataSize:1e4}:void 0,send:function(e,t){b&&(w&&t&&e.push(F(e,t)),new Image().src=(0,h.n1t)(w?"/api/v1/firehose/batch":"/api/v1/firehose",{_:new Date().getTime(),d:e.join(",")}))},beacon:function(e,t){if(!b)return;e.push(F(e,"beacon",t));let n=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/api/v1/firehose/batch",n)}}),E=()=>{b&&w&&(window.addEventListener("beforeunload",e=>{S.sendBeacon(e)}),window.addEventListener("pagehide",e=>{S.sendBeacon(e)}),document.addEventListener("visibilitychange",e=>{"hidden"===document.visibilityState&&S.sendBeacon(e)}),setInterval(()=>{S.intervalFlush()},6e4))},N=b&&window!=window.top&&(0,_.l)(p.EH),A="browser";function k(){return N}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n;if(["development","test"].includes((n="production",void 0!==n)?n:"")&&!e)throw Error("`undefined` event passed to FRONTEND track call");O(e,Object.assign({},t))}catch(e){try{window.Sentry&&window.Sentry.captureException(e)}catch(t){console.error("Failed to track event",e)}}}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(v.PUBLICATION_VISITED,(0,r._)({visited_publication_id:e.id,visited_publication_subdomain:e.subdomain,source:t},n))}function I(e){let{post:t,hasPaywall:n,surface:o,markRead:i,user:r,trackerUuid:a}=e;T(v.POST_SEEN,{post_id:t.id,post_audience:t.audience,post_type:t.type,has_paywall:n,post_age_minutes:t.post_date&&(0,m.Z)().diff(t.post_date,"minute"),surface:o,tracker_uuid:a}),(!r||i)&&x(t.id)}function x(e){return fetch("/api/v1/posts/".concat(e,"/seen"),{method:"POST"})}function C(e){let{post:t,hasPaywall:n,surface:o,trackerUuid:i}=e;T(v.POST_BOTTOM_SEEN,{post_id:t.id,post_audience:t.audience,post_type:t.type,has_paywall:n,surface:o,tracker_uuid:i})}function U(e){let{post:t}=e;(null==t?void 0:t.id)&&(T(v.POST_PAGE_PINGBACK,{seconds:0,post_id:t.id}),setTimeout(()=>{T(v.POST_PAGE_PINGBACK,{seconds:10,post_id:t.id})},1e4))}function Z(e){let{previous:t,url:n}=e;!(!t||n.includes("_no_an=true"))&&L()}b&&(navigator.standalone||(null===(o=(i=window).matchMedia)||void 0===o?void 0:o.call(i,"(display-mode: standalone)").matches))&&(A="standalone");let R=()=>document.location.pathname.startsWith("/p/"),M=()=>{var e,t,n;let o=window._preloads,i=(null==o?void 0:null===(e=o.post)||void 0===e?void 0:e.id)&&(null==o?void 0:o.pub),r=!!(null==o?void 0:null===(t=o.post)||void 0===t?void 0:t.slug)&&(null==o?void 0:null===(n=o.post)||void 0===n?void 0:n.slug)===document.location.pathname.split("/")[document.location.pathname.split("/").length-1];return!!(i&&R()&&r)},B=e=>e?e.is_subscribed?"Paid subs":e.is_free_subscribed?"Free subs":"Anonymous":"Anonymous";function L(){var e,t,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(document.location.pathname.startsWith("/embed")&&b&&(null===(n=window)||void 0===n?void 0:null===(t=n._preloads)||void 0===t?void 0:null===(e=t.pub)||void 0===e?void 0:e.embed_tracking_disabled))return;O(v.PAGES,Object.assign(function(){let e={};if(b){let t=window._preloads&&"post"in window._preloads&&window._preloads.post,n=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);n&&t&&n[1]===t.slug&&(e.post_id=t.id,e.post_audience=t.audience,e.post_type=t.type)}return e}(),o));let i=(0,s.xL)();if(i&&(new Image().src="https://www.facebook.com/tr?id=".concat(i,"&ev=PageView")),(0,d.g)("pageview"),(0,s.XY)("pageview"),(0,s.Hx)("page_view"),b&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView){let e={url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1,data:{}};if((0,u.ZP)("add_section_and_tag_metadata")){if(R()&&!M())return;if(R()){let t=window._preloads;e.data={audience:B(null==t?void 0:t.user)}}}window.PARSELY.beacon.trackPageView(e)}}function D(e){var t,n,o,i,r,s,c,u,d;let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=null;try{f=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}let h={event:e,timestamp:new Date().toISOString(),properties:Object.assign({browserSessionId:l.W,iframeVisitId:N,r:(0,g.x)("r"),magicUserId:"undefined"!=typeof window&&(null===(o=window)||void 0===o?void 0:null===(n=o._preloads)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.is_magic)?window._preloads.user.id:void 0},m),context:{client_type:"web",displayMode:A,page:{referrer:document.referrer,title:document.title,url:document.location.href,height:null!==(s="undefined"!=typeof window&&window.innerHeight)&&void 0!==s?s:0,width:null!==(c="undefined"!=typeof window&&window.innerWidth)&&void 0!==c?c:0},campaign:(0,a.l)(),timezone:f,screen:{height:null!==(u="undefined"!=typeof window&&(null===(i=window.screen)||void 0===i?void 0:i.height))&&void 0!==u?u:0,width:null!==(d="undefined"!=typeof window&&(null===(r=window.screen)||void 0===r?void 0:r.width))&&void 0!==d?d:0}}};return(0,p.m)(JSON.stringify(h))}function F(e,t,n){let o=e.length,i=e.map(e=>e.length).reduce((e,t)=>e+t,0);return D(v.FIREHOSE_BATCH_SENT,{dataSize:i,batchSize:o,batchType:t,eventType:null==n?void 0:n.type})}function O(e){var t,n,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||"undefined"==typeof document)return;let r=D(e,i);S.add(r),(null===(o=window)||void 0===o?void 0:null===(n=o._preloads)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.is_global_admin)&&console.log("EVENT: ".concat(e),i)}},48980:function(e,t,n){n.d(t,{i:()=>c,kp:()=>s,rd:()=>l});var o=n(27412),i=n(7409),r=n(98848),a=n(98914);async function l(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,i._)({cache:"no-cache"},n),{query:a,json:l}=o,c=(0,r._)(o,["query","json"]),u=e;if(a){let t;let n=(a instanceof URLSearchParams?a:new URLSearchParams(Object.entries(a).reduce((e,t)=>{let[n,o]=t;return void 0!==o&&(Array.isArray(o)?o.forEach(t=>{void 0!==t&&e.push(["".concat(n,"[]"),t])}):e.push([n,o])),e},[]))).toString();n&&(-1!==e.indexOf("?")?u+="&".concat(n):u+="?".concat(n))}l&&(c.body=JSON.stringify(l),c.headers instanceof Headers||(c.headers=new Headers(c.headers)),c.headers.set("Content-Type","application/json")),c.method&&(c.method=c.method.toUpperCase());let d=await fetch(u,c);if(!d.ok){let e;try{e=await d.json()}catch(t){e={}}throw new s(d,e)}return(null===(t=d.headers.get("Content-Type"))||void 0===t?void 0:t.startsWith("application/json"))?d.json():d.text()}class s extends Error{getMessage(e){return(0,a.Qu)(this.body,e)}constructor(e,t){let n=URL.parse?URL.parse(e.url):null;super("".concat(e.status,": ").concat(e.statusText)),(0,o._)(this,"response",void 0),(0,o._)(this,"body",void 0),(0,o._)(this,"url",void 0),this.response=e,this.body=t,this.name="FetchError",this.url=n}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong.";return e instanceof s?e.getMessage():t}},55480:function(e,t,n){n.d(t,{EP:()=>p,Tn:()=>d,d_:()=>c,jU:()=>u,pp:()=>m});var o=n(7409),i=n(99282),r=n(39693),a=n.n(r);n(94654),n(48980),n(98012),n(24791);var l=n(60308),s=n(63651);n(84864);let c=e=>{var t,n,r,a,c,u,d,p,m,f;let{fallbackToLogosInsteadOfGenericArt:h,pub:g,section:_}=e,v=null==_?void 0:_.podcastSettings,b=null!==(n=null!==(t=null==v?void 0:v.podcast_title)&&void 0!==t?t:null==_?void 0:_.name)&&void 0!==n?n:null,y=null!==(a=null!==(r=null==v?void 0:v.podcast_description)&&void 0!==r?r:null==_?void 0:_.description)&&void 0!==a?a:null,w=null!==(c=null==v?void 0:v.itunes_podcast_primary_category)&&void 0!==c?c:null,S=null!==(u=null==v?void 0:v.itunes_podcast_primary_subcategory)&&void 0!==u?u:null,E=null!==(d=null==v?void 0:v.itunes_podcast_secondary_category)&&void 0!==d?d:null,N=null!==(p=null==v?void 0:v.itunes_podcast_secondary_subcategory)&&void 0!==p?p:null,A=(null==v?void 0:v.itunes_explicit)||!1,k=(null==v?void 0:v.podcast_art_url)||(0,l.AmV)(),T=!(null==v?void 0:v.podcast_art_url)||(0,s.lsY)(v.podcast_art_url),P=(null==v?void 0:v.paid_podcast_episode_art_url)||null,I=(null==v?void 0:v.podcast_byline)||g.podcast_byline||g.author_name||"",x=(null==v?void 0:v.language)||g.podcast_language||"",C=!!v&&!!v.podcast_feed_url,U=C?v.podcast_feed_url:(0,l.fw6)({pub:(0,i._)((0,o._)({},g),{section:_})});return{title:b,description:y,primaryCategory:w,primarySubcategory:S,secondaryCategory:E,secondarySubcategory:N,isExplicit:A,artUrl:T&&h?null!==(f=null!==(m=_.logo_url)&&void 0!==m?m:g.logo_url)&&void 0!==f?f:"":k,byline:I,language:x,isRedirected:C,podcastRssUrl:U,paidEpisodeArtUrl:P}},u=e=>{var t,n,i;let{fallbackToLogosInsteadOfGenericArt:r,pub:a}=e,c=a.podcast_title||a.name,u=a.podcast_description||a.hero_text,d=a.itunes_podcast_primary_category,p=a.itunes_podcast_primary_subcategory,m=a.itunes_podcast_secondary_category,f=a.itunes_podcast_secondary_subcategory,h=null!==(t=a.itunes_explicit)&&void 0!==t&&t,g=a.podcast_art_url||(0,l.AmV)(),_=!a.podcast_art_url||(0,s.lsY)(a.podcast_art_url),v=a.podcast_byline||a.author_name,b=a.podcast_language||"",y=!!a.show_pub_podcast_tab,w=!!a.podcast_feed_url,S=(0,o._)({},a);delete S.section;let E=w?a.podcast_feed_url:(0,l.fw6)({pub:S});return{title:c,description:u,primaryCategory:d,primarySubcategory:p,secondaryCategory:m,secondarySubcategory:f,isExplicit:h,artUrl:_&&r?null!==(n=a.logo_url)&&void 0!==n?n:"":g,byline:v,language:b,isRedirected:w,podcastRssUrl:E,showPodcastTab:y,paidEpisodeArtUrl:null!==(i=a.paid_podcast_episode_art_url)&&void 0!==i?i:null}};function d(e,t){var n;return null!==(n=(null==t?void 0:t.cover_image)||(null==t?void 0:t.podcast_art_url)||(null==e?void 0:e.podcast_art_url))&&void 0!==n?n:null}let p=e=>{var t,n;let o;let i=null!==(n=null===(t=e.sections)||void 0===t?void 0:t.filter(e=>{let{is_podcast:t}=e;return t}).map(t=>{var n;let o=c({pub:e,section:t});return{slug:t.slug,podcastTitle:null!==(n=o.title)&&void 0!==n?n:"",description:o.description,artUrl:o.artUrl,sectionId:t.id}}))&&void 0!==n?n:[];return e.podcast_enabled&&(o=u({pub:e})),a()([o&&{slug:e.subdomain,podcastTitle:o.title,description:o.description,artUrl:o.artUrl,sectionId:null},...i])};function m(e){var t,n;let{pub:o,section:i}=e;return i?null!==(t=i.spotify_podcast_settings)&&void 0!==t?t:null:null!==(n=o.spotify_podcast_settings)&&void 0!==n?n:null}},49762:function(e,t,n){n.d(t,{Uw:()=>r,ZP:()=>a,kR:()=>l});var o=n(16584),i=n(40647);function r(e){var t;if(!e||"undefined"==typeof window||!(null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs))return null;let n=window._preloads.siteConfigs[e];return void 0===n?null:n}let a=r;function l(e){let{configKey:t,children:n,value:r=!0}=e;return(0,i.xR)().getConfigFor(t)==r?(0,o.tZ)(o.HY,{children:n}):null}},59176:function(e,t,n){n.d(t,{ex:()=>a,mM:()=>r});var o=n(79546),i=n.n(o);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"undefined"!=typeof window?i().get(e,t):t},a=(e,t)=>{if("undefined"!=typeof window)return i().set(e,t)}},98914:function(e,t,n){n.d(t,{$Z:()=>es,AE:()=>eo,Ds:()=>M,Dt:()=>J,EH:()=>eT,Fo:()=>D,G6:()=>Y,HM:()=>V,Hl:()=>eM,IV:()=>ea,IW:()=>eN,K1:()=>G,L:()=>X,Mi:()=>Q,P_:()=>eg,Po:()=>eO,Qg:()=>eZ,Qu:()=>H,Se:()=>ek,V5:()=>K,VA:()=>ez,WC:()=>eV,Yk:()=>eR,Zk:()=>ef,_I:()=>eI,bs:()=>e_,bt:()=>eU,cn:()=>er,dr:()=>ed,e5:()=>W,fo:()=>R,gN:()=>ey,iO:()=>ex,ig:()=>B,kE:()=>em,m:()=>ew,nn:()=>eA,oA:()=>eh,pK:()=>ei,pt:()=>L,pv:()=>el,rf:()=>eb,rm:()=>eC,rs:()=>ec,sz:()=>Z,uX:()=>eE,ut:()=>ep,vQ:()=>et,vU:()=>q,w1:()=>j,zm:()=>z,zx:()=>O});var o=n(7409),i=n(99282),r=n(58865),a=n(16584),l=n(20042),s=n(91561);n(55480);var c=n(98012),u=n(48884);n(86458);var d=n(40121),p=n(60308),m=n(69332),f=n(81821),h=n(84864);function g(){let e=(0,r._)(["","% off first month"]);return g=function(){return e},e}function _(){let e=(0,r._)(["","% off first year"]);return _=function(){return e},e}function v(){let e=(0,r._)(["","% off first week"]);return v=function(){return e},e}function b(){let e=(0,r._)(["","% off first day"]);return b=function(){return e},e}function y(){let e=(0,r._)(["","% off first payment"]);return y=function(){return e},e}function w(){let e=(0,r._)(["","% off forever"]);return w=function(){return e},e}function S(){let e=(0,r._)([""," off first month"]);return S=function(){return e},e}function E(){let e=(0,r._)([""," off first year"]);return E=function(){return e},e}function N(){let e=(0,r._)([""," off first week"]);return N=function(){return e},e}function A(){let e=(0,r._)([""," off first day"]);return A=function(){return e},e}function k(){let e=(0,r._)([""," off first payment"]);return k=function(){return e},e}function T(){let e=(0,r._)([""," off forever"]);return T=function(){return e},e}function P(){let e=(0,r._)([" at ",""]);return P=function(){return e},e}function I(){let e=(0,r._)([" at ",""]);return I=function(){return e},e}function x(){let e=(0,r._)([" at ",""]);return x=function(){return e},e}function C(){let e=(0,r._)([" at ",""]);return C=function(){return e},e}let U="undefined"==typeof window||!window.addEventListener;U||window.addEventListener("load",()=>{U=!0},!1),"undefined"!=typeof window&&window._preloads;let Z="undefined"!=typeof window?new s.Z:null,R=e=>{U?e():window.addEventListener("load",e,!1)},M=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,o=null;return function(){null!==o&&clearTimeout(o),"undefined"!=typeof window&&(o=window.setTimeout(()=>e.apply(n,arguments),t))}},B=function(e,t){var n,o,i,r,a,l;let s,{language:c="en"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{iTemplate:d,iPlural:p}=u.mb.i(c);if(e&&!e.loading&&!e.error){if(e.trial_period_days)s=p("1 day free trial","%1 day free trial",e.trial_period_days);else if(e.extra_seats)s=p("an additional seat","%1 additional seats",e.extra_seats);else if(e.percent_off){if("once"===e.duration){if(t)switch(t.interval){case"month":s=d(g(),Math.round(e.percent_off_precise||e.percent_off));break;case"year":s=d(_(),Math.round(e.percent_off_precise||e.percent_off));break;case"week":s=d(v(),Math.round(e.percent_off_precise||e.percent_off));break;case"day":s=d(b(),Math.round(e.percent_off_precise||e.percent_off))}else s=d(y(),Math.round(e.percent_off_precise||e.percent_off))}else s="repeating"===e.duration?null===e.duration_in_months||e.duration_in_months%12==0?p("%2% off for 1 year","%2% off for %1 years",(null!==(n=e.duration_in_months)&&void 0!==n?n:0)/12,"".concat(Math.round(e.percent_off_precise||e.percent_off))):p("%2% off for 1 month","%2% off for %1 months",e.duration_in_months,"".concat(Math.round(e.percent_off_precise||e.percent_off))):d(w(),Math.round(e.percent_off_precise||e.percent_off))}else if(e.amount_off){if("once"===e.duration){if(t)switch(t.interval){case"month":s=d(S(),(0,h.centsToPriceString)(e.amount_off,t.currency));break;case"year":s=d(E(),(0,h.centsToPriceString)(e.amount_off,t.currency));break;case"week":s=d(N(),(0,h.centsToPriceString)(e.amount_off,t.currency));break;case"day":s=d(A(),(0,h.centsToPriceString)(e.amount_off,t.currency))}else{let n=(0,h.centsToPriceString)(e.amount_off,null!==(o=null==t?void 0:t.currency)&&void 0!==o?o:"");s=d(k(),n)}}else if("repeating"===e.duration){if(null===e.duration_in_months||e.duration_in_months%12==0){let n=(0,h.centsToPriceString)(e.amount_off,null!==(i=null==t?void 0:t.currency)&&void 0!==i?i:"");s=p("%2 off for 1 year","%2 off for %1 years",(null!==(r=e.duration_in_months)&&void 0!==r?r:0)/12,n)}else{let n=(0,h.centsToPriceString)(e.amount_off,null!==(a=null==t?void 0:t.currency)&&void 0!==a?a:"");s=p("%2 off for 1 month","%2 off for %1 months",e.duration_in_months,n)}}else{let n=(0,h.centsToPriceString)(e.amount_off,null!==(l=null==t?void 0:t.currency)&&void 0!==l?l:"");s=d(T(),n)}}return s}},L=function(e,t){let n=new Image;n.onload=()=>{n.onload=n.onerror=null,t&&t(n)},n.onerror=n.onload,n.src=e},D=e=>{let t=document.createElement("a");return t.href=e,(t.hostname||"").replace(/\.localhost$/,"")},F=e=>{let t=document.createElement("a");return t.href=e,(t.pathname||"")+(t.search||"")+(t.hash||"")},O=(e,t)=>{var n;return H((null==e?void 0:e.body)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.body),t)},V=e=>{var t,n,o;let i=(null==e?void 0:e.body)||(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.body);return i&&i.error?{msg:i.error}:i&&i.errors&&i.errors.length>0?{html:null===(n=i.errors[i.errors.length-1])||void 0===n?void 0:n.msgHTML,msg:null===(o=i.errors[i.errors.length-1])||void 0===o?void 0:o.msg}:void 0},z=(e,t)=>{let n;try{n=e?JSON.parse(e&&e.responseText):e}catch(e){}return H(n,t)},H=(e,t)=>{if(t=t||"Something went wrong",e&&e.error)return e.error;if(e&&e.errors&&e.errors.length>0){var n;return(null===(n=e.errors[e.errors.length-1])||void 0===n?void 0:n.msg)||t}return t},W=function(){return[(0,a.tZ)("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px","aria-hidden":"true",tabIndex:-1}),(0,a.tZ)("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px","aria-hidden":"true",tabIndex:-1})]},G=function(){if("undefined"!=typeof navigator||"undefined"!=typeof window){let e=navigator.userAgent||navigator.vendor||window.opera;if(e&&(0,f.r3)(e,{checkFirst4:!0}))return!0}return!1},j=()=>"undefined"!=typeof window&&!!window.navigator&&!!window.navigator.userAgent&&/(MSIE|Trident)/i.test(window.navigator.userAgent),q=()=>"undefined"!=typeof window&&!!window.navigator&&!!window.navigator.userAgent&&/Firefox/i.test(window.navigator.userAgent),J=()=>"undefined"!=typeof window&&!!window.navigator&&!!window.navigator.userAgent&&/Android/i.test(window.navigator.userAgent),X=()=>!!$(),K=e=>{if("undefined"==typeof window||e||(e=window.navigator),!e)return!1;let t=e;return t.userAgentData&&t.userAgentData.platform?/macOS/.test(t.userAgentData.platform):/Mac/.test(e.platform)},Y=()=>!!navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K();return e?"⌘":"^"},$=()=>"undefined"==typeof window?null:(0,f.Xq)(),ee=e=>((t,n)=>{let o;let i=()=>n.userAgent.match(/ipad|iphone/i),r=e=>{(o=t.createElement("textArea")).value=e,t.body.appendChild(o)},a=()=>{let n,r;i()?((n=t.createRange()).selectNodeContents(o),(r=e.getSelection()).removeAllRanges(),r.addRange(n),o.setSelectionRange(0,999999)):o.select()},l=()=>{t.execCommand("copy"),t.body.removeChild(o)};return{copy:e=>{r(e),a(),l()}}})(document,navigator),et=e=>{if("undefined"==typeof window)return;ee(window).copy(e);let t=t=>{t&&t.clipboardData?(t.clipboardData.setData("text/plain",e),t.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",e)};$()||window.addEventListener("copy",t),setTimeout(()=>{try{let t=document.createElement("input");t.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(t),t.value=e,t.contentEditable="true",t.readOnly=!1;let n=document.createRange();n.selectNodeContents(t);let o=window.getSelection();null==o||o.removeAllRanges(),null==o||o.addRange(n),t.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(t)}catch(e){}window.removeEventListener("copy",t)},0)},en=(e,t)=>{let n="offset".concat((0,h.toTitleCase)(t)),o=0;for(;e&&e!==document.body;)o+=e[n],e="offsetParent"in e&&e.offsetParent||e.parentNode;return o},eo=()=>"undefined"!=typeof window&&window.location.hash?decodeURIComponent(window.location.hash.slice(1)):null,ei=function(e){let t=eo();if(!t)return;let n=document.getElementById(t);n&&("number"!=typeof e&&(e=-122),document.documentElement.scrollTop=Math.max(0,en(n,"top")+e))},er=(e,t)=>{e.className+=" ".concat(t)},ea=(e,t)=>{e&&(e.className=e.className.replace(RegExp("\\b".concat(t,"\\b"),"g"),"").trim())},el=(e,t)=>RegExp("\\b".concat(t,"\\b"),"g").test(e.className),es=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ec(document.activeElement,...t)},ec=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];let i=e;for(;i;){for(let e of n)if("function"==typeof e?e(i):i===e)return!0;i=i.parentNode}return!1},eu=()=>{let e,t;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),{visibilityChange:e,hidden:t}},ed=()=>{let{hidden:e}=eu();return!e||!document[e]},ep=e=>{let{visibilityChange:t}=eu();t&&document.addEventListener(t,e,!1)},em=e=>{let{visibilityChange:t}=eu();t&&document.removeEventListener(t,e,!1)},ef=e=>new Promise((t,n)=>{if(!window.FileReader){n(TypeError("File reader API not found"));return}let o=new FileReader;o.onerror=n,o.onload=()=>{t(o.result)},o.readAsDataURL(e)}),eh=e=>new Promise((t,n)=>{if(!window.FileReader){n(TypeError("File reader API not found"));return}if(!window.DataView){n(TypeError("DataView API not found"));return}let o=new FileReader;o.onerror=n,o.onload=()=>{let e=new DataView(o.result);if(65496!=e.getUint16(0,!1))return t(-2);let n=e.byteLength,i=2;for(;i<n;){if(8>=e.getUint16(i+2,!1))return t(-1);let n=e.getUint16(i,!1);if(i+=2,65505==n){if(0x45786966!=e.getUint32(i+=2,!1))return t(-1);let n=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,n);let o=e.getUint16(i,n);i+=2;for(let r=0;r<o;r++)if(274==e.getUint16(i+12*r,n))return t(e.getUint16(i+12*r+8,n))}else if((65280&n)!=65280)break;else i+=e.getUint16(i,!1)}t(-1)},o.readAsArrayBuffer(e)}),eg=e=>{switch(e){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},e_=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,ev=function(){let{redirect:e,email:t,justTrying:n,with_password:o=!1,useOriginalUrl:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"string"!=typeof e&&(e=(0,p.YZ5)({useOriginalUrl:i})),(0,p.n1t)("/account/login",{redirect:e||"",email:t||"",with_password:o?"1":"",justTrying:n||""})},eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};document.location.href=ev(e)},ey=e=>{window.location.assign((0,p.mGw)(e))},ew=e=>{let t,n,o,i,r,a,l;let s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",c="",u=0;for(e=eS(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),i=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|o>>6,l=63&o,isNaN(n)?a=l=64:isNaN(o)&&(l=64),c=c+s.charAt(i)+s.charAt(r)+s.charAt(a)+s.charAt(l);return c},eS=e=>{let t="";for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):(o>127&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t},eE=function(e){let{event:t=null,local_navigation:n=!0,replace:o=!1,newTab:i=!1,state:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.preventDefault(),!e||e.trim().startsWith("javascript:"))return;if(e.startsWith("#")&&n){if(window.location.hash!==e){var a;o&&(null===(a=window.history)||void 0===a?void 0:a.replaceState)?window.history.replaceState(null!=r?r:window.history.state,null,e):window.location.hash=e}ei();return}if(n&&D(e)&&D(e)!==D(window.location.href)&&(n=!1),i||t&&("metaKey"in t&&t.metaKey||"ctrlKey"in t&&t.ctrlKey)){window.open(e,"_blank");return}let s=history.state;if(n){if("react-router"===window.__SUBSTACK_ROUTER_TYPE__){window.__reactRouterNavigate(F(e),{replace:o,state:r});return}if((0,l.route)(F(e),o)){void 0!==r?history.replaceState(r,""):o&&void 0!==s&&history.replaceState(s,""),setTimeout(()=>ei(),0);return}}window.location.href=e},eN=(e,t)=>new Promise(n=>{e.setState(t,n)}),eA=(e,t)=>new Promise((n,o)=>{let i=async function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];try{n(await t.apply(e,r))}catch(e){o(e)}};e.setState(i)}),ek=async function(e,t,n){let{force:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"function"==typeof t&&(n=t,t="lock"),await eA(e,async function(i){for(var r=arguments.length,a=Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];if(i[t]&&!o)return;await eN(e,{[t]:!0});let s=await n.call(e,i,...a);return await eN(e,{[t]:!1}),s})},eT=()=>{let e=window.crypto||window.msCrypto;if("function"==typeof(null==e?void 0:e.randomUUID))return e.randomUUID();if(e)return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(t^e.getRandomValues(new Uint8Array(1)[0])&15>>t/4).toString(16));let t=new Date().getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let o=16*Math.random();return t>0?(o=(t+o)%16|0,t=Math.floor(t/16)):(o=(n+o)%16|0,n=Math.floor(n/16)),("x"===e?o:3&o|8).toString(16)})},eP=(e,t)=>{if(!e)return e;let n=parseInt((e=e.replace("#","")).substring(0,2),16),o=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return"rgba(".concat(n,",").concat(o,",").concat(i,",").concat(t/100,")")},eI=e=>{let{primary:t,neutral0:n="#f8f8f8",neutral20:r="#d8d8d8",danger:a="var(--color-accent-fg-red)",dangerLight:l="var(--color-accent-bg-red)"}=e;return e=>(0,i._)((0,o._)({},e),{colors:(0,i._)((0,o._)({},e.colors),{primary:t,primary25:eP(t,25),primary50:eP(t,50),primary75:eP(t,75),neutral0:n,neutral20:r,danger:a,dangerLight:l})})},ex=function(e){var t;let{stripHash:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof window&&(null===(t=window.history)||void 0===t?void 0:t.replaceState)){let t=(0,m.m)(window.location.href);if(Array.isArray(e))for(let n of e)delete t[n];else delete t[e];let o="".concat((0,p.n1t)(window.location.pathname,t)).concat(n?"":window.location.hash);window.history.replaceState(window.history.state,document.title,o)}},eC=()=>"undefined"!=typeof window&&(void 0!==document.webkitCurrentFullScreenElement?null!==document.webkitCurrentFullScreenElement:void 0!==document.fullscreenElement&&null!==document.fullscreenElement),eU=e=>"undefined"!=typeof window&&(e.requestFullScreen?(e.requestFullScreen(),!0):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),!0):!!e.mozRequestFullScreen&&(e.mozRequestFullScreen(),!0)),eZ=()=>{if(!eC())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;else if(document.msExitFullscreen)return document.msExitFullscreen(),!0;return!1},eR=()=>"undefined"!=typeof window&&!!document.pictureInPictureElement&&!!document.exitPictureInPicture&&(document.exitPictureInPicture(),!0),eM=e=>{let t=document.createElement("a");document.body.appendChild(t),t.href=e,t.target="_blank",t.click(),document.body.removeChild(t)},eB=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),eL=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),eD=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),eF=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),eO=function(e){let{includeTime:t,language:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,c.Z)(e).locale(n||"en"),i=(0,c.Z)(),{iTemplate:r}=u.mb.i(n);return o.isBefore(i.startOf("year"))?eD.format(o.toDate())+(t?r(P(),eB.format(o.toDate())):""):o.isBefore(i.startOf("day"))?eL.format(o.toDate())+(t?r(I(),eB.format(o.toDate())):""):o.isAfter(i.endOf("year"))?eF.format(o.toDate())+(t?r(x(),eB.format(o.toDate())):""):o.isAfter(i.endOf("day"))?eL.format(o.toDate())+(t?r(C(),eB.format(o.toDate())):""):eB.format(o.toDate())},eV=()=>"undefined"!=typeof window&&!!window._preloads.isDevelopmentEnvironment,ez=(e,t)=>(0,d.Hm)((0,h.truncateText)(e,500,{ellipsis:""}),{allowUnicode:t})},94874:function(e,t,n){n.d(t,{GX:()=>C,On:()=>S,XH:()=>I,ky:()=>x,mw:()=>N,qE:()=>w,xV:()=>E});var o=n(7409),i=n(99282),r=n(98848),a=n(16584),l=n(94184),s=n.n(l),c=n(98661),u=n(20888);n(95441);var d=n(64576),p=n(19081),m=n(80058),f=n(85525),h=n(63474),g=n(58175),_=n(74312),v=n(36889),b=n(60308);n(70408);var y=n(93194);function w(e){var{user:t,photoUrl:n,className:l,size:s=32,alt:c}=e,u=(0,r._)(e,["user","photoUrl","className","size","alt"]);let{photoUrl:d,profileName:p}=U(t,n),f=(0,m.E)(p,c);return(0,a.tZ)(N,(0,i._)((0,o._)({},u),{className:l,size:s,children:(0,a.tZ)(P,(0,o._)({src:null!=d?d:"",title:p,size:s,alt:f},u))}))}function S(e){var{user:t,photoUrl:n,linkProps:l,noBase:s,className:c,size:u=32,alt:d,ariaLabel:p}=e,f=(0,r._)(e,["user","photoUrl","linkProps","noBase","className","size","alt","ariaLabel"]);let{photoUrl:h,profileUrl:g,profileName:_}=U(t,n,s),v=(0,m.E)(_,d),b=(0,m.X)(_,p);return g?(0,a.tZ)(k,(0,i._)((0,o._)({linkProps:(0,o._)({href:g},l),className:c,size:u,ariaLabel:b},f),{children:(0,a.tZ)(P,(0,o._)({src:null!=h?h:"",title:_,size:u,alt:v},f))})):(0,a.tZ)(w,(0,o._)({user:t,photoUrl:n,size:u,alt:v},f))}function E(e){var{user:t,photoUrl:n,linkProps:l,noBase:s,className:c,size:u=32,alt:d,ariaLabel:p}=e,f=(0,r._)(e,["user","photoUrl","linkProps","noBase","className","size","alt","ariaLabel"]);let{photoUrl:h,profileUrl:g,profileName:_}=U(t,n,s),v=(0,m.E)(_,d),b=(0,m.X)(_,p);return g?(0,a.tZ)(T,(0,i._)((0,o._)({user:t,linkProps:(0,o._)({href:g},l),size:u,className:c,ariaLabel:b},f),{children:(0,a.tZ)(P,(0,o._)({src:null!=h?h:"",title:_,size:u,alt:v},f))})):(0,a.tZ)(w,(0,o._)({user:t,photoUrl:n,size:u,alt:v},f))}function N(e){let{size:t=32,className:n,disabled:o,radius:i,children:r,title:l,bg:c,ariaLabel:u}=e;return(0,a.tZ)(p.hs,{width:t,height:t,bg:null!=c?c:"secondary",className:s()(y.Z.container,o&&y.Z.disabled,n),style:{"--scale":"".concat(t,"px")},alignItems:"center",justifyContent:"center",outline:"detail",radius:null!=i?i:"full",overflow:"hidden",position:"relative",sizing:"border-box",flex:"auto",title:l,"aria-label":u,children:r})}function A(e){let{size:t=32,className:n,disabled:o,radius:i,children:r,title:l,bg:c}=e;return(0,a.tZ)(p.hs,{width:t,height:t,bg:null!=c?c:"secondary",className:s()(y.Z.container,o&&y.Z.disabled,y.Z.interactive,n),style:{"--scale":"".concat(t,"px")},alignItems:"center",justifyContent:"center",outline:"detail",radius:null!=i?i:"full",overflow:"hidden",position:"relative",sizing:"border-box",flex:"auto",title:l,showFocus:!0,animate:!0,pressable:"sm",children:r})}function k(e){var{children:t,title:n,linkProps:l,utmSource:s,ariaLabel:c}=e,u=(0,r._)(e,["children","title","linkProps","utmSource","ariaLabel"]);return(0,a.tZ)(h.A0,(0,i._)((0,o._)({},l),{"aria-label":c,utmSource:s,children:(0,a.tZ)(A,(0,i._)((0,o._)({title:n},u),{children:t}))}))}function T(e){var{user:t,children:l,linkProps:s,ariaLabel:c}=e,u=(0,r._)(e,["user","children","linkProps","ariaLabel"]);return(0,a.tZ)(_.cr,{module:"@/frontend/components/ProfileHoverCard",resolve:e=>e.ProfileHoverCard,onRequest:()=>Promise.all([n.e("8173"),n.e("135"),n.e("2909"),n.e("6566"),n.e("9293"),n.e("565"),n.e("7493"),n.e("5924"),n.e("7337"),n.e("640"),n.e("1262"),n.e("8523"),n.e("7408"),n.e("6961")]).then(n.bind(n,85685)),whileLoading:(0,a.tZ)(k,(0,i._)((0,o._)({linkProps:s,ariaLabel:c},u),{children:l})),subject:(0,o._)({id:0,name:""},t),dontStopPropagation:!1,children:(0,a.tZ)(k,(0,i._)((0,o._)({linkProps:s,ariaLabel:c},u),{children:l}))})}function P(e){var{src:t,title:n,size:l=32,alt:s}=e,c=(0,r._)(e,["src","title","size","alt"]);return(0,a.tZ)(N,(0,i._)((0,o._)({title:n},c),{size:l,children:(0,a.tZ)(u.e,{src:t,maxWidth:l,useRetinaSizing:!0,imageIsFixedWidth:!0,draggable:!1,imageProps:{crop:"fill",height:l},objectFit:"cover",alt:s})}))}function I(e){var{text:t,size:n=32}=e,l=(0,r._)(e,["text","size"]);return(0,a.tZ)(N,(0,i._)((0,o._)({},l),{size:n,children:(0,a.tZ)(g.xv,{as:"span",font:"text",weight:"semibold",align:"center",className:y.Z.text,children:t})}))}function x(e){var t,{icon:n,size:l=32,ariaLabel:s}=e,u=(0,r._)(e,["icon","size","ariaLabel"]);let d=(0,f.i)(n),p=null!==(t=null!=s?s:d)&&void 0!==t?t:"Icon avatar";return(0,a.tZ)(N,(0,i._)((0,o._)({size:l},u),{ariaLabel:p,children:n&&(0,c.cloneElement)(n,{size:l,className:y.Z.icon})}))}function C(e){let{size:t=32,className:n}=e;return(0,a.tZ)(v.V,{width:t,height:t,radius:"full",outline:"detail",flex:"auto",className:n,style:{"--scale":"".concat(t,"px")}})}function U(e,t,n){var o,i;let{darkMode:r}=(0,d.v)();return{photoUrl:t||(0,b.SMH)(e,{darkMode:r}),profileUrl:e&&"object"==typeof(i=e)&&null!==i&&"id"in i?(0,b.NNq)(e,{noBase:n}):void 0,profileName:null!==(o=null==e?void 0:e.name)&&void 0!==o?o:"User"}}},15771:function(e,t,n){n.d(t,{GI:()=>E,X4:()=>y,ZP:()=>_,_L:()=>w,hU:()=>S,kG:()=>g,zx:()=>b});var o=n(7409),i=n(99282),r=n(98848),a=n(16584),l=n(94184),s=n.n(l),c=n(98661),u=n(95441),d=n(98914),p=n(71068),m=n(85525),f=n(98248),h=n(26935);let g=(0,c.forwardRef)((e,t)=>{var{onClick:n,href:l,localNavigation:c,newTab:u,className:m,resetCss:f,state:g,replace:_}=e,v=(0,r._)(e,["onClick","href","localNavigation","newTab","className","resetCss","state","replace"]);let b=l?e=>{(!n||(n.call(e.target,e),!e.defaultPrevented))&&(0,d.uX)(l,{event:e,local_navigation:c,newTab:u,replace:_,state:g})}:n;return(0,a.tZ)(p.xu,(0,i._)((0,o._)({as:"button",tabIndex:0,type:"button"},v),{ref:t,className:s()("pencraft",m,f&&h.Z.buttonBase),onClick:b,"data-href":l}))});function _(e){var{href:t,children:n,newTab:l,localNavigation:c=!0,className:u,resetCss:d,priority:p="primary",size:m="md",rounded:f=!1,leading:g,trailing:_,loading:b}=e,w=(0,r._)(e,["href","children","newTab","localNavigation","className","resetCss","priority","size","rounded","leading","trailing","loading"]);return(0,a.BX)("a",(0,i._)((0,o._)({className:v({className:s()("pencraft",u,d&&h.Z.buttonBase),priority:p,size:m,rounded:f,leading:g,trailing:_,loading:b}),href:t,target:l?"_blank":void 0,native:!!c&&void 0},w),{children:[b&&(0,a.tZ)(y,{priority:p}),g,n,_]}))}function v(e){let{className:t,priority:n,size:o,rounded:i,leading:r,trailing:a,loading:l}=e;return s()(t,h.Z.buttonBase,h.Z.buttonText,h.Z.buttonStyle,h.Z["priority_".concat(n)],h.Z["size_".concat(o)],i&&h.Z.rounded,null!=r&&h.Z.hasLeading,null!=a&&h.Z.hasTrailing,l&&h.Z.loading)}g.displayName="UnstyledButton";let b=(0,c.forwardRef)(function(e,t){var{className:n,priority:l="primary",size:s="md",rounded:c,disabled:u,leading:d,trailing:p,children:m,loading:f}=e,h=(0,r._)(e,["className","priority","size","rounded","disabled","leading","trailing","children","loading"]);return(0,a.BX)(g,(0,i._)((0,o._)({className:v({className:n,priority:l,size:s,rounded:c,leading:d,trailing:p,loading:f}),disabled:u||f,"aria-busy":f?"true":void 0},h),{ref:t,children:[f&&(0,a.tZ)(y,{priority:l}),d,m,p]}))}),y=e=>{let{priority:t}=e,{iString:n}=(0,u.M1)();return(0,a.BX)(a.HY,{children:[(0,a.tZ)(f.$j,{size:20,className:s()(h.Z.buttonSpinner,("primary"===t||"primary-mono"===t||"destructive"===t)&&h.Z.spinnerLight)}),(0,a.tZ)("span",{className:"sr-only",children:n("Loading")})]})};b.displayName="Button";let w=(0,c.forwardRef)((e,t)=>{var{className:n,priority:l="primary",size:c="md",rounded:u,disabled:d,leading:p,trailing:m,children:f}=e,g=(0,r._)(e,["className","priority","size","rounded","disabled","leading","trailing","children"]);return(0,a.tZ)(b,(0,i._)((0,o._)({className:s()(n,h.Z.media,u&&h.Z.rounded),priority:l,size:c,disabled:d,leading:p,trailing:m,children:f},g),{ref:t}))});w.displayName="MediaButton";let S=(0,c.forwardRef)((e,t)=>{var{className:n,size:l="md",priority:c="secondary",rounded:u=!1,children:d}=e,p=(0,r._)(e,["className","size","priority","rounded","children"]);let f=(0,m.i)(d),_=p["aria-label"]||f;return(0,a.tZ)(g,(0,i._)((0,o._)({className:s()(n,h.Z.iconButton,h.Z.buttonStyle,null!=l&&h.Z["size_".concat(l)],c&&h.Z["priority_".concat(c)],u&&h.Z.rounded),"aria-label":_},p),{ref:t,children:d}))});S.displayName="IconButton";let E=(0,c.forwardRef)((e,t)=>{var{className:n,size:l="md",priority:c="primary",children:u}=e,d=(0,r._)(e,["className","size","priority","children"]);let p=(0,m.i)(u),f=d["aria-label"]||p;return(0,a.tZ)(S,(0,i._)((0,o._)({className:s()(n,h.Z.media,h.Z["size_".concat(l)],h.Z["priority_".concat(c)]),size:l,priority:c,"aria-label":f},d),{ref:t,children:u}))});E.displayName="MediaIconButton"},61254:function(e,t,n){n.d(t,{ZC:()=>f,iz:()=>m});var o=n(7409),i=n(99282),r=n(98848),a=n(16584),l=n(94184),s=n.n(l);n(98661);var c=n(95441),u=n(19081),d=n(58175),p=n(44430);let m=e=>{var{className:t}=e,n=(0,r._)(e,["className"]);return(0,a.tZ)(u.X2,(0,i._)((0,o._)({className:s()(p.Z.divider,t)},n),{children:(0,a.tZ)("hr",{})}))};function f(e){var{text:t}=e,n=(0,r._)(e,["text"]);let{iString:l}=(0,c.M1)(),s=t||l("OR");return(0,a.BX)(u.X2,(0,i._)((0,o._)({gap:12,alignItems:"center"},n),{children:[(0,a.tZ)(m,{flex:"grow"}),(0,a.tZ)(d.xv.Meta,{children:s}),(0,a.tZ)(m,{flex:"grow"})]}))}},51776:function(e,t,n){n.d(t,{cv:()=>h,fv:()=>m,oi:()=>p,ts:()=>g});var o=n(7409),i=n(99282),r=n(98848),a=n(16584),l=n(94184),s=n.n(l),c=n(98661),u=n(19081);n(58175);var d=n(68686);let p=(0,c.forwardRef)((e,t)=>{var{className:n,type:l="text",error:c=!1,leading:p,trailing:m,flex:g="auto",unstyled:_=!1}=e,v=(0,r._)(e,["className","type","error","leading","trailing","flex","unstyled"]);return(0,a.BX)(u.hs,{position:"relative",flex:g,minWidth:0,children:[(0,a.tZ)("input",(0,i._)((0,o._)({},v),{type:l,className:s()(n,d.Z.input,d.Z.inputText,c&&d.Z.error,v.disabled&&d.Z.disabled,v.readOnly&&d.Z.readOnly,null!=p&&d.Z.leading,null!=m&&d.Z.trailing,_&&d.Z.unstyled),onKeyDown:e=>{var t;e.stopPropagation(),null===(t=v.onKeyDown)||void 0===t||t.call(v,e)},ref:t})),p&&(0,a.tZ)(f,{children:p}),m&&(0,a.tZ)(h,{children:m})]})}),m=e=>{var{className:t,children:n}=e,l=(0,r._)(e,["className","children"]);return(0,a.tZ)(u.tu,(0,i._)((0,o._)({gap:8,className:t},l),{children:n}))},f=e=>{let{children:t,className:n}=e;return(0,a.tZ)(u.hs,{className:s()(d.Z.wrapper,d.Z.leading,n),children:t})},h=e=>{var{children:t,className:n}=e,l=(0,r._)(e,["children","className"]);return(0,a.tZ)(u.hs,(0,i._)((0,o._)({className:s()(d.Z.wrapper,d.Z.trailing,n)},l),{children:t}))};function g(e){let t=(0,c.useRef)(null);return{innerRef:t,combinedRef:n=>{t.current=n,"function"==typeof e?e(n):e&&(e.current=n)}}}},80026:function(e,t,n){n.d(t,{Av:()=>l.A,E7:()=>i.E7,GI:()=>o.GI,M5:()=>r.M5,X2:()=>r.X2,X4:()=>o.X4,ZC:()=>s.ZC,et:()=>a.et,gq:()=>r.gq,hU:()=>o.hU,hh:()=>a.hh,hs:()=>r.hs,iz:()=>s.iz,kG:()=>o.kG,oB:()=>i.oB,sg:()=>r.sg,tu:()=>r.tu,xu:()=>i.xu,xv:()=>a.xv,zo:()=>i.zo,zx:()=>o.zx});var o=n(15771),i=n(71068),r=n(19081),a=n(58175),l=n(91021),s=n(61254)},39276:function(e,t,n){n.d(t,{A:()=>o});let o=(0,n(71068).zo)({display:"contents"},"a")},24791:function(e,t,n){n.d(t,{H$:()=>N,LH:()=>M,MO:()=>w,Os:()=>A,R7:()=>y,SY:()=>S,WD:()=>P,Ww:()=>p,XV:()=>_,aM:()=>I,a_:()=>k,dC:()=>Z,dq:()=>v,hK:()=>m,oH:()=>h,po:()=>f,rm:()=>E,sM:()=>C,sv:()=>b,tk:()=>x,uo:()=>U,xH:()=>R});var o=n(6070),i=n(51699),r=n(31582),a=n(60308),l=n(63651),s=n(84864);let c=e=>{var t;return!!(null==e?void 0:e.sections)&&(null===(t=e.sections)||void 0===t?void 0:t.length)>0},u=e=>!!(null==e?void 0:e.podcast_enabled),d=e=>{if(!e)return 0;let t=[];return c(e)&&(t=m(e)),+!!u(e)+t.length},p=e=>!!e&&d(e)>0,m=e=>e&&c(e)?e.sections.filter(e=>e.is_podcast):[],f=e=>!!e&&!!(e.is_free_subscribed&&!e.is_subscribed),h=e=>!!e&&"enabled"===e.payments_state,g=function(e){let{usePreview:t=!1,useDraft:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(null==e?void 0:e.type){case"newsletter":return n?e.draftVoiceoverUpload:e.voiceoverUpload;case"podcast":if(t)return n?e.draftPodcastPreviewUpload:e.podcastPreviewUpload;return n?e.draftPodcastUpload:e.podcastUpload;case"video":return n?e.draftVideoUpload:e.videoUpload;default:return null}},_=function(e){let{usePreview:t=!1,useDraft:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;let o=g(e,{usePreview:t,useDraft:n});if(o){var i;return null!==(i=o.duration)&&void 0!==i?i:null}if((null==e?void 0:e.type)==="podcast"&&!t){let t=n?e.draft_podcast_duration:e.podcast_duration;return null!=t?t:null}return null},v=e=>!!e&&"podcast"===e.type&&!!e.podcastUpload&&!!e.podcastUpload.is_free_preview,b=e=>{var t;let{post:n}=e;return!!n&&!!(null===(t=n.podcastFields)||void 0===t?void 0:t.free_podcast_url)},y=e=>{var t,n;return e.is_www?null!==(n=e.logo_url)&&void 0!==n?n:void 0:e.logo_url||e.cover_photo_url||e.author_photo_url||(null===(t=e.author)||void 0===t?void 0:t.photo_url)},w=e=>{var t;return e&&"plans"in e&&Array.isArray(null==e?void 0:e.plans)&&null!==(t=e.plans.find(e=>(0,i.F)({plan:e})))&&void 0!==t?t:null},S=e=>!!w(e),E=e=>{let{pub:t,currency:n}=e,o=w(t);return o?(0,r.vq)(o,n):null},N=e=>{var t,n;if((0,o.VL)({pub:e}))return"Founders";let i=w(e);return null!==(n=null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:t.short_description)&&void 0!==n?n:null},A=e=>!!e&&!!e.state&&("error"===e.state||"cancelled"===e.state),k=(e,t)=>(null==t?void 0:t.audience)==="founding"&&N(e)||"paid",T=e=>{let{pub:t,url:n}=e;return!!n.includes("api.substack.com")&&(n.includes("/feed/podcast/".concat(t.id,"/s/"))||n.includes("/feed/podcast/".concat(t.id,".rss")))},P=e=>!!e&&!!e.podcast_enabled&&(!e.podcast_feed_url||!T({pub:e,url:e.podcast_feed_url})),I=e=>{var t;let{pub:n,section:o}=e;if(!o.is_podcast)return!1;let i=(null===(t=o.podcastSettings)||void 0===t?void 0:t.podcast_feed_url)||null;return!i||!T({pub:n,url:i})},x=e=>{var t,n;let{pub:i,includeMainPub:r,excludePodcasts:c}=e;if(!i)return[];let u=[];return r&&u.push({name:i.name,description:null!==(n=i.hero_text)&&void 0!==n?n:"",logoUrl:i.logo_url,sectionId:null,linkUrl:(0,a.sai)(i),defaultOn:!0}),null===(t=i.sections)||void 0===t||t.forEach(e=>{!(c&&e.is_podcast&&!(0,s.sectionIsSpecificallyMarkedAsNewsletter)({section:e,pub:i})||(0,o.HD)({pub:i})&&e.is_podcast)&&u.push({name:e.name,description:e.description,logoUrl:e.logo_url,sectionId:e.id,linkUrl:(0,l.Ucy)(i,{section:e}),defaultOn:e.is_default_on})}),u};function C(e){let{sub:t}=e;return!!t&&!!t.plan&&!!t.is_founding&&"metadata"in t.plan&&!!t.plan.metadata&&!t.plan.metadata.fixed_price}let U=e=>{var t;let{post:n,section:o,pub:i}=e;return!!n.videoUpload&&("video"===n.type||!!(null===(t=n.podcastFields)||void 0===t?void 0:t.hide_from_feed)||!!(!o&&!i.podcast_enabled)||!!(o&&!o.is_podcast))};function Z(e){var t;let{post:n,pub:o,section:i}=e;return(null===(t=n.podcastFields)||void 0===t||!t.hide_from_feed)&&(i?i.is_podcast:u(o))}let R=e=>{var t,n,o,i,r;return!!(null==e?void 0:null===(o=e.videoUpload)||void 0===o?void 0:null===(n=o.extractedAudio)||void 0===n?void 0:null===(t=n.transcription)||void 0===t?void 0:t.transcript_url)||!!(null==e?void 0:null===(r=e.podcastUpload)||void 0===r?void 0:null===(i=r.transcription)||void 0===i?void 0:i.transcript_url)},M=e=>{var t,n,o,i,r,a;return null!==(a=null!==(r=null==e?void 0:null===(n=e.videoUpload)||void 0===n?void 0:null===(t=n.extractedAudio)||void 0===t?void 0:t.transcription)&&void 0!==r?r:null==e?void 0:null===(o=e.podcastUpload)||void 0===o?void 0:o.transcription)&&void 0!==a?a:null==e?void 0:null===(i=e.videoUpload)||void 0===i?void 0:i.transcription}},6070:function(e,t,n){n.d(t,{$H:()=>u,HD:()=>s,Iv:()=>E,QI:()=>y,VL:()=>a,hx:()=>v,jC:()=>d,kb:()=>l,lp:()=>f,p$:()=>p,rM:()=>S,uT:()=>m});var o=n(39693),i=n.n(o);let r=new Set([0x83c163a,0x82bc701,0x81adcb6,0x8455987,0x8487b09,0x85eb9a5,0x861de49,0x8653d00,0x868d293,0x86f9884,0x872b528,0x8798da8,0x87d48d6,0x8809a67,0x883f640,0x8961657,0x8aedf0b,0x8bc9b46,0x8559743,0x887329b,0x888f704,0x88a9886,0x8910626,0x8999664,0x89d3d02,0x8a084ae,0x8c6f81e,0x8cb3c01,0x8cf2aa9,0x90a54a4,0x9aa80e8]);function a(e){let{pub:t,includeTheRampart:n=!1}=e;return!!t&&(!!n&&1620566===t.id||87281===t.id)}function l(e){let{pub:t}=e;return 228030===t.id}function s(e){let{pub:t}=e;return!!t&&[260347,3116199].includes(t.id)}let c=[/the front page/i,/tgif/i,/things worth remembering/i],u=e=>{let{pub:t}=e;return i()(c.map(e=>t.sections.find(t=>t.name.match(e)))).map(e=>e.id)};function d(e){let{pub:t}=e;return 2325511===t.id}function p(e){let{pub:t}=e;return 2857530===t.id}function m(e){let{pub:t}=e;return 471923===t.id}function f(e){let{post:t}=e;return!!t&&r.has(t.id)&&!!t.podcast_preview_upload_id}let h={87908:"morning-shots",87934:"the-triad",87969:"press-pass",87950:"overtime",87957:"bulwark-podcast",87956:"screen-time",87963:"the-next-level",104848:"george-conway-explains-it-all",87971:"the-focus-group",87958:"beg-to-differ",87975:"movie-aisle",87961:"the-secret-podcast",87964:"between-us",87978:"thursday-night-bulwark",135716:"the-michael-steele-podcast",111316:"shield-of-the-republic"},g={62624:"morning-shots",62631:"the-triad",62634:"overtime",62636:"press-pass",62639:"bulwark-podcast",62641:"beg-to-differ",62642:"the-secret-podcast",62644:"the-next-level",62645:"movie-aisle",62646:"between-us",62647:"the-focus-group",62648:"thursday-night-bulwark"},_=new Set(["beg-to-differ","between-us","bulwark-podcast","george-conway-explains-it-all","the-focus-group","the-next-level","the-secret-podcast","thursday-night-bulwark","the-michael-steele-podcast"]),v=e=>{let{sectionId:t}=e;return!!t&&(_.has(h[t])||_.has(g[t]))},b=new Set(["between-us","the-secret-podcast","thursday-night-bulwark"]),y=e=>{let{sectionId:t}=e;return!!t&&(b.has(h[t])||b.has(g[t]))},w=new Set(["bulwark-podcast","the-focus-group","beg-to-differ","george-conway-explains-it-all","the-next-level","the-michael-steele-podcast","shield-of-the-republic"]),S=e=>{let{sectionId:t}=e;return t&&(w.has(h[t])||w.has(g[t]))?["audio","video"]:["audio"]},E=e=>{let{user:t}=e;return t.is_founding?"/account/gifts/founding":"/subscribe?gift=true"}},34590:function(e,t,n){n.d(t,{bP:()=>i}),n(1788),n(31582);var o=n(84864);function i(e){let{amount:t,interval:n="",language:i="en",isOneOff:r=!1,truncateInterval:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(0,o.centsToPriceString)(null!=t?t:e.amount,e.currency);if("forever"!==e.interval){let t=n||e.interval,{iPlural:o,iString:s}=I18N.i(i);if(r)return l;if(3===e.interval_count){if("day"===t)return s("%1/three days",l);if("month"===t)return s("%1/three months",l);if("week"===t)return s("%1/three weeks",l);else if("year"===t)return s("%1/three years",l)}if("day"===t)return o("%2/day","%2/%1 days",e.interval_count,l);if("month"===t)return a?o("%2/mo","%2/%1 mos",e.interval_count,l):o("%2/month","%2/%1 months",e.interval_count,l);if("week"===t)return o("%2/week","%2/%1 weeks",e.interval_count,l);else if("year"===t)return a?o("%2/yr","%2/%1 yrs",e.interval_count,l):o("%2/year","%2/%1 years",e.interval_count,l)}return l}},31377:function(e,t,n){n.r(t),n.d(t,{getAllAudiences:()=>d,getAudiencesForPublicListing:()=>p,getCommentAuthor:()=>T,getCoverImageUrl:()=>P,getDurationForPostPreview:()=>x,getFoundingAudiences:()=>f,getFreePodcastUrl:()=>I,getPaidAudiences:()=>m,getPostAuthor:()=>k,getPreamble:()=>C,isFoundingAudience:()=>g,isPaidAudience:()=>h,isSubscriptionLevel:()=>_,previewSubHasFullAccessToPost:()=>A,pubRoleHasFullAccessToPost:()=>E,pubRolesHaveFullAccessToPost:()=>N,subHasFullAccessToPost:()=>w,subHasFullAccessToPostAudience:()=>S,userHasFullAccessToPost:()=>b});var o=n(7409),i=n(98848),r=n(84864);let a=["founding","only_paid","everyone","only_free"],l=["founding","only_paid","everyone"],s=["founding","only_paid"],c=["founding"],u=["free","paid","founding"];function d(){return[...a]}function p(){return[...l]}function m(){return[...s]}function f(){return[...c]}function h(e){return m().includes(e)}function g(e){return f().includes(e)}function _(e){return u.map(String).includes(e)}function v(e){switch(e){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw Error("Unknown audience: ".concat(e))}}function b(e,t){if(!t)return!1;if(!t.audience)throw Error("Post has no audience");if(e&&e.is_contributor&&e.subscription_publication_id===t.publication_id)return!0;let n=function(e,t){if(!t||(null==e?void 0:e.subscription_publication_id)===t){if((null==e?void 0:e.is_founding)||(null==e?void 0:e.is_contributor))return"founding";if(null==e?void 0:e.is_subscribed)return"paid"}return"free"}(e,t.publication_id);return v(t.audience).includes(n)}function y(e,t){if(!t||(null==e?void 0:e.publication_id)===t){if((null==e?void 0:e.membership_state)==="subscribed"&&(null==e?void 0:e.is_founding))return"founding";if((null==e?void 0:e.membership_state)==="subscribed")return"paid"}return"free"}function w(e,t){if(!t)return!1;if(!t.audience)throw Error("Post has no audience");let n=y(e,t.publication_id);return v(t.audience).includes(n)}function S(e,t){let n=y(e);return v(t).includes(n)}function E(e,t){if(!t)return!1;if(!t.audience)throw Error("Post has no audience");let n=(null==e?void 0:e.role)==="admin"||(null==e?void 0:e.role)==="contributor"||(null==e?void 0:e.membership_state)==="subscribed"&&(null==e?void 0:e.is_founding)?"founding":(null==e?void 0:e.membership_state)==="subscribed"?"paid":"free";return v(t.audience).includes(n)}function N(e,t){return!!(t&&E(null==e?void 0:e[t.publication_id],t))}function A(e,t,n){let{audienceOverride:o}=n;if(!t)return!1;if(!t.audience&&!o)throw Error("Post has no audience");return v(null!=o?o:t.audience).includes(e)}function k(e,t){var n;let r=null==t?void 0:null===(n=t.publishedBylines)||void 0===n?void 0:n[0];if(r)return r;let a=e.contributors.find(e=>e.owner);if(a){let{user_id:e}=a,t=(0,i._)(a,["user_id"]);return(0,o._)({id:e},t)}let l=e.contributors.find(e=>["admin","contributor"].includes(e.role));if(l){let{user_id:e}=l,t=(0,i._)(l,["user_id"]);return(0,o._)({id:e},t)}return{id:e.author_id,name:e.author_name,photo_url:e.author_photo_url,bio:e.author_bio}}function T(e){var t,n,o,i,r,a,l,s,c,u,d,p,m,f,h;return{id:null!==(s=null!==(l=null===(t=e.user)||void 0===t?void 0:t.id)&&void 0!==l?l:e.user_id)&&void 0!==s?s:-1,name:null!==(u=null!==(c=null===(n=e.user)||void 0===n?void 0:n.name)&&void 0!==c?c:e.name)&&void 0!==u?u:"",handle:null!==(d=null===(o=e.user)||void 0===o?void 0:o.handle)&&void 0!==d?d:e.handle,photo_url:null!==(p=null===(i=e.user)||void 0===i?void 0:i.photo_url)&&void 0!==p?p:e.photo_url,bestseller_tier:null!==(f=null!==(m=null===(r=e.user)||void 0===r?void 0:r.bestseller_tier)&&void 0!==m?m:e.user_bestseller_tier)&&void 0!==f?f:null,primary_publication:null!==(h=null===(a=e.user)||void 0===a?void 0:a.primary_publication)&&void 0!==h?h:e.user_primary_publication}}function P(e){return!e.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(e.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(e.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(e.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(e.cover_image)?null:e.cover_image}function I(e){var t,n;let{post:o}=e;return null!==(n=null===(t=o.podcastFields)||void 0===t?void 0:t.free_podcast_url)&&void 0!==n?n:null}function x(e){var t,n,o,i,r,a,l,s;let{post:c}=e;return null!==(s=null!==(l=null!==(a=null!==(r=null===(t=c.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==r?r:null===(o=c.podcastUpload)||void 0===o?void 0:null===(n=o.full_podcast_info)||void 0===n?void 0:n.duration)&&void 0!==a?a:null===(i=c.podcastUpload)||void 0===i?void 0:i.duration)&&void 0!==l?l:c.podcast_duration)&&void 0!==s?s:0}function C(e,t,n){let{is_freemail:o,is_free_preview:i,sectionEmailRenderElements:a}=n,l=(e,n)=>{var o,i;let r=!("section"in t&&(null===(o=t.section)||void 0===o?void 0:o.ignore_publication_email_settings));return null!==(i=null==a?void 0:a[n])&&void 0!==i?i:r?null==e?void 0:e[n]:null};return i?l(e.email_render_elements,"free_preview_preamble"):(0,r.isPaidPub)(e)?"everyone"===t.audience?l(e,o?"public_post_free_signup_preamble":"public_post_subscriber_preamble"):h(t.audience)?l(e,"subscriber_post_subscriber_preamble"):void 0:l(e.email_render_elements,"email_preamble_for_free_writer")}},40121:function(e,t,n){n.d(t,{FQ:()=>s,Hm:()=>a,Of:()=>r});var o=n(71171),i=n.n(o);let r=function(e){let{softMax:t=32,hardMax:n=48,extension:o=!1,extensionSeparator:r="-"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a(e);if(l.length>t){let e=l.indexOf("-",t);-1!==e&&(l=l.substr(0,e))}l.length>n&&(l=l.substr(0,n));let s=o&&"string"==typeof o?o:i()().substr(0,3);return l?o&&(l+="".concat(r).concat(s)):l=s,l},a=function(e){let{hashIfEmpty:t=!1,allowUnicode:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(e||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(n?RegExp("[^\\p{L}-]+","gu"):/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return e&&"string"==typeof e&&!o&&t?Array.from(e).map(e=>e.codePointAt(0)).map(e=>{var t;return null!==(t=null==e?void 0:e.toString(16))&&void 0!==t?t:""}).join("").substring(0,12):o},l=e=>{let t=parseInt(e);return isNaN(t)||"".concat(t)!==e?{slug:r(e),id:null}:{slug:null,id:t}},s=e=>{var t;let{pub:n,slugOrId:o}=e,{id:i,slug:a}=l(o);return n.authorPagesInfo&&null!==(t=n.authorPagesInfo.find(e=>i?e.user_id===i:r(e.name)===a))&&void 0!==t?t:null}},31582:function(e,t,n){n.d(t,{$e:()=>o,vq:()=>i}),n(18029),n(98012),n(84864);let o=(e,t)=>{let n;if(t&&t!==e.currency){var o,i,r;if(!(null===(o=e.currency_options)||void 0===o?void 0:o[t]))return;n=null!==(r=null===(i=e.currency_options[t])||void 0===i?void 0:i.unit_amount)&&void 0!==r?r:null}else n="object"in e&&"price"===e.object?e.unit_amount:e.amount;return null!=n?n:0},i=(e,t)=>{var n;return t&&t!==e.currency?null===(n=e.metadata.minimum_local)||void 0===n?void 0:n[t]:e.metadata.minimum}},18967:function(e,t,n){n.d(t,{E4:()=>i,ML:()=>r});var o,i=((o={}).CompOneMonth="comp_one_month",o.CompThreeMonths="comp_three_months",o.CompSixMonths="comp_six_months",o.CompNineMonths="comp_nine_months",o.CompTwelveMonths="comp_twelve_months",o.Custom="custom",o);let r={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"}},22838:function(e,t,n){n.d(t,{E4:()=>o.E4,Os:()=>i.O,QP:()=>r.QP,qX:()=>r.qX});var o=n(18967),i=n(12444),r=n(42886);n(20591),n(74699)},63651:function(e,t,n){n.d(t,{ANx:()=>p.AN,B6d:()=>Y,BMD:()=>z,BhD:()=>en,Cnj:()=>eu,D2I:()=>c.D2,Don:()=>g,DsN:()=>c.Ds,E2n:()=>c.E2,FA:()=>U,FKc:()=>ev,Fhs:()=>f.Fh,GR3:()=>f.GR,Gfh:()=>h,HQ5:()=>D,Hs2:()=>A,IYm:()=>c.IY,JDA:()=>s.JD,JlE:()=>eh,L4R:()=>s.L4,Mk9:()=>j,MoQ:()=>p.Mo,NJv:()=>f.NJ,NNq:()=>f.NN,Nhr:()=>f.Nh,Oiq:()=>c.Oi,Oz:()=>X,QHt:()=>H,QK7:()=>I,QXp:()=>c.QX,RKj:()=>J,SUl:()=>$,SVA:()=>s.SV,Sgq:()=>c.Sg,SjL:()=>et,T91:()=>s.T9,UDR:()=>R,UH4:()=>d.UH,Ucy:()=>K,VCE:()=>B,W1P:()=>y,XAP:()=>el,Y$Q:()=>s.Y$,ZJn:()=>s.ZJ,ZVW:()=>F,ZXb:()=>s.ZX,_5K:()=>O,_IO:()=>f._I,_No:()=>p._N,b1P:()=>E,bHR:()=>Z,cKK:()=>ef,chL:()=>q,cwg:()=>eo,e3o:()=>c.e3,ekm:()=>em,en2:()=>W,fQy:()=>ei,gKm:()=>eg,gpq:()=>G,h4i:()=>L,h7c:()=>x,h8g:()=>ea,j8T:()=>er,jnY:()=>p.jn,k0y:()=>c.k0,k5c:()=>eb,k7R:()=>ep,lsD:()=>V,lsY:()=>e_,mGw:()=>p.mG,mIK:()=>c.mI,mx9:()=>c.mx,n1t:()=>s.n1,ozY:()=>ec,pvz:()=>s.pv,qUD:()=>Q,rcW:()=>c.rc,sR2:()=>T,szv:()=>C,thY:()=>M,tsE:()=>es,uRy:()=>p.uR,wI3:()=>P,wsn:()=>p.ws,xC8:()=>S,xdn:()=>N,yRy:()=>w,zF4:()=>d.zF,zJH:()=>d.zJ,zRj:()=>k,ze_:()=>ed});var o=n(7409),i=n(99282),r=n(60826),a=n(6070),l=n(40121),s=n(14773),c=n(33884),u=n(26111),d=n(17043),p=n(60836),m=n(84864),f=n(36186);let h="/".concat("inbox"),g="/".concat("chat"),_="/".concat("activity"),v="/".concat("search"),b="/".concat("history");function y(e){let{root:t,user:n,addBase:o,skipToken:i=!1,doNotAutoSubmit:r=!1,params:a={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t?/[&?]$/.test(t)||(t.includes("?")||t.endsWith("%%")?t+="&":t+="?"):t=o?"".concat((0,s.SV)(e),"/subscribe?"):"/subscribe?",null==n?void 0:n.email)a.autoSubmit=!r,a.email=null==n?void 0:n.email;else if(!a.token&&!i){var l;let e="undefined"!=typeof window&&(null===(l=window._preloads)||void 0===l?void 0:l.original_url)?(0,u.x)(window._preloads.original_url,"token"):null;a.token=e}return t+(0,s.Y$)(a)}function w(e){var t,n;let{pub:i,user:r,params:l}=e;return y(i,{addBase:!0,user:r,params:(0,o._)({},l,(0,a.VL)({pub:i})?{plan:"yearly300usd",upgrade_to_founding:!0}:{selectedPlanId:null===(n=i.plans)||void 0===n?void 0:null===(t=n.find(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.founding}))||void 0===t?void 0:t.id})})}function S(e){let{pubId:t,postId:n,commentId:o,params:i,noBase:r}=e,a=r?"":(0,s.ZJ)();return(0,s.n1)("".concat(a,"/chat").concat(t?"/".concat(t):"").concat(n?"/post/".concat(n):"").concat(o?"/reply/".concat(o):""),i)}function E(e){let{pub:t,params:n}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/send-reader-gifts/").concat(t.id),n)}function N(e){let{pub:t,params:n}=e;return(0,s.n1)("".concat((0,s.SV)(t),"/account/gifts"),n)}function A(e){let{giftId:t,token:n,params:i}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/accept-gift/").concat(t),(0,o._)({token:n},i))}function k(e){return"".concat((0,s.SV)(e),"/account")}function T(e){let{pub:t}=e;return(0,s.n1)("".concat((0,s.SV)(t),"/account"),{extra_seats:!0})}function P(e){let{addBase:t=!1,baseUrlOptions:n={},section:o="",params:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,s.n1)("".concat(function(e){let{addBase:t,baseUrlOptions:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,s.SV)(e,n):"";return"".concat(o,"/publish")}(e,{addBase:t,baseUrlOptions:n}),"/settings"),i);return o&&(r+="#".concat(o)),r}function I(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,s.SV)(e):"",i="".concat(o,"/publish/home");return n?(0,s.n1)(i,n):i}function x(e,t){let{addBase:n,params:r,referrer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n?(0,s.SV)(e):"",c="".concat(l,"/meetings/book/").concat(t),u=(0,i._)((0,o._)({},r),{referrer:a});return r||a?(0,s.n1)(c,u):c}function C(e){let{addBase:t,params:n,referrer:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t?(0,s.SV)(e):"",l="".concat(a,"/meetings"),c=(0,i._)((0,o._)({},n),{referrer:r});return n||r?(0,s.n1)(l,c):l}function U(e){let{user_id:t,user_name:n,utm_source:o,utm_campaign:i,redirect:r}=e,a="".concat((0,s.ZX)(),"/users/").concat(t),c=(0,l.Hm)(n,{hashIfEmpty:!0});return c&&(a+="-".concat(c)),(0,s.n1)(a,{utm_source:o,utm_campaign:i,redirect:r})}function Z(e){let{liveStreamId:t,utm_source:n,utm_campaign:i,params:r}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/live-stream/").concat(t),(0,o._)({utm_source:n,utm_campaign:i},r))}function R(e){let{liveStreamId:t,utm_source:n,utm_campaign:i,noBase:r,params:a}=e,l=r?"":(0,s.SV)();return(0,s.n1)("".concat(l,"/live-stream/").concat(t),(0,o._)({utm_source:n,utm_campaign:i},a))}function M(e){let{pub:t,utm_source:n,utm_campaign:o}=e;return(0,s.n1)("".concat((0,s.SV)(t),"/livestream"),{utm_source:n,utm_campaign:o})}function B(e){let{noBase:t,isGif:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?"":(0,s.SV)();return"".concat(o,"/live-stream/").concat(e,"/preview.").concat(n?"gif":"jpg")}function L(e){let{tab:t,utm_source:n,utm_campaign:o,redirect:i}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/").concat(t),{utm_source:n,utm_campaign:o,redirect:i})}function D(e){let{subdomain:t,utm_source:n,utm_campaign:o,redirect:i}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/pub/").concat(t),{utm_source:n,utm_campaign:o,redirect:i})}function F(e){let{pubKey:t,utm_source:n,utm_campaign:o,r:i,redirect:r,modal:a}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/pub/").concat(t,"/chat"),{utm_source:n,utm_campaign:o,redirect:r,modal:a,r:i})}function O(e){let{postId:t,targetReplyId:n,utm_source:o,utm_campaign:i,showTarget:r,redirect:a,modal:l}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/chat/posts/").concat(t),{target_reply_id:n,utm_source:o,utm_campaign:i,showTarget:r,redirect:a,modal:l})}function V(e){let{commentId:t,targetReplyId:n,utm_source:o,utm_campaign:i,showTarget:r,redirect:a,modal:l}=e;return(0,s.n1)("".concat((0,s.ZX)(),"/chat/replies/").concat(t),{target_reply_id:n,showTarget:r,utm_source:o,utm_campaign:i,redirect:a,modal:l})}function z(e){let{urlParams:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.Sg)(e,{baseUrl:(0,s.ZX)(),urlParams:t})}function H(e){let{pub:t,params:n,section:o}=e;return o?(0,s.n1)("".concat((0,s.SV)(t),"/listen/").concat(o.slug,"/archive"),n):(0,s.n1)("".concat((0,s.SV)(t),"/podcast/archive"),n)}function W(e){let t=e.trim();if(/\s/.test(t))return null;try{let e=new URL(t);if(!["http:","https:"].includes(e.protocol))return null;return e}catch(e){return null}}let G=(e,t,n,o)=>{switch(e){case"user":default:return U({user_id:t,user_name:n,utm_source:"mentions"});case"pub":return o?(0,s.n1)(o,{utm_source:"mentions"}):""}};function j(e,t){let{addBase:n=!1,query:o={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.n1)("".concat(n?(0,s.SV)(e):"","/t/").concat(t.slug),o)}function q(e){if(e){if(e.startsWith(s.L4)||e.startsWith("https://res.cloudinary.com")||e.startsWith("https://bucketeer"))return!0;let t="https://".concat((0,m.getPostMediaBucketName)(),".s3.amazonaws.com");if(e.startsWith(t))return!0}return!1}function J(e){let t;if(!e)return!1;try{t=new URL(e)}catch(e){return!1}let{hostname:n,pathname:o}=t;return!!n.startsWith("open.substack.com")&&o.startsWith("/pub/")&&o.includes("/p/")}function X(e,t){var n,o;let{addBase:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.section?K(e,{addBase:i,section:t.section}):t.post?(0,p.uR)(e,t.post,{noBase:!i}):t.postTag?j(e,t.postTag,{addBase:i}):i&&/^\/[^/]/.test(null!==(n=t.link_url)&&void 0!==n?n:"")?"".concat((0,s.SV)(e)).concat(t.link_url):null!==(o=t.link_url)&&void 0!==o?o:""}function K(e){let{addBase:t,section:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(n=n||(null==e?void 0:e.section)))throw Error("Section not found");let o=t?(0,s.SV)(e):"";return"".concat(o,"/s/").concat(n.slug||n.id)}let Y=e=>{var t;let n="".concat(null!==(t=null==e?void 0:e.base)&&void 0!==t?t:"","/api/v1/fb/auth");return e?(0,s.n1)(n,e):n};function Q(e,t){return(0,s.n1)("".concat((0,s.SV)(),"/inbox/post/").concat(e),t)}function $(e,t){let{token:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.n1)("".concat((0,s.SV)(e),"/api/v1/post/pdf"),{postId:t,token:n})}function ee(e){var t;let n=e.match(/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/);return(n||(n=e.match(/^https?:\/\/([^\.]+)\.substack\.com/)))&&null!==(t=n[1])&&void 0!==t?t:null}function et(e){let{url:t,currentSubdomain:n,currentCustomDomain:o}=e;if(J(t))return n===ee(t);let i=!!t.match(/http:\/\/\w*\.substack\.com\.localhost:5000/);return o&&!i?o.replace(/^www\./,"")===new URL(t).hostname.replace(/^www\./,""):n===ee(t)}let en=function(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,s.SV)(e):"";return(0,s.n1)("".concat(o,"/account/cancel"),n)},eo=function(e,t){let{addBase:n,referrer:r,params:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n?(0,s.SV)(e):"",c="".concat(l,"/publish/posts/detail/").concat(t),u=(0,i._)((0,o._)({},a),{referrer:r});return a||r?(0,s.n1)(c,u):c},ei=function(e,t){let{addBase:n,referrer:r,params:a,selectionForQuote:l,alreadyPublished:c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n?(0,s.SV)(e):"",d="".concat(u,"/publish/posts/detail/").concat(t,"/share-center"),p=(0,i._)((0,o._)({},a),{referrer:r,selectionForQuote:l,alreadyPublished:c});return a||r||l||c?(0,s.n1)(d,p):d},er=function(e,t){let{addBase:n,params:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null==e?void 0:e.id))return"";let r=n?(0,s.SV)(e):"";return(0,s.n1)("".concat(r,"/leaderboard?"),(0,o._)({},i,(null==t?void 0:t.id)&&{referrer_token:t.id.toString(36)}))},ea=(e,t)=>{if(!e)return"";let n=(0,s.SV)(e);return"".concat(r.W.SURVEY_URL_PREFIX).concat(n,"/survey/").concat(t,"?token=").concat(r.W.SURVEY_TOKEN)};function el(e){return"".concat((0,s.ZJ)(),"/browse/").concat(e)}function es(e,t){return(0,s.Q2)("/collection/".concat(e),t)}function ec(e){return(0,s.Q2)(h,e)}function eu(e){return(0,s.Q2)(g,e)}function ed(e){return(0,s.Q2)(_,e)}function ep(e){return(0,s.Q2)(v,e)}function em(e){return(0,s.Q2)(b,e)}function ef(e){return"".concat((0,s.ZJ)(),"/api/v1/list/cover_image/").concat(e.id,".jpg")}function eh(e){let{userId:t,userName:n}=e;return"".concat(t,"-").concat((0,l.Of)(n))}function eg(e){let{userId:t,userName:n,noBase:o=!0}=e,i=eh({userId:t,userName:n}),r=o?"":(0,s.ZJ)();return"".concat(r,"/api/v1/user/").concat(i,"/public_profile")}function e_(e){return!!e&&e.includes("generic.png")}function ev(){let{utm_medium:e,post_id:t,publication_subdomain:n,downloadAll:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.n1)("".concat((0,s.SV)({subdomain:null!=n?n:""},{forceSubdomain:!0}),"/publish/post/").concat(t),{tab:"clips",utm_medium:e,downloadAll:o})}function eb(e){let{categoryId:t,ranking:n,utm_source:o,focusedPubId:i,backAction:r}=e;return(0,s.n1)("".concat((0,s.SV)(),"/leaderboard/").concat(t).concat("for-you"===t?"":"/".concat("trending"===n?"rising":n)),{utm_source:o,focusedPubId:i,backAction:r})}},60308:function(e,t,n){n.d(t,{ANx:()=>g.ANx,AaB:()=>v.A,AmV:()=>e1,BPe:()=>ey,BhD:()=>g.BhD,BtY:()=>eU,Cf3:()=>e9,ChS:()=>eA,D4e:()=>v.D4,DeU:()=>eo,E2n:()=>d.E2,FEI:()=>ek,Fdd:()=>eD,Fnz:()=>j,Fu$:()=>I,G1C:()=>E,GR3:()=>g.GR3,HMK:()=>T,I4e:()=>h.I4,JWy:()=>eJ,K8_:()=>C,LaP:()=>e2,Li8:()=>ec,LwU:()=>ed,MBd:()=>ex,MWO:()=>ew,MoQ:()=>g.MoQ,NNq:()=>g.NNq,Nhr:()=>f.Nh,Q6L:()=>k,QK7:()=>g.QK7,RMm:()=>v.RM,RQ:()=>eO,RwZ:()=>eP,SIi:()=>A,SMH:()=>h.SM,SVA:()=>g.SVA,TJI:()=>w,Tk$:()=>K,UH4:()=>g.UH4,UVC:()=>Z,UzE:()=>eu,VCE:()=>ev,W$Z:()=>e6,W1P:()=>ea,Wnz:()=>U,Xbg:()=>L,Y$Q:()=>g.Y$Q,YUt:()=>eh,YZ5:()=>$,ZJn:()=>g.ZJn,ZPN:()=>eV,Zdb:()=>G,Zs0:()=>H,_0p:()=>J,_HV:()=>es,_P8:()=>ei,aR6:()=>S,a_F:()=>X,bxL:()=>ez,c0Q:()=>D,cdl:()=>et,cjA:()=>eS,cse:()=>e0,d54:()=>eE,d6h:()=>B,dIB:()=>V,daR:()=>er,eSs:()=>N,en2:()=>g.en2,eq9:()=>eR,fF3:()=>Q,fQy:()=>g.fQy,fw6:()=>ep,gGz:()=>eI,h75:()=>eg,hI6:()=>ej,iJV:()=>eM,iNT:()=>eT,jHQ:()=>O,kOB:()=>eY,kPM:()=>eq,kfT:()=>el,l5Q:()=>e3,mGw:()=>g.mGw,n1t:()=>g.n1t,nRe:()=>F,nxG:()=>M,ow1:()=>eK,p$H:()=>e5,p5u:()=>eZ,pN7:()=>z,pqm:()=>W,qN9:()=>eH,qQN:()=>x,qvS:()=>en,rfk:()=>e4,rhs:()=>y,s2v:()=>eW,sai:()=>R,tS3:()=>Y,tSX:()=>e$,tk4:()=>m.tk,uQO:()=>eC,uRy:()=>g.uRy,uXE:()=>ee,urw:()=>eG,uyd:()=>eQ,v3t:()=>q,wI3:()=>g.wI3,wrY:()=>eL,xJ2:()=>e8,zF4:()=>g.zF4,zJH:()=>g.zJH,zUJ:()=>h.zU});var o=n(7409),i=n(99282),r=n(98848),a=n(14293),l=n.n(a),s=n(35500),c=n(6070),u=n(40121),d=n(33884),p=n(69332),m=n(60836),f=n(36186),h=n(70408),g=n(63651),_=n(47929),v=n(51231);let b=[/\/embed$/,/\/embed\/podcast\//];function y(e,t){let{skipHash:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(t=e,e=document.location.pathname+document.location.search+document.location.hash);let o=(0,g.n1t)(e.split("?")[0].split("#")[0],Object.assign((0,p.m)(e),t));return -1===e.indexOf("#")||n||(o+=e.substr(e.indexOf("#"))),o}let w=function(e){let{params:t={},signedIn:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,g._No)(n,e);return(0,g.n1t)("".concat((0,g.SVA)(e),"/"),(0,o._)({lli:i},t))},S=e=>!e||!e.startsWith("/")||e.startsWith("//")||!/\.svg(\?|#|$)/.test(e)?e:"".concat(g.L4R,"/").concat(e),E=e=>(e||"").replace(/^(\w+:)?\/\//g,""),N=e=>{let t=(0,g.ZJn)();return"".concat(t,"/discover/stocks/").concat(e)},A=e=>{let t=(0,g.SVA)({subdomain:"admin"});return e?"".concat(t,"/users/").concat(e):t},k=(e,t)=>{let n=(0,g.SVA)({subdomain:"admin"});return(0,g.n1t)("".concat(n,"/customer_support_mode"),{for_pub:t?t.subdomain:void 0,redirect:e})},T=function(){let{utm_source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g.T91;return(0,g.n1t)((0,g.JDA)("".concat("reader",".").concat(t)),{utm_source:e})},P=function(e){let{query:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=g.T91;return(0,g.n1t)("".concat((0,g.JDA)(n)).concat(e),t)},I=e=>P("/activity",{query:e}),x=e=>P("/inbox/saved",e),C=function(e,t){let{params:n={},redirect:i=null,source:r=null,postUuid:a=null,inbox:l=null,hostOverride:s=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)return"";let c=s?a?"".concat(s,"/p/").concat(a):"".concat(s,"/p/").concat(t):a?"".concat((0,g.ZXb)(),"/pub/").concat(e,"/drafts/").concat(a):"".concat((0,g.ZXb)(),"/pub/").concat(e,"/p/").concat(t),u=(0,o._)({utm_source:r,redirect:i,inbox:l},n);return(0,g.n1t)(c,u)};function U(e,t,n,o){let{maxParents:i=3,token:r}=o;if(!n||!n.ancestor_path)return(0,m.tk)(e,t,n);let a=n.ancestor_path.split("."),l=a.length<i?0:a.length-i;return(0,g.uRy)(e,t,{comments:!0,commentId:n.id,commentContextId:a[l],urlParams:{token:r}})}let Z=e=>{let{pub:t,section:n,addBase:o=!0}=e,i=o?(0,g.SVA)(t):"";return n?"".concat(i,"/listen/").concat(n.slug||n.id):"".concat(i,"/podcast")},R=function(e){let{params:t,section:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n?"/s/".concat(n.slug||n.id):"";return(0,g.n1t)("".concat(o,"/archive"),t)},M=function(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,g.SVA)(e):"";return(0,g.n1t)("".concat(o,"/archive"),n)},B=function(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,g.SVA)(e):"";return(0,g.n1t)("".concat(o,"/about"),n)},L=function(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,g.SVA)(e):"";return(0,g.n1t)("".concat(o,"/sitemap"),n)},D=function(e){let{params:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat((0,g.SVA)({subdomain:e}),"/publish/home");return(0,g.n1t)(n,t)},F=e=>(0,g.n1t)("".concat((0,g.ZJn)(),"/twitter/find-pubs"),e),O=function(e){let{addBase:t,params:n,slug:o,isSection:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?(0,g.SVA)(e):"",a="".concat(r,"/publish/podcasting");return(o&&(a=i?"".concat(a,"/s/").concat(o):"".concat(a,"/").concat(o)),n)?(0,g.n1t)(a,n):a},V=function(e){let{addBase:t,params:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?(0,g.SVA)(e):"";return(0,g.n1t)("".concat(o,"/publish/subscribers"),n)},z=function(e,t){let{addBase:n,tab:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n?(0,g.SVA)(e):"";return(0,g.n1t)("".concat(i,"/publish/subscribers/legacy"),{email:t,tab:o})},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,g.n1t)("".concat((0,g.SVA)(e),"/subscribe"),t);return -1===n.indexOf("?")?"".concat(n,"?"):n},W=function(e){return"".concat((0,g.SVA)(e),"/subscribe?plan=founding&")},G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("/account/login",e)},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(0,g.n1t)("".concat((0,g.ZJn)(),"/refer/").concat(e),t):null},q=function(){let{utm_source:e,section:t,highlightNotification:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("".concat((0,g.ZJn)(),"/settings"),{utm_source:e,section:t,highlightNotification:n})},J=function(){let{utm_source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("".concat((0,g.ZJn)(),"/settings/subscriptions"),{utm_source:e})},X=e=>"".concat((0,g.SVA)(e),"/?utm_source=").concat(_.b3.substack,"&utm_medium=").concat(_.lP.email,"&utm_content=").concat(_.fZ.share,"&action=share"),K=(e,t)=>{var{startAtSubscribeFlow:n}=t,i=(0,r._)(t,["startAtSubscribeFlow"]);let a="".concat((0,g.SVA)(e),"/listen");if(i){let e=(0,g.Y$Q)(i);e&&(a+="?".concat(e))}return n?ea(e,(0,o._)({addBase:!0,next:a,skipPodcastSetupPage:!0},i)):a},Y=function(e){var t;let{addBase:n,params:r,noSection:a,section:l,user:s,startAtSubscribeFlow:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d="";if(n&&(d+=(0,g.SVA)(e)),(l=null!==(t=null!=l?l:(null==e?void 0:e.is_www)?null:null==e?void 0:e.section)&&void 0!==t?t:null)&&!a&&(d+="/s/".concat(l.slug||l.id)),d+="/account/add-podcast",s&&s.email&&!(0,c.HD)({pub:e})&&(r=(0,i._)((0,o._)({},r),{email:s.email}),d+="/email"),r){let e=(0,g.Y$Q)(r);e&&(d+="?".concat(e))}return u?ea(e,(0,o._)({addBase:!0,next:d,skipPodcastSetupPage:!0},r)):d},Q=e=>{for(let t=0;t<b.length;t++)if(b[t].test(e))return!0;return!1},$=e=>{let{useOriginalUrl:t}=e;if(t&&"undefined"!=typeof window&&window._preloads.original_url)try{let e=new URL(window._preloads.original_url);return"".concat(e.pathname).concat(e.search).concat(e.hash)}catch(e){}return"".concat(document.location.pathname).concat(document.location.search).concat(document.location.hash)},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{for_pub:t,email:n,prefilled_email:o,with_password:i,error:r,message:a,change_user:l,justTrying:s,useOriginalUrl:c,isOAuth:u}=e,{redirect:d}=e;return"string"!=typeof d&&(d=$({useOriginalUrl:null!=c&&c})),(0,g.n1t)("".concat((0,g.ZJn)(),"/sign-in"),{redirect:d,for_pub:t,email:n,prefilled_email:o,with_password:i,error:r,message:a,change_user:l,justTrying:s,isOAuth:u})},et=function(){let{utm_source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("".concat((0,g.ZJn)(),"/welcome"),{utm_source:e})},en=function(){let{params:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("".concat((0,g.ZJn)(),"/profile/edit"),e)},eo=function(){let{isAbbreviated:e,redirect:t,postRedirectToast:n,pubId:i=null,referringUserKey:r=null,params:a={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=null;if(t)try{l=new URL(t),n&&l.searchParams.set("profile-setup-message",n)}catch(e){l=new URL((0,g.ZJn)())}let s=(0,o._)({isAbbreviated:e,redirect:l?l.toString():null,pubId:i},a);return r&&(s.r=r),(0,g.n1t)("".concat((0,g.ZJn)(),"/reader-onboarding"),s)},ei=(e,t)=>"".concat((0,g.ZJn)(),"/discover").concat(e?"/category/".concat(e.slug):"/recomendations").concat("all"===t?"/all":""),er=function(){let{query:e,params:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="".concat((0,g.ZJn)(),"/search");return e&&(n="".concat((0,g.ZJn)(),"/search/").concat(encodeURIComponent(e))),y(n,t)};function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var{signedIn:n=!1,addBase:i=!1,root:a,user:l}=t,s=(0,r._)(t,["signedIn","addBase","root","user"]);let c=(0,g._No)(n,e);return(0,g.W1P)(e,{root:a,user:l,addBase:i,params:(0,o._)({},void 0===c?{}:{lli:c},s)})}let el=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.n1t)("".concat((0,g.SVA)(e),"/recommendations"),t)},es=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y("".concat((0,g.ZJn)(),"/signup"),e)},ec=function(e){let{addBase:t,baseUrlOptions:n,params:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t?(0,g.SVA)(e,n):"";return(0,g.n1t)("".concat(i,"/publish/recommendations"),o)},eu=e=>"".concat((0,g.SVA)(e),"/invite"),ed=function(e,t){let{utm_source:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.NNq)(e,{utm_source:n})},ep=e=>{let{pub:t,token:n=null}=e,{section:o}=t;if(o){var i;return(null===(i=o.podcastSettings)||void 0===i?void 0:i.podcast_feed_url)?o.podcastSettings.podcast_feed_url:em({pubId:t.id,sectionId:o.id,token:n})}return t.podcast_feed_url?t.podcast_feed_url:em({pubId:t.id,sectionId:null,token:n})};function em(e){let{pubId:t,sectionId:n,token:o}=e;if(n){let e="".concat((0,g.SVA)({subdomain:"api"}),"/feed/podcast/").concat(t,"/s/");return o?e+="".concat(n,"/private/").concat(o,".rss"):e+="".concat(n,".rss"),e}let i="".concat((0,g.SVA)({subdomain:"api"}),"/feed/podcast/").concat(t);return o?i+="/private/".concat(o,".rss"):i+=".rss",i}let ef=function(e){let{noOverride:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e.support_email&&!t?e.support_email:"support+".concat(e.subdomain,"@substack.com"):"support@substack.com"},eh=(e,t)=>"https://support.substack.com/hc/en-us?s=".concat(encodeURIComponent(ef(e,t))),eg=(e,t)=>{let n=e_(e,t);return(0,g.zF4)(n,null,{skipDomainValidation:!0,quality:"auto:best",version:4})},e_=(e,t)=>(0,g.n1t)("".concat((0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/post_preview/").concat(t.id,"/twitter.jpg"),{isDraft:t.is_draft||t.is_scheduled}),ev=e=>{let t=eb(e);return(0,g.zF4)(t,null,{skipDomainValidation:!0,quality:"auto:best",version:1})},eb=e=>"".concat((0,g.ZJn)(),"/live-stream/").concat(e.liveStream.id,"/card.jpg"),ey=(e,t,n,o,i)=>{let r=ew(e,t,n,o);return(0,g.zF4)(r,null,{skipDomainValidation:!0,quality:"auto:best",version:11,attachment:!!i,filename:i})},ew=(e,t,n,i)=>(0,g.n1t)("".concat((0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/post_selection_image/").concat(t.id,"/").concat(n,".jpg"),(0,o._)({},i)),eS=(e,t,n)=>(0,g.n1t)("".concat((0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/post_selection_image/").concat(t.id,"/image/").concat(n,".jpg")),eE=e=>(0,g.zF4)("".concat(eN(e)),null,{quality:"auto:best",version:9,skipDomainValidation:!0}),eN=e=>{let{hashString:t}=n(84864),o="".concat((0,g.SVA)(e,{forceSubdomain:!0}),"/twitter/subscribe-card.jpg"),i=t("".concat(e.logo_url,":").concat(e.hero_text,":").concat(e.name,":").concat(e.author_name,":").concat(e.subdomain));return i?o+="?v=".concat(i):o+="?v=bust",o},eA=(e,t,n,o)=>{let i=ek(e,t,n);return(0,g.zF4)(i,null,{quality:"auto:best",skipDomainValidation:!0,version:13,attachment:!!o,filename:o})},ek=(e,t,r)=>{let{hashString:a}=n(84864),l=a("".concat(t.social_title+t.title+t.description+t.cover_image));return(0,g.n1t)("".concat((0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/press_kit/").concat(t.id,".jpg"),(0,i._)((0,o._)({},r),{isDraft:"is_draft"in t&&t.is_draft,hash:l}))},eT=function(e,t,n,o){let{useRootDomain:i=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=eP(e,t,n,{useRootDomain:i});return(0,g.zF4)(r,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!o,filename:o})},eP=function(e,t,n){let{useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=null;if(Object.values(s.dD).includes(t))r="arr";else if(Object.values(s.bq).includes(t))r="subscribers";else throw Error("endpoint for milestone not found [".concat(t,"]"));return(0,g.n1t)("".concat(i?(0,g.SVA)():(0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/milestone_assets/").concat(r,".jpg"),(0,o._)({milestone:t},n,i&&{subdomain:e.subdomain}))},eI=function(e,t,n){let{fileToDownload:o="",useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=ex(e,t,n,{useRootDomain:i});return(0,g.zF4)(r,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!o,filename:o})},ex=function(e,t,n){let{useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,g.n1t)("".concat(i?(0,g.SVA)():(0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/subscription_note_assets/").concat(t.id,".png"),(0,o._)({},n,i&&{subdomain:e.subdomain}))},eC=function(e,t,n){let{fileToDownload:o="",useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=eU(e,t,n,{useRootDomain:i});return(0,g.zF4)(r,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!o,filename:o})},eU=function(e,t,n){let{useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,g.n1t)("".concat(i?(0,g.SVA)():(0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/pledge_note_assets/").concat(t.id,".jpg"),(0,o._)({},n,i&&{subdomain:e.subdomain}))},eZ=function(e,t,n){let{fileToDownload:o="",useRootDomain:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=eR(e,n,{useRootDomain:i});return(0,g.zF4)(r,null,{quality:"auto:best",skipDomainValidation:!0,version:11,attachment:!!o,filename:o})},eR=function(e,t){let{useRootDomain:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.n1t)("".concat(n?(0,g.SVA)():(0,g.SVA)(e,{forceSubdomain:!0}),"/api/v1/publication_assets/image.jpg"),(0,o._)({},t,n&&{subdomain:e.subdomain}))},eM=e=>{let t=eB(e);return(0,g.zF4)(t,null,{quality:"auto:best",version:9})},eB=e=>(0,g.n1t)("/api/v1/latex/jpeg",{expression:e}),eL=e=>"substack://publications/".concat(e.id,"/threads"),eD=e=>e.startsWith("/publish"),eF=e=>{let t=(0,g.en2)(e);return!!t&&t.pathname.startsWith("/p/")},eO=e=>{var t,n;return eF(e)&&null!==(n=null===(t=(0,g.en2)(e))||void 0===t?void 0:t.pathname.split("/")[2])&&void 0!==n?n:null},eV=function(){let{redirect:e,for_pub:t,utm_source:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=e||"",(0,g.n1t)("".concat((0,g.ZJn)(),"/sign-out"),{redirect:e,for_pub:t,utm_source:n})},ez=550,eH=728,eW=[424,848,1272,1456],eG=1200,ej=2880,eq=320,eJ=550,eX=()=>"substack-video",eK=function(e){var t,n;let{post:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=eX();if("audio"===e.media_type&&(l()(e.thumbnail_id)||1===e.thumbnail_id))return null==o?void 0:null===(t=o.podcast_episode_image_info)||void 0===t?void 0:t.url;let r=e.post_id?"https://".concat(i,".s3.amazonaws.com/video_upload/post/").concat(e.post_id):"https://".concat(i,".s3.amazonaws.com/video_upload/user/").concat(e.user_id);return"".concat(r,"/").concat(e.id,"/transcoded-").concat((null!==(n=e.thumbnail_id)&&void 0!==n?n:1).toString().padStart(5,"0"),".png")},eY=function(e){var t;let{isStatic:o,post:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{videoPlayerDimensions:r}=n(84864),{height:a,width:l}=r(e,{isStatic:o});return(0,g.zF4)(null!==(t=eK(e,{post:i}))&&void 0!==t?t:"",2*l,{crop:l/a<1920/1080?"pad":"fill",height:2*a,trailingSegments:o?["l_".concat("play_button_usfui2",",w_144,e_colorize:0")]:[]})},eQ=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.n1t)("https://substack.com/app-link/publications/".concat(e.id,"/drafts/").concat(t),n)},e$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.n1t)("".concat((0,g.ZJn)(),"/app"),e)},e0=function(){let{pathOnly:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/img/podcast/generic.png";return e?t:"".concat((0,g.ZJn)()).concat(t)},e1=()=>{let e=e0({pathOnly:!0});return(0,g.zF4)(e,1400)},e2=e=>(0,g.n1t)("https://twitter.com/intent/tweet",e),e8=e=>{let{text:t,query:n}=e;return(0,g.n1t)("https://bsky.app/intent/compose",(0,i._)((0,o._)({},n),{text:t}))},e6=e=>{var t;let{post:n,height:o}=e;return(null===(t=n.videoUpload)||void 0===t?void 0:t.is_mux)?"/api/v1/video/upload/".concat(n.videoUpload.id,"/preview.gif?height=").concat(o):null},e4=e=>{let{userId:t,pub:n,addBase:o=!1}=e;if(!n.authorPagesInfo)return null;let i=n.authorPagesInfo.find(e=>e.user_id===t);if(!i)return null;let r=o?(0,g.SVA)(n):"";return"".concat(r,"/w/").concat((0,u.Of)(i.name))},e3=e=>{let{campaignId:t,medium:n,userId:o,pubId:i,url:r}=e;return"".concat((0,g.ZXb)(),"/sponsorship-campaigns/").concat(t,"/link?pub_id=").concat(i,"&medium=").concat(n).concat(o?"&user_id=".concat(o):"").concat(r?"&url=".concat(r):"")},e5=e=>{let{campaignId:t,pub:n}=e;return"".concat((0,g.SVA)(n),"/publish/sponsorship-campaigns/").concat(t)},e9=(e,t)=>e&&t?"".concat((0,g.SVA)(e),"/api/v1/video/upload/").concat(t,"/download"):""},33884:function(e,t,n){n.d(t,{D2:()=>k,Ds:()=>s,E2:()=>h,IY:()=>C,It:()=>T,NZ:()=>S,Oi:()=>A,QX:()=>v,Sg:()=>b,TK:()=>x,Th:()=>f,Z2:()=>d,e3:()=>N,gt:()=>w,k0:()=>y,kM:()=>g,mI:()=>Z,mx:()=>_,rc:()=>E,vy:()=>P,wn:()=>U});var o=n(7409),i=n(31377),r=n(22838),a=n(14773),l=n(36186);let s="/".concat("home"),c="/notes",u="".concat(s,"/");function d(e){return e===s||e.startsWith(u)}new RegExp("".concat(s,"/(").concat(Object.values(r.qX).join("|"),")/([^\\/]+)"));let p=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)(\/stats)?$/,m=/^\/@[^\/]+\/note\/c-(\d+)(\/stats)?$/;function f(e){let t=e.match(p);if(t){let e=t[3],n=t[2];if(e&&n)return{type:"comment",id:Number(e),author:{id:Number(t[1]),name:n},isStats:!!t[4]}}let n=e.match(m);return n?{type:"comment",id:Number(n[1]),isStats:!!n[2]}:null}function h(){var e;let{baseUrl:t,urlParams:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=s,i=null!=t?t:(0,a.ZJ)();return"undefined"!=typeof window&&(null===(e=window.location.href)||void 0===e?void 0:e.startsWith(i))||(o=i+o),(0,a.n1)(o,n)}function g(){let{baseUrl:e,urlParams:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=h({baseUrl:e});return(0,a.n1)("".concat(n,"/suggestions"),t)}function _(e,t){var n,o;let{noBase:r,urlParams:s,mediaClip:c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=(null===(n=t.publishedBylines)||void 0===n?void 0:n[0])?null===(o=t.publishedBylines)||void 0===o?void 0:o[0]:e?(0,i.getPostAuthor)(e,t):{id:0,name:"someone"},d=c?I(c.id):null;return(0,a.n1)("".concat((0,l.NN)(u,{noBase:r}),"/note/").concat(null!=d?d:P(t.id)),s)}function v(e,t){let{isPreview:n=!1}=t;return"".concat((0,a.ZJ)(),"/embed/c/").concat(e.id,"?origin=").concat(window.location.origin).concat(n?"&isPreview=true":"")}function b(e){let{noBase:t,baseUrl:n,urlParams:o,noHandle:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.user_id?(0,a.n1)("".concat((0,l.NN)((0,i.getCommentAuthor)(e),{baseUrl:n,noBase:t,noHandle:r}),"/note/").concat(T(e.id)),o):h({baseUrl:n})}function y(e,t){let{noBase:n,baseUrl:o,noHandle:i,urlParams:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.n1)("".concat((0,l.NN)(t,{noBase:n,noHandle:i,baseUrl:o}),"/note/").concat(I(e.id)),r)}function w(e){let{noBase:t,baseUrl:n,urlParams:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t?"":null!=n?n:(0,a.ZJ)();return(0,a.n1)("".concat(i,"/note/").concat(e),o)}function S(e){let{noBase:t,urlParams:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?"":(0,a.SV)();return(0,a.n1)("".concat(o,"/note/").concat(T(e)),n)}function E(e){let{noBase:t,urlParams:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t?"":(0,a.SV)();return(0,a.n1)("".concat(o).concat(s,"/post/").concat(P(e)),n)}function N(e){let t=e.noBase?"":(0,a.SV)();return"handle"in e?(0,a.n1)("".concat(t,"/@").concat(e.handle,"/").concat(P(e.postId)),e.urlParams):(0,a.n1)("".concat((0,l.NN)(e.readerProfileUser,{noBase:!0}),"/").concat(P(e.postId)),e.urlParams)}function A(e,t){return(0,a.Q2)("/note/".concat(P(e),"/restacks"),t)}function k(e,t){return"".concat("comment"===t?"c":"media_clip"===t?"m":"p","-").concat(e)}function T(e){return"c-".concat(e)}function P(e){return"p-".concat(e)}function I(e){return"m-".concat(e)}function x(e){return(0,a.n1)(h(),(0,o._)({action:"compose"},e))}function C(e){let{noBase:t,isSmall:n,attachmentsOnly:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t?"":(0,a.SV)();return(0,a.n1)("".concat(i,"/note/").concat(T(e),"/preview.jpeg"),{size:n?"sm":"md",attachmentsOnly:o?"1":void 0})}function U(e){let{noBase:t,baseUrl:n,urlParams:o,noHandle:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.user_id?(0,a.n1)("".concat((0,l.NN)((0,i.getCommentAuthor)(e),{baseUrl:n,noBase:t,noHandle:r}),"/note/").concat(T(e.id),"/stats"),o):h({baseUrl:n})}function Z(e){let{type:t,id:n}=e;return"base"===t?h():"".concat(h(),"/").concat(t,"/").concat(n)}new RegExp("".concat(s,"/(short|post)/p-(\\d+)")),new RegExp("^".concat(c,"(/?)")),new RegExp("^".concat(c,"/comment/(d+)$"))},6911:function(e,t,n){n.d(t,{P8:()=>r,RF:()=>s,WF:()=>a,Zz:()=>l,_Q:()=>i});var o=n(14773);let i=function(){let{utm_source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.n1)("".concat((0,o.ZJ)(),"/tos"),{utm_source:e})},r=function(){let{pub:e,utm_source:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?(0,o.n1)("".concat((0,o.SV)(e),"/tos"),{utm_source:t}):i({utm_source:t})},a=function(){let{utm_source:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat((0,o.n1)("".concat((0,o.ZJ)(),"/ccpa"),{utm_source:e}),"#personal-data-collected")},l=function(){let{utm_source:e,hash:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat((0,o.n1)("".concat((0,o.ZJ)(),"/privacy"),{utm_source:e})).concat(t?"#".concat(t):"")},s=function(){let{pub:e,utm_source:t,hash:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"".concat(l({utm_source:t,hash:n}));let i=n?"#".concat(n):"";return"".concat((0,o.n1)("".concat((0,o.SV)(e),"/privacy"),{utm_source:t})).concat(i)}},60836:function(e,t,n){n.d(t,{AN:()=>m,Mo:()=>c,Tg:()=>s,_N:()=>f,aE:()=>g,jn:()=>d,mG:()=>h,rN:()=>_,tk:()=>u,uR:()=>l,ws:()=>p});var o=n(7409),i=n(14773),r=n(33884),a=n(26111);function l(e,t){let{noBase:n,edit:a,email:l,comments:s,commentId:u,commentInput:d,highlightComment:p,replyToComment:h,commentContextId:g,uuid:_,urlParams:v,signedIn:b=!1,feedViewer:y=!1,clipId:w}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=t?_?t.uuid:t.slug:null;if((a||!S)&&e&&!e.is_www&&(null==t?void 0:t.id)){let o=n?"":(0,i.SV)(e);return"".concat(o).concat(m(e,t.id,{params:v}))}if((null==t?void 0:t.type)==="restack"&&(null==t?void 0:t.id)){let o=n?"":(0,i.SV)(e);return"".concat(o,"/cp/").concat(t.id)}if(y||!e||!t||!S){let o=n?"":(0,i.SV)();return u?(0,r.NZ)(u,{noBase:n,urlParams:v}):t&&w?(0,i.n1)("".concat((0,i.SV)(e),"/p/").concat(t.slug),v):t?(0,r.rc)(t.id,{noBase:n,urlParams:v}):(0,i.n1)("".concat(o).concat(r.Ds),v)}let E=f(b,e);return c(e,S,{noBase:n,email:l,comments:s,commentId:u,commentInput:d,highlightComment:p,replyToComment:h,commentContextId:g,urlParams:(0,o._)({lli:E},v)})}function s(e,t,n){let{isPreview:o=!1}=n;return"".concat((0,i.SV)(e),"/embed/p/").concat(t,"?origin=").concat(window.location.origin).concat(o?"&isPreview=true":"")}function c(e,t){let{noBase:n,email:o,comments:r,commentId:a,commentInput:l,highlightComment:s,replyToComment:c,commentContextId:u,urlParams:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p="";return n||(p+=(0,i.SV)(e)),p+="/p/".concat(t),r&&(!a||s)&&(p+="/comments"),!a||s||u||(p+="/comment/".concat(a)),o&&(p+="/email"),a&&(s||c)?p+="#comment-".concat(a).concat(c?"-reply":""):l&&(p+="#input"),a&&u&&(p+="/comment/".concat(u,"#comment-").concat(a)),d&&(p=(0,i.n1)(p,d)),p}function u(e,t,n,i){return e&&"profile"===e.homepage_type?(null==n?void 0:n.id)?(0,r.gt)("c-".concat(null==n?void 0:n.id)):(0,r.mx)(e,t):l(e,t,(0,o._)({comments:!0,commentId:null==n?void 0:n.id},i))}function d(e){let{mediaUploadId:t}=e;return"media-".concat(t)}function p(e){let{pub:t,post:n,mediaUploadId:o}=e,i=l(t,n);return"".concat(i,"#").concat(d({mediaUploadId:o}))}function m(e,t){let{params:n,addBase:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o?(0,i.SV)(e):"";return"".concat(r).concat((0,i.n1)("/publish/post/".concat(t),n))}function f(e,t){return t.custom_domain&&e?"1":void 0}function h(e){let{addBase:t,params:n={},signedIn:r,skipToken:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=f(r,e),c=t?(0,i.SV)(e):"";if(!(null==n?void 0:n.token)&&!l){var u;let e="undefined"!=typeof window&&(null===(u=window._preloads)||void 0===u?void 0:u.original_url)?(0,a.x)(window._preloads.original_url,"token"):null;n.token=e}return(0,i.n1)("".concat(c,"/account"),(0,o._)({lli:s},n))}function g(e,t,n,o){return t.post_id?u(null!=n?n:void 0,null!=e?e:void 0,t,o):(0,r.Sg)(t,o)}function _(e){let{postId:t,params:n}=e;return(0,i.n1)("".concat((0,i.ZX)(),"/post/").concat(t,"/stats"),(0,o._)({},n))}n(17043)},36186:function(e,t,n){n.d(t,{Fh:()=>u,GR:()=>l,NJ:()=>s,NN:()=>c,Nh:()=>d,_I:()=>a});var o=n(7409),i=n(40121),r=n(14773);function a(e){let{id:t,name:n,handle:o}=e;if(o)return"@".concat(o);let r=(0,i.Hm)(n,{hashIfEmpty:!0});return"".concat(t).concat(r?"-".concat(r):"")}function l(e,t){let{searchParams:n,noBase:o,baseUrl:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=o?"":null!=i?i:(0,r.ZJ)(),s="".concat(l,"/profile/").concat(a({id:e,name:t}));return(0,r.n1)(s,n)}let s=function(e){let{searchParams:t,noBase:n,baseUrl:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n?"":null!=o?o:(0,r.ZJ)(),a="".concat(i,"/@").concat(e);return(0,r.n1)(a,t)};function c(e){let{utm_source:t,utm_content:n,utm_campaign:i,noBase:r,baseUrl:a,noHandle:c,extraParams:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,o._)({},u,t||n||i?{utm_source:t,utm_content:n,utm_campaign:i}:void 0),p=c?void 0:(null==e?void 0:e.handle)||(null==e?void 0:e.author_handle);return p?s(p,{noBase:r,baseUrl:a,searchParams:d}):l(e.author_id||e.user_id||e.id,e.user_profile_name||e.author_name||e.name,{noBase:r,baseUrl:a,searchParams:d})}function u(e,t,n){return(0,r.Q2)("".concat(c(e,{noBase:!0}),"/").concat(null!=t?t:"subscribers"),n)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.n1)("".concat((0,r.ZJ)(),"/profile/start"),e)}},70408:function(e,t,n){n.d(t,{I4:()=>l,SM:()=>r,YL:()=>s,ln:()=>a,zU:()=>c});var o=n(14773),i=n(63651);function r(e,t){let n=a(e,t);return n||((null==t?void 0:t.darkMode)?u:c)}function a(e){let{preferAuthorPhoto:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(null==e?void 0:e.author_photo_url)&&(0,i.zF4)(e.author_photo_url)?(0,i.zF4)(e.author_photo_url):(null==e?void 0:e.photo_url)&&(0,i.zF4)(e.photo_url)?(0,i.zF4)(e.photo_url):(null==e?void 0:e.id)!=null?l(e.id):null}function l(e){return"".concat((0,o.ZJ)(),"/img/avatars/").concat(["purple","yellow","orange","green","black"][e%5],".png")}function s(e){return e.startsWith("".concat((0,o.ZJ)(),"/img/avatars/"))}let c="".concat((0,o.ZJ)(),"/img/avatars/default-light.png"),u="".concat((0,o.ZJ)(),"/img/avatars/default-dark.png")},81821:function(e,t,n){n.d(t,{Dt:()=>d,IT:()=>c,Xq:()=>l,r3:()=>a,s:()=>s,tq:()=>r});let o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!=typeof navigator?navigator.userAgent||navigator.vendor:void 0;return t||"undefined"==typeof window||(t=window.opera),!!t&&a(t,e)}function a(e){let{checkFirst4:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.lastIndex=0,i.lastIndex=0,!!(o.test(e)||t&&i.test(e.substr(0,4)))}function l(){return"undefined"==typeof navigator?null:function(e){if(!e.match(/iPad/i)&&!e.match(/iPhone/i))return null;let t=e.indexOf("OS ");return -1===t?null:parseInt(e.substr(t+3,3).replace("_","."))||null}(navigator.userAgent)}function s(){return!!l()}function c(){return"undefined"!=typeof navigator&&s()&&/Version\//.test(navigator.userAgent)}let u=/Android/i;function d(){var e;return"undefined"!=typeof navigator&&(e=navigator.userAgent,u.lastIndex=0,!!e&&u.test(e))}},84864:function(e,t,n){n.r(t),n.d(t,{AUDIENCE_ADJECTIVES:()=>eS,CENTS_PER_EMAIL:()=>eV,CORE_SUPPORTED_LANGUAGES:()=>eB,ChatError:()=>eW,DEFAULT_GIFT_LENGTH_DAYS:()=>ek,DEFAULT_GRANT_NUMBER:()=>eT,DEFAULT_MAX_BYLINES:()=>n9,DEFAULT_PREVIEW_LIMIT:()=>eo,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>ei,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>en,EEA_COUNTRIES:()=>tu,EU_COUNTRIES:()=>tc,FIRST_ILLEGAL_POSTGRES_INTEGER:()=>eu,GIFT_LENGTH_MONTHS:()=>eA,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>et,GRACE_PERIOD_DAYS:()=>Q,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>eN,LINK_SUPPORTED_COUNTRIES:()=>td,LIVE_STREAM_CONTENT_WARNINGS:()=>ob,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>$,MAX_BANK_PAYMENT_ATTEMPTS:()=>ea,MAX_FILE_SIZE:()=>D,MAX_INT32:()=>ec,MAX_MEDIA_FILE_SIZE:()=>B,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>L,MAX_PODCAST_FIELD_LENGTH:()=>ed,MAX_PODCAST_FILE_SIZE:()=>M,MAX_SECTION_DESCRIPTION_LENGTH:()=>ep,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>er,MISSING_IMAGE_HEIGHT:()=>v.Vi,MISSING_IMAGE_URL:()=>v.wW,MISSING_IMAGE_WIDTH:()=>v._j,MONTH_NAMES:()=>eZ,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>eF,NO_REPLY_EMAIL:()=>e1,NZD_COUNTRIES:()=>tp,OLD_PODCAST_CATEGORIES:()=>eU,PODCAST_CATEGORIES:()=>eC,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>ez,PUBLICATION_TIER_DESCRIPTIONS:()=>n4,PUB_IDS_TO_NOT_SHOW_FOLLOW_PROMPT_ON:()=>x,READ_WORDS_PER_MINUTE:()=>el,SECURITY_QUESTIONS:()=>ew,SENDER_REMINDER_2_DELAY_SINCE_LAST_REMINDER:()=>eI,SENDER_REMINDER_3_DELAY_SINCE_LAST_REMINDER:()=>ex,SENDER_REMINDER_DELAY:()=>eP,SPEAK_WORDS_PER_MINUTE:()=>es,SPECIAL_SUBDOMAINS:()=>ey,STRIPE_COUNTRIES_WITH_TRANSFERS_ENABLED:()=>oy,STRIPE_DAYS_UNTIL_DUE:()=>ee,STRIPE_TAX_ID_TYPES:()=>eR,SUBSCRIPTION_WORDS:()=>nW,SUBSTACK_PUBLICATION_IDS:()=>J,SUBSTACK_PUBLICATION_ID_BETA:()=>W,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>H,SUBSTACK_PUBLICATION_ID_COMPANY:()=>O,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>V,SUBSTACK_PUBLICATION_ID_ON:()=>F,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>q,SUBSTACK_PUBLICATION_ID_READ:()=>G,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>z,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>j,SUBSTACK_USER_ID:()=>X,SUBSTACK_USER_IDS:()=>Y,SUBSTACK_WRITERS_USER_ID:()=>K,SUPPORTED_CURRENCIES:()=>tm,SUPPORTED_LANGUAGES:()=>eM,SUPPORTED_LANGUAGES_IN_LANGUAGE:()=>eL,SUPPORTED_SEARCH_LANGUAGES:()=>eD,TERSE_AUDIENCE_ADJECTIVES:()=>eE,TRANSPARENT_IMAGE_URL:()=>v.Vk,TWEET_PLACEHOLDER_DATA_URI:()=>I,WEEK_IN_SECONDS:()=>eO,anonymousName:()=>nz,areCommentsLocked:()=>ns,areHuesEqual:()=>tR,assertIsDefined:()=>C,assertIsError:()=>U,averageVectors:()=>o_,balanceTextWithCharacterWidths:()=>tl,baschezScoreToEmojis:()=>tH,baschezToCategory:()=>tz,canDeleteComment:()=>np,canDeletePost:()=>nf,canEditComment:()=>nd,canPostComments:()=>nc,canReplyToPost:()=>e0,canReportComment:()=>nh,canSeeCommenterEmails:()=>nr,canSeeComments:()=>na,canSeeTranscription:()=>nl,centsToDollarString:()=>tw,centsToPriceString:()=>ty,colorLightness:()=>tL,colorLuma:()=>tD,commentsEnabledForPost:()=>nn,couldPostCommentsIfSubscribed:()=>nu,coverPageFreeSubscriberCount:()=>t1,currencySymbol:()=>tv,decimalToPercent:()=>t3,defaultAudienceForPub:()=>nv,defaultCommentLevelForPub:()=>nw,defaultSendEmailForPub:()=>nS,dollarFormatter:()=>tS,dollarStringToCents:()=>tE,endsWithPunctuation:()=>te,ensureInList:()=>og,escapeNewlines:()=>nt,flowTextBasedOnWidth:()=>op,formatArray:()=>tO,formatBytes:()=>nF,formatEllipsis:()=>e7,formatPercentForDisplay:()=>t4,formatPodcastDuration:()=>on,formatPodcastDurationLower:()=>oo,formattedBytesToNumber:()=>nO,foundingMemberDescription:()=>nK,fromEnv:()=>ou,getByLine:()=>eG,getBylineUsers:()=>nU,getCopyrightedContentBucketName:()=>ev,getCurrencyForCountry:()=>tf,getGiftValueText:()=>tk,getGlobalBanMessage:()=>em,getImageUrlFromBucketKey:()=>e_,getInitalPayment:()=>tA,getModerationPolicyName:()=>eh,getNext5HoursAfterMidnight:()=>ot,getNumberWithCommas:()=>t0,getOpennodePaymentUrl:()=>nY,getPlanTitle:()=>os,getPostCtaPresentParticiple:()=>nP,getPostCtaText:()=>nT,getPostEmbedMeta:()=>eJ,getPostMediaBucketName:()=>eg,getPrintedByline:()=>nZ,getPrintedPostType:()=>nI,getPublicationBanMessage:()=>ef,getReadableAttribution:()=>n$,getRemovedContentBucketName:()=>eb,getRestackEmailSubject:()=>nx,getScheduledAt:()=>t5,getSubscribeText:()=>eq,getSubscriptionSentenceWithCustomWords:()=>nq,getSubscriptionWord:()=>nJ,getSuperscriptNumberString:()=>nX,getTrialEndOverride:()=>nE,getWithIndefiniteArticle:()=>or,get_month_name:()=>nN,guessFirstName:()=>_.Q1,guessLastName:()=>_.bu,handleDocumentLinkClick:()=>nL,hashString:()=>oa,hexToHSV:()=>tC,hexToRgb:()=>tU,hidePaidPostsFor:()=>eX,isAppAttribution:()=>n0,isDefaultMarblePhoto:()=>v.d7,isNotMainEntry:()=>nD,isNotesAttribution:()=>n1,isPaidPub:()=>n_,isPinnable:()=>n5,isProbablyEmail:()=>n8,isSearchEngineCrawlerQuick:()=>nV,isSubstackNetworkAttribution:()=>n2,isTouchDevice:()=>om,isUUID:()=>nR,isValidCommentLevel:()=>ny,isZeroDecimalCurrency:()=>tg,joinLines:()=>tW,kFormatter:()=>ol,longestSetOfWordsBelowCost:()=>ta,mode:()=>nk,normalizeHex:()=>tx,numberToHumanFileSize:()=>nQ,numberToOrderOfMagnitude:()=>tK,numberToOrderOfMagnitudeString:()=>tY,numberToOrdinal:()=>tJ,numberToRoughRankingString:()=>t$,numberToRoughShortString:()=>tQ,numberToString:()=>tX,onlyOwnsRootComment:()=>nm,oxfordComma:()=>nA,paymentPeriodToPlan:()=>n3,pluralize:()=>t7,possessive:()=>ne,postSocialDescription:()=>nH,preventOrphans:()=>e5,profilePageFreeSubscriberCountString:()=>t6,pubCurrency:()=>th,pubHasPaymentsEnabled:()=>ng,pubUsesZeroDecimalCurrency:()=>t_,pubsWithCustomSubscriptionWords:()=>nj,randomString:()=>tG,resolveTwitterShareText:()=>ej,restacksEnabledForPost:()=>no,rgbToHex:()=>tZ,rgbaToString:()=>tM,roughFreeSubscriberCount:()=>t2,roughFreeSubscriberCountString:()=>t8,roundPriceUp:()=>tN,sanitizeInlineText:()=>n6,satoshiToBitcoin:()=>tb,secondsToHHMMSS:()=>tP,secondsToLargestUnit:()=>tT,sectionIsSpecificallyMarkedAsNewsletter:()=>eH,setDateToMidnightPST:()=>oe,shouldHidePostFromArchive:()=>nC,shouldUseInlineComments:()=>eK,showCommentsOnPost:()=>ni,simpleBalanceText:()=>tn,sortSubscriptions:()=>eQ,spellOutNumber:()=>t9,startsWithVowel:()=>oi,streamToBuffer:()=>od,stringCost:()=>tr,stripInvalidBytes:()=>e2,subscriptionTypeText:()=>e$,textLengthAlphaNumericMinimumValidator:()=>oc,toFlagEmoji:()=>ov,toMillis:()=>nM,toSentenceCase:()=>tq,toTitleCase:()=>tj,transformDocumentLink:()=>nB,truncAndFormatArray:()=>tF,truncateBytes:()=>e8,truncateNumber:()=>tV,truncateText:()=>e4,truncateToValidBytes:()=>e6,truncateWords:()=>e3,twitterScreenNames:()=>P,userFromReferralKey:()=>oh,userReferralKey:()=>of,validCommentLevels:()=>nb,validateColor:()=>tB,validateHex:()=>tI,videoPlayerDimensions:()=>n7});var o=n(27412),i=n(7409),r=n(99282),a=n(58865),l=n(18446),s=n.n(l),c=n(14293),u=n.n(c),d=n(57824),p=n.n(d),m=n(60826),f=n(73943),h=n(6070),g=n(35934),_=n(23945),v=n(61301),b=n(34155),y=n(64945).Buffer;function w(){let e=(0,a._)(["We've removed your publication from public view due to a violation of Substack's ",". If you believe this was a mistake, you can submit an appeal to our Standards & Enforcement team"]);return w=function(){return e},e}function S(){let e=(0,a._)(["","k"]);return S=function(){return e},e}function E(){let e=(0,a._)(["","m"]);return E=function(){return e},e}function N(){let e=(0,a._)(["","b"]);return N=function(){return e},e}function A(){let e=(0,a._)(["","t"]);return A=function(){return e},e}function k(){let e=(0,a._)(["Over "," subscribers"]);return k=function(){return e},e}function T(){let e=(0,a._)(["Get "," in your inbox"]);return T=function(){return e},e}let P=f.vn,I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC",x=[21267,260347];function C(e){if(null==e)throw new g.gz("Expected value to be defined, but received ".concat(e))}function U(e){if(!(e instanceof Error))throw new g.gz("Expected value to be an Error, but received ".concat(e))}let Z=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],R=["CA","AU","HK","NZ"],M=0x15e00000,B=0x500000000,L=0x3200000,D=0x2bc00000,F=1,O=46438,V=86696,z=81318,H=87805,W=508885,G=737237,j=1014268,q=1056696,J=[1,46438,86696,81318,87805,508885,737237,1014268,1056696],X=0x4d8b0ef,K=0x27ead30,Y=[0x4d8b0ef,0x27ead30],Q=16,$=45,ee=30,et=2/24,en=1e3,eo=356,ei=256,er=6,ea=3,el=220,es=150,ec=0x7fffffff,eu=0x80000000,ed=25e4,ep=1e3;function em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";return"Your account is currently suspended. Something you posted may have violated Substack's ".concat(eh(e),". If you believe this is a mistake, you can submit an appeal to our Standards & Enforcement team here:")}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iTemplate:n}=I18N.i(t);return n(w(),eh(e,t))}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t);switch(e){case"hate":return n("Hate policy");case"illegal":return n("Illegal & Harmful Activities policy");case"impersonation":return n("Impersonation policy");case"plagiarism":return n("Plagiarism policy");case"porn":return n("Nudity, Porn, & Erotica policy");case"private_information":return n("Private Information policy");case"spam":return n("Spam & Phishing policy");default:return n("Content Guidelines, Terms of Service, or Publisher Agreement")}}function eg(){let e="substack-post-media";if(!e)throw new g.gz("postMediaBucketName is not defined");return e}function e_(e){return"https://".concat(eg(),".s3.amazonaws.com/").concat(e)}function ev(){return"substack-post-media"===eg()?"substack-copyrighted-media":"substack-copyrighted-media-staging"}function eb(){return"substack-post-media"===eg()?"substack-removed-media":"substack-removed-media-staging"}let ey=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],ew=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],eS={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},eE={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},eN=new Date("2020-01-16"),eA=1,ek=30,eT=3,eP=2592e5,eI=6048e5,ex=1728e6,eC={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},eU={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},eZ=["January","February","March","April","May","June","July","August","September","October","November","December"],eR=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xe9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xf3sz\xe1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*Hōjin Bangō*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*Tōroku Kokugai Jigyōsha no Tōroku Bangō*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (davčna številka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],eM={de:"German",es:"Spanish",fr:"French",it:"Italian",pt:"Portuguese","pt-br":"Brazilian Portuguese"},eB=["en","de","es","fr","it","pt"],eL={de:"Deutsch",es:"Espa\xf1ol",fr:"Fran\xe7ais",it:"Italiano",pt:"Portugu\xeas","pt-br":"Portugu\xeas do Brasil"},eD=["ar","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","la","nl","no","pl","pt","ro","ru","sv","th","tr","vi","zh"],eF=["IN"],eO=604800,eV=.0064,ez={therampart:{sectionIds:[62635]},thebulwark:{sectionIds:[87956]}},eH=e=>{var t;let{section:n,pub:o}=e;return!!(null===(t=ez[o.subdomain])||void 0===t?void 0:t.sectionIds.includes(n.id))};class eW extends Error{constructor({status:e,errType:t,errMessage:n,pub:a,body:l}){super(n),(0,o._)(this,"name",void 0),(0,o._)(this,"status",void 0),(0,o._)(this,"response",void 0),this.name=this.constructor.name,this.status=e,this.response={body:(0,r._)((0,i._)({},l),{status:t,error:n})},a&&(this.response.body.publication=a),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function eG(e){var t,n,o,i;let{skipMultiContributorCheck:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("popularinformation"===e.subdomain)return"Judd Legum";if("whyisthisinteresting"===e.subdomain)return"Noah & Colin";if("informant"===e.subdomain)return"Nick Martin";if("colinmeloy"===e.subdomain)return"Colin Meloy";if("petition"===e.subdomain||"russiandissent"===e.subdomain)return null;if("mattlabash"===e.subdomain)return"Matt Labash";if("wmbrown"===e.subdomain)return"Matt Hranek";if("bigtechontrial"===e.subdomain)return"Matt Stoller";if("thegreenspoon"===e.subdomain)return"Greta and Fanny";if("exponentialview"===e.subdomain)return"Azeem Azhar";if("thegodpod"===e.subdomain)return"God";if(!r&&"object"==typeof e&&"contributors"in e&&(null===(i=e.contributors)||void 0===i?void 0:i.length)>1)return null;let a=e.name||e.subdomain;for(let i of["object"==typeof e&&"contributors"in e&&(null===(n=e.contributors)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.name),"author_name"in e&&e.author_name,e.email_from_name,null==e?void 0:null===(o=e.author)||void 0===o?void 0:o.name])if(i&&(i=i.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim())&&!i.startsWith(a)&&!a.startsWith(i)&&!i.endsWith(a)&&!a.endsWith(i))return i;return null}function ej(e){var t;let{pub:n,post:o}=e,i=(null==n?void 0:n.twitter_screen_name)||n&&P[null==n?void 0:n.subdomain],r=null!==(t=null==o?void 0:o.title)&&void 0!==t?t:null==n?void 0:n.name;return n&&!o&&(r="Subscribe to ".concat(r)),i&&(!o||n&&(!o.publishedBylines.length||o.publishedBylines.some(e=>e.id===n.author_id)))&&(r+=", by @".concat(i)),r}function eq(e){let{now:t=!1,isFreeSubscribed:n=!1,isMobile:o=!1,isPledged:i=!1,pledgesEnabled:r=!1,language:a,foundingUpsell:l,isFoundingSubscribed:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"Subscribe";let{iString:c}=I18N.i(a||e.language);return nq(e,()=>{if(n&&e.plans&&l&&!s)return c("Upgrade to founding");if(n&&e.plans&&o&&t)return c("Upgrade now");if(n&&e.plans&&o&&!t)return c("Upgrade");if(n&&e.plans&&!o&&t)return c("Upgrade to paid now");if(n&&e.plans&&!o&&!t)return c("Upgrade to paid");else if(n&&r&&!i&&t)return c("Pledge your support now");else if(n&&r&&!i&&!t)return c("Pledge your support");else if(t)return c("Subscribe now");return c("Subscribe")},a=>(n&&e.plans?tq(o?a.upgrade:a.upgradeToPaid):n&&r&&!i?"Pledge your support":tq(nJ(e,"subscribe")))+(t?" now":""))}function eJ(e){let{date:t,bylines:o,like_count:i,comment_count:r,language:a="en"}=e,{iPlural:l}=I18N.i(a),s=n(98012).Z,c=[];return c.push(s(t).locale(a).fromNow()),i&&c.push(l("1 like","%1 likes",i)),r&&c.push(l("1 comment","%1 comments",r)),o&&o.length&&c.push(tO(o.map(e=>e.name).filter(e=>null!==e),a)),c.join(" \xb7 ")}let eX=["astralcodexten"];function eK(e,t){return!(!["astralcodexten","company","library","on","blog","stories"].includes(null==e?void 0:e.subdomain)&&((null==t?void 0:t.type)!=="podcast"||(0,h.HD)({pub:e}))&&((null==t?void 0:t.type)!=="video"||(0,h.HD)({pub:e})))}let eY=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toUpperCase().replace(/^(THE|A|AN)\s+/,"")};function eQ(e){return e.sort((e,t)=>{var n,o;if(!e)return 1;if(!t||"subscribed"===e.membership_state&&"subscribed"!==t.membership_state)return -1;if("subscribed"===t.membership_state&&"subscribed"!==e.membership_state)return 1;let i=eY(null===(n=e.publication)||void 0===n?void 0:n.name),r=eY(null===(o=t.publication)||void 0===o?void 0:o.name);return i<r?-1:+(i>r)})}function e$(e){if(e.expiry&&new Date(e.expiry)>new Date)switch(e.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else if(!e.email_disabled||e.email_settings&&Object.values(e.email_settings||{}).some(e=>"individual"===e))return"Free Subscriber";else if(e.email_settings&&Object.values(e.email_settings||{}).some(e=>"digest"===e))return"Follows in Digests";else return"Emails Disabled"}function e0(e){let{post:t,user:n}=e;return!!(t&&n&&n.has_publication&&!n.is_admin&&!n.is_contributor&&"coming-soon"!==t.slug)}let e1="no-reply@substack.com";function e2(e){if(!e||"string"!=typeof e)return e;e=e.replace(/[\u0000-\u0008\u000B-\u001F\u007F]/g,e=>e.length>1?e:" ");try{return encodeURIComponent(e),e}catch(e){}return e.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,e=>e.length>1?e:" ")}function e8(e,t){let n=new TextEncoder().encode(e);return n.length>t?new TextDecoder().decode(n.slice(0,t)):e}function e6(e){for(;;)try{return encodeURIComponent(e),e}catch(t){e=e.substring(0,e.length-1)}}function e4(e,t){let{words:n=null,ellipsis:o="…",extension:i=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return e;let r=!1;if(n){let t=new RegExp("^(\\w+\\W+){".concat(n-1,"}\\w+")).exec(e);t&&(r=!0,e=t[0])}return t&&e.length>t&&(r=!0,e=e.substring(0,t-o.length)),r&&(e=e6(e)+o,i&&(e+=i)),e}function e3(e,t){let{ellipsis:n="…",quotationMarks:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return e;o&&(t-=2);let i=e;if(e&&e.length>t){let o=e.split(/\s+/),r=[],a=0;for(;a<=t;){let e=o.shift();if(!e||a+e.length>t)break;r.push(e),a+=e.length+1}i=e7(r.join(" "),n)}return o&&(i.endsWith(" ")||i.startsWith(" "))&&(i=i.trim()),o?'"'.concat(i,'"'):i}let e5=e=>{var t;if(!e)return"";let n=e.trim(),o=n.split(/\s/);return(null!==(t=o[o.length-1])&&void 0!==t?t:"").length>5?n:n.replace(/(\s)(\S+)$/,"\xa0$2")},e9=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function e7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"…";return"".concat(e.replace(e9,"")).concat(t)}function te(e){return/[!.?](?:\s+)?$/.test(e)}let tt=new Set([" ","-"]);function tn(e){let{maxCharsPerLine:t=55,maxLines:n=2,preferWide:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length<=t)return[e];let i=t*n;if(e.length>i){let t=i;for(;t>=0&&" "!==e.charAt(t);)t--;e=e7(e.slice(0,t))}let r=o?t:Math.floor(e.length/n),a=-1,l=0,s=[];for(;l+r<e.length-1;){for(l+=r;l<=e.length-1&&!tt.has(e.charAt(l));)l++;let t="-"===e.charAt(l);s.push(e.slice(a+1,t?l+1:l)),a=l}return l<e.length-1&&s.push(e.slice(a+1)),s}let to=e=>/[A-Z]/.test(e),ti=e=>/[\s-]/.test(e);function tr(e,t){let n=0;for(let i=0;i<e.length;i+=1){var o;to(null!==(o=e[i])&&void 0!==o?o:"")?n+=t:n+=1}return n}function ta(e,t,n){let o=[],i=0,r=!1;for(let t=0;t<e.length;t+=1){var a;if(ti(null!==(a=e[t])&&void 0!==a?a:"")){r=!0;continue}r&&(o.push(e.slice(i,t)),i=t,r=!1)}if(i<e.length&&o.push(e.slice(i)),!o[0])return"";let l=[o[0]],s=tr(o[0],t);for(let e of o.slice(1))if((s+=tr(e,t))<=n)l.push(e);else break;return l.join("")}function tl(e){let{maxCostPerLine:t=55,maxLines:n=2,capitalCost:o=1.2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;if(tr(e,o)<=t)return[e];let r=[];for(let i=0;i<n;i+=1){let n=ta(e,o,t);if(n)r.push(n),e=e.slice(n.length);else break}if(r.reduce((e,t)=>e+t.length,0)<i.length){var a,l;r[r.length-1]=e7(null===(l=r[r.length-1])||void 0===l?void 0:l.slice(0,(null===(a=r[r.length-1])||void 0===a?void 0:a.length)-1))}return r}let ts=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],tc=[...ts,"BG","CZ","DK","HU","PL","RO","SE"],tu=[...tc,"IS","LI","NO"],td=[...tc,"AE","AU","CA","CH","GB","GI","HK","JP","LI","MX","MY","NO","NZ","SG","US"],tp=["NZ","CK","NU","PN","TK"],tm=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function tf(e){return"AU"===e?"aud":"BR"===e?"brl":"CA"===e?"cad":"LI"===e||"CH"===e?"chf":"DK"===e||"FO"===e||"GL"===e?"dkk":ts.includes(e)?"eur":"GB"===e?"gbp":"MX"===e?"mxn":"BV"===e||"NO"===e||"SJ"===e?"nok":tp.includes(e)?"nzd":"PL"===e?"pln":"SE"===e?"sek":"US"===e?"usd":null}let th=e=>{var t,n;return(null===(n=e.draft_plans)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.currency)||"usd"};function tg(e){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(e.toUpperCase())}function t_(e){return tg(th(e))}function tv(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}let tb=e=>e/1e8;function ty(e,t){let{forceDecimals:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:n?2:e%100&&!tg(t)?2:0,maximumFractionDigits:"btc"===t?8:2}).format("btc"===t?tb(e):tg(t)?e:e/100);return"usd"===t&&"undefined"!=typeof window&&window._preloads&&window._preloads.country&&R.includes(window._preloads.country)&&(o="US".concat(o)),o}function tw(e){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e/100)}let tS=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function tE(e){if(!e)return null;if("string"!=typeof e)throw Error("Bad type for dollar string");let t=e.replace(/[^0-9.]/g,"");return t?Math.round(100*Number(t)):null}function tN(e){let t=e/100;return 100*(t=t<50?Math.ceil(t):5*Math.ceil(t/5))}function tA(e){let{quantity:t=1,coupon:n=null,noTrial:o=!1,trial_end_override:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o&&(e.trial_period_days||n&&n.trial_period_days||i&&i>Date.now()/1e3+120))return 0;let r=e.amount*t;return n&&n.percent_off?r=Math.round(r*(1-(n.percent_off_precise||n.percent_off)/100)):n&&n.amount_off&&(r=Math.max(0,r-n.amount_off)),r}function tk(e){let t,n,o,i,{interval:r="month",interval_count:a=eA,multiplier:l=1,min:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let i of e){if(o){if(o!=i.currency)continue}else o=i.currency;"month"==i.interval?(!t||i.amount<t)&&(t=i.amount):"year"==i.interval&&(!n||i.amount<n)&&(n=i.amount)}let c=t;if(!c&&n&&(c=n/12),!c)return null;switch(r){case"month":i=c;break;case"day":i=c/30;break;case"year":i=n||12*c;break;default:throw Error("bad interval: ".concat(r))}let u=i*a*l;return(u=100*Math.floor(u/100))<s?null:ty(u,o)}function tT(e){let t,{secondsCutoff:n,minutesCutoff:o,hoursCutoff:i,daysCutoff:r,weeksCutoff:a,long:l,noNumber:s,noWord:c,lessThanMinute:u,language:d="en",appendAgo:p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iCombo:m}=I18N.i(d);if((e=Math.round(e))<(n||60))return(t=Math.round(e),c)?t:s&&l?m("secondsToLargestUnit","second","seconds",t):s&&!l?m("secondsToLargestUnit","sec","secs",t):!l&&p?m("secondsToLargestUnit","%1 sec ago","%1 secs ago",t):l?p?m("secondsToLargestUnit","%1 second ago","%1 seconds ago",t):m("secondsToLargestUnit","%1 second","%1 seconds",t):m("secondsToLargestUnit","%1 sec","%1 secs",t);if(e<(o||3600)&&u&&!c&&!s)return(t=Math.round(e/60),!l&&p)?m("secondsToLargestUnit","%1 min ago","%1 mins ago",t):l?p?m("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",t):m("secondsToLargestUnit","less than %1 minute","less than %1 minutes",t):m("secondsToLargestUnit","less than %1 min","less than %1 mins",t);if(e<(o||3600))return(t=Math.round(e/60),c)?t:s&&l?m("secondsToLargestUnit","minute","minutes",t):s&&!l?m("secondsToLargestUnit","min","mins",t):!l&&p?m("secondsToLargestUnit","%1 min ago","%1 mins ago",t):l?p?m("secondsToLargestUnit","%1 minute ago","%1 minutes ago",t):m("secondsToLargestUnit","%1 minute","%1 minutes",t):m("secondsToLargestUnit","%1 min","%1 mins",t);if(e<(i||86400))return(t=Math.round(e/60/60),c)?t:s&&l?m("secondsToLargestUnit","hour","hours",t):s&&!l?m("secondsToLargestUnit","hr","hrs",t):!l&&p?m("secondsToLargestUnit","%1 hr ago","%1 hrs ago",t):l?p?m("secondsToLargestUnit","%1 hour ago","%1 hours ago",t):m("secondsToLargestUnit","%1 hour","%1 hours",t):m("secondsToLargestUnit","%1 hr","%1 hrs",t);if(e<(r||604800))return(t=Math.round(e/60/60/24),c)?t:s?m("secondsToLargestUnit","day","days",t):p?m("secondsToLargestUnit","%1 day ago","%1 days ago",t):m("secondsToLargestUnit","%1 day","%1 days",t);else if(e<(a||0x1e187e0))return(t=Math.round(e/60/60/24/7),c)?t:s&&l?m("secondsToLargestUnit","week","weeks",t):s&&!l?m("secondsToLargestUnit","wk","wks",t):!l&&p?m("secondsToLargestUnit","%1 wk ago","%1 wks ago",t):l?p?m("secondsToLargestUnit","%1 week ago","%1 weeks ago",t):m("secondsToLargestUnit","%1 week","%1 weeks",t):m("secondsToLargestUnit","%1 wk","%1 wks",t);return(t=Math.round(e/60/60/24/365.25),c)?t:s&&l?m("secondsToLargestUnit","year","years",t):s&&!l?m("secondsToLargestUnit","yr","yrs",t):!l&&p?m("secondsToLargestUnit","%1 yr ago","%1 yrs ago",t):l?p?m("secondsToLargestUnit","%1 year ago","%1 years ago",t):m("secondsToLargestUnit","%1 year","%1 years",t):m("secondsToLargestUnit","%1 yr","%1 yrs",t)}function tP(e){let{strict:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{strict:!1},n=Math.floor(e/60/60),o=Math.floor(e/60)%60,i=Math.floor(e%60);if(!t)return"".concat((n?"".concat(n,":"):"")+(n?"0".concat(o).slice(-2):o),":").concat("0".concat(i).slice(-2));let r=e=>e.toString().padStart(2,"0"),a=r(n),l=r(o),s=r(i);return"".concat(a,":").concat(l,":").concat(s)}function tI(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function tx(e){return"#"!==e[0]&&(e="#".concat(e)),e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,o)=>t+t+n+n+o+o)}function tC(e){let t;function n(e,t){"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)&&(e="100%");let n="string"==typeof e&&-1!=e.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}e=tx(e);let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(null==o?void 0:o[1],16),r=parseInt(null==o?void 0:o[2],16),a=parseInt(null==o?void 0:o[3],16);i=n(i,255);let l=Math.max(i,r=n(r,255),a=n(a,255)),s=Math.min(i,r,a),c=l-s;if(l==s)t=0;else{switch(l){case i:t=(r-a)/c+6*(r<a);break;case r:t=(a-i)/c+2;break;case a:t=(i-r)/c+4}t/=6}return{h:t,s:0===l?0:c/l,v:l}}function tU(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(tx(e));return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function tZ(e){let{r:t,g:n,b:o}=e;return"#".concat(t.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(o.toString(16).padStart(2,"0"))}function tR(e,t){let n="string"==typeof e?tU(e):e,o="string"==typeof t?tU(t):t;return s()((0,r._)((0,i._)({},n),{a:1}),(0,r._)((0,i._)({},o),{a:1}))}function tM(e){if(e)return"rgb(".concat(e.r," ").concat(e.g," ").concat(e.b).concat(void 0!==e.a?" / ".concat(e.a):"",")")}function tB(e){let t=tC(e);if(t.h>.11&&t.h<.56){if(t.s>.25&&t.v>.5&&(t.s<.6&&t.v>.8||t.s>.6))return!0}else if(t.s>.25&&t.v>.5)return!0;return!1}function tL(e,t){let n=tU(e);return n?(n.r=Math.max(0,Math.min(255,Math.round(n.r*t))),n.g=Math.max(0,Math.min(255,Math.round(n.g*t))),n.b=Math.max(0,Math.min(255,Math.round(n.b*t))),tZ(n)):e}function tD(e){let{r:t,g:n,b:o}=tU(e);return t/=255,n/=255,o/=255,.2126*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}function tF(e,t){let{name:n=e=>e,restWord:o="other",noNames:i="people",pluralizeRest:r=!0,showRestCount:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=e.map(n).filter(Boolean).slice(0,t);if(0===l.length)l.push(t7(e.length,i));else if(l.length<e.length){let t=e.length-l.length;l.push("".concat(a?t:""," ").concat(o).concat(t>1&&r?"s":""))}return tO(l)}function tO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t),o="";return 1===e.length?o=e[0]:2===e.length?o=e.join(" ".concat(n("and")," ")):e.length>2&&(o="".concat(e.slice(0,-1).join(", "),", ").concat(n("and")," ").concat(e.slice(-1))),o}function tV(e){let{minSignificantDigits:t=1,language:n="en"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<1e3)return e.toString();let{iTemplate:o}=I18N.i(n),i=e=>{let n=Math.max(t-1-Math.floor(Math.log10(e)),0);return Math.round(e*Math.pow(10,n))/Math.pow(10,n)};return 1e3>Math.round(e/1e3)?(e/=1e3,o(S(),i(e))):1e3>Math.round(e/1e6)?(e/=1e6,o(E(),i(e))):1e3>Math.round(e/1e9)?(e/=1e9,o(N(),i(e))):(e/=1e12,o(A(),i(e)))}let tz=e=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(e,1))/Math.LN10+1e-9))-1),tH=e=>"\uD83D\uDD25".repeat(tz(e));function tW(e,t,n){let o=(e||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(e=>e.trim()).filter(e=>e),i=[];for(;o.length>0;){let e=o.shift(),r=i[i.length-1];r&&r.length<n?i[i.length-1]+=t+e:i.push(e)}return i.join("\n")}function tG(){return Math.random().toString(36).replace(/^0\./,"")}function tj(e){return e.trim().split(/\s+/).filter(Boolean).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+e.substr(1).toLowerCase()}).join(" ")}function tq(e,t){var n;let o=t?e.substr(1).toLowerCase():e.substr(1);return(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+o}function tJ(e){let t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||"th")}function tX(e){let{precision:t=0,language:n="en"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=Number(e.replace(/,/g,""))),new Intl.NumberFormat(n,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:t}).format(e)}function tK(e){return u()(e)?0:Math.pow(10,Math.floor(Math.log10(e)))||0}function tY(e,t){let{iString:n}=I18N.i(t);if(e<100)return n("tens");if(e<1e3)return n("hundreds");if(e<1e4)return n("thousands");if(e<1e5)return n("tens of thousands");if(e<1e6)return n("hundreds of thousands");else if(e<1e7)return n("millions");else if(e<1e8)return n("tens of millions");else if(e<1e9)return n("hundreds of millions");else if(e<1e10)return n("billions");else if(e<1e11)return n("tens of billions");else if(e<1e12)return n("hundreds of billions");else if(e<1e13)return n("trillions");else if(e<1e14)return n("tens of trillions");else if(e<1e15)return n("hundreds of trillions");return n("gagillions")}function tQ(e){let{maximumFractionDigits:t=1,plusSignifier:n="+"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:t,roundingMode:"floor"});return e>=1e3?"".concat(o).concat(n):e>0?o:"0"}function t$(e){return e<=10?"#".concat(e):e<=25?"Top 25":e<=50?"Top 50":e<=100?"Top 100":""}function t0(e){if(e<1e3)return null;let t=1e3*Math.floor(e/1e3);return t>=1e6&&(t=1e5*Math.floor(e/1e5)),tX(t)}function t1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iTemplate:n}=I18N.i(t),o=t0(e);return o?n(k(),o):null}function t2(e){let t;return e?(t=e<1e3?1:e<1e4?100:e<1e6?1e3:1e5,Math.floor(e/t)*t):0}function t8(e){let t=t2(e);return t&&0!==t?tQ(t):null}function t6(e,t){let{iString:n}=I18N.i(t);return e&&0!==e?"".concat(t8(e)," ").concat(n(1===e?"subscriber":"subscribers")):n("See subscribers")}let t4=e=>1>Number(e)?"< 1%":"".concat(e,"%");function t3(e){let{rounded:t=!1,display:n=!1,decimalPlaces:o=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=100*parseFloat(e);return(o>=0&&(i=i.toFixed(o)),t&&(i=Math.floor(i)),n)?t4(Number(i)):i}function t5(e){var t;return(null==e?void 0:null===(t=e.postSchedules)||void 0===t?void 0:t.length)&&e.postSchedules[0]&&e.postSchedules[0].trigger_at?new Date(e.postSchedules[0].trigger_at):"scheduled_at"in e&&e&&e.scheduled_at?e.email_sent_at&&e.should_send_email?void 0:new Date(Math.max(new Date(e.scheduled_at).getTime(),Date.now())):void 0}function t9(e){if(0===e)return"zero";if(1===e)return"one";if(2===e)return"two";if(3===e)return"three";if(4===e)return"four";else if(5===e)return"five";else if(6===e)return"six";else if(7===e)return"seven";else if(8===e)return"eight";else if(9===e)return"nine";else if(10===e)return"ten";else if(11===e)return"eleven";else if(12===e)return"twelve";return tX(e)}function t7(e,t){let n,o,{zero_fallback:i="",just_word:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.lastIndexOf(" ")+1,l=t.substr(a),s=t.substr(0,a);return(["person","people"].includes(l)?(n="".concat(s,"person"),o="".concat(s,"people")):["Person","People"].includes(l)?(n="".concat(s,"Person"),o="".concat(s,"People")):["reply","replies"].includes(l)?(n="".concat(s,"reply"),o="".concat(s,"replies")):["Reply","Replies"].includes(l)?(n="".concat(s,"Reply"),o="".concat(s,"Replies")):["entry","entries"].includes(l)?(n="".concat(s,"entry"),o="".concat(s,"entries")):["Entry","Entries"].includes(l)?(n="".concat(s,"Entry"),o="".concat(s,"Entries")):["match","matches"].includes(l)?(n="".concat(s,"match"),o="".concat(s,"matches")):["Match","Matches"].includes(l)?(n="".concat(s,"Match"),o="".concat(s,"Matches")):(n=t,o="".concat(t,"s")),r||(n="".concat(tX(e)," ").concat(n),o="".concat(tX(e)," ").concat(o)),!e&&i)?i:1==e?n:o}function ne(e){return"".concat(e,"’").concat("s"===e[e.length-1]?"":"s")}function nt(e){return e.replace(/\n/g,"\\n")}function nn(e){let{publication:t,post:n}=e;return!(!n||["adhoc_email","page"].includes(null==n?void 0:n.type))&&t.community_enabled&&n&&"none"!==n.write_comment_permissions}function no(e){let{publication:t,post:n}=e;return!!(t.community_enabled&&n)}function ni(e){let{publication:t,post:n}=e;return(null==n?void 0:n.type)!=="page"&&(null==n?void 0:n.type)!=="adhoc_email"&&(null==n?void 0:n.slug)!=="coming-soon"&&(n&&n.comment_count>0||nn({publication:t,post:n}))}let nr=e=>!!(e&&e.is_contributor);function na(e,t){let{bypassContentAccessCheck:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{userHasFullAccessToPost:i}=n(31377);return!t.is_geoblocked&&(!!(e&&t.publishedBylines&&t.publishedBylines.find(t=>t.id===e.id))||o||i(e,t))}function nl(e,t){let{bypassContentAccessCheck:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{userHasFullAccessToPost:i}=n(31377);return!!(e&&t.publishedBylines&&t.publishedBylines.find(t=>t.id===e.id))||o||i(e,t)}let ns=e=>"thread"===e.type&&"none"===e.write_comment_permissions;function nc(e,t,o){let{userHasFullAccessToPost:i,isFoundingAudience:r}=n(31377),a=e&&"id"in e?e.id:null;if(a&&t.publishedBylines&&t.publishedBylines.find(e=>e.id===a)||e&&e.is_contributor)return{canReply:!0};switch(t.write_comment_permissions||o.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:f.us.comments_disabled};case"only_paid":{if(r(t.audience)){let n=!!e&&i(e,t);return{canReply:n,repliesDisabledReason:n?void 0:f.us.founding_subscription_required}}let n=!!(e&&e.is_subscribed);return{canReply:n,repliesDisabledReason:n?void 0:f.us.paid_subscription_required}}}return{canReply:!1}}function nu(e,t,n){return nc((0,r._)((0,i._)({},e),{is_subscribed:!0}),t,n).canReply}let nd=(e,t)=>!!(t&&e&&e.id===t.user_id);function np(e,t,n){let{pub:o,post:i,parentComments:r}=n;if(!e||!t)return!1;if(e.id===t.user_id)return!0;if(t.publication_id&&t.post_id){if(nf(e,o))return!0}else if(nm({user:e,comment:t,parentComments:r}))return!0;return!1}function nm(e){var t;let{user:n,comment:o,parentComments:i}=e;if(!n||!o||o.publication_id&&o.post_id||n.id===o.user_id||n.is_contributor)return!1;let r=Number(null===(t=o.ancestor_path)||void 0===t?void 0:t.split(".").filter(Boolean)[0]);if(!r)return!1;let a=null==i?void 0:i.find(e=>(null==e?void 0:e.id)===r);return n.id===(null==a?void 0:a.user_id)}function nf(e,t){return!!e&&!!(e.id===(null==t?void 0:t.author_id)||(null==t?void 0:t.contributors.find(t=>t.user_id===e.id&&["admin","contributor"].includes(t.role))))}function nh(e,t){return!!e&&!!t&&e.id!==t.user_id}function ng(e){return!!e.plans}function n_(e){return!!(e.plans||e.has_subscribers)}function nv(e){let{type:t,coupon:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.plans&&"page"!==t?n?"only_free":"only_paid":"everyone"}function nb(e,t,n){if("thread"===t)switch(e){case"only_paid":case"founding":return["only_paid"];default:return["everyone"]}else switch(e){case"only_paid":case"founding":return["only_paid","none"];case"everyone":if(n)return["only_paid","everyone","none"];return["everyone","none"];default:return["none"]}}function ny(e,t,n,o){return null!=e&&nb(t,n,o).includes(e)}function nw(e,t,n,o){return ny(n.default_write_comment_permissions,e,t,o)?n.default_write_comment_permissions:nb(e,t,o)[0]}function nS(e,t,n){return"page"!==t&&("only_free"===n||!!e.default_post_publish_send_email)}function nE(e,t,n){return t&&"forever"===t.interval?0:Math.max(0,...[e.trial_end_override>Date.now()/1e3?e.trial_end_override:0,t&&"trial_period_days"in t&&t.trial_period_days&&Math.round((Date.now()+864e5*t.trial_period_days)/1e3),n&&n.trial_period_days&&Math.round((Date.now()+864e5*n.trial_period_days)/1e3)].filter(e=>e))}let nN=e=>eZ[new Date(e).getMonth()];function nA(e){let{noBreakSpace:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t?"\xa0":" ",o=[];if(1==e.length&&e[0])o=[e[0]];else if(2==e.length&&e[0]&&e[1])o=[e[0],"".concat(n,"and").concat(n),e[1]];else if(e.length>=3)for(let t=0;t<e.length;t++)o.push(e[t]),t<e.length-2?o.push(",".concat(n)):t===e.length-2&&o.push(",".concat(n,"and").concat(n));return o.toString=()=>o.join(""),o}function nk(e){var t;let n=new Map;for(let t of e){let e=n.get(t);e=(e||0)+1,n.set(t,e)}return null===(t=Array.from(n).sort((e,t)=>t[1]-e[1])[0])||void 0===t?void 0:t[0]}function nT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:n}=I18N.i(t);return n("thread"===e.type?"View thread":"podcast"===e.type?"Listen":"Read")}function nP(e){let{isFinalWord:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"podcast"===e?"listening".concat(t?"":" to"):"video"===e?"watching":"reading"}function nI(e){return"newsletter"===e?"post":"podcast"===e?"episode":"adhoc_email"===e?"email":"video"===e?"video":e}function nx(e){return"".concat(e4(e.title||"Untitled post",115))}function nC(e){return 10475===e.publication_id&&18994===e.section_id}function nU(e){let{isDraft:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?((t?e.draftBylines:e.publishedBylines)||[]).filter(e=>e.name):[]}function nZ(e,t){let{isDraft:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=nU(t,{isDraft:n});return o.length>0?tO(o.map(e=>e.name).filter(e=>null!==e)):null}let nR=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);function nM(e){return"string"==typeof e?p()(e)||0:"number"==typeof e?e:0}function nB(e){let t=e=>new RegExp("^.*".concat(e));if(e){if(e.includes(m.W.CHECKOUT_URL))return e.replace(t(m.W.CHECKOUT_URL),"/subscribe?");if(e.includes(m.W.FOUNDING_CHECKOUT_URL))return e.replace(t(m.W.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");else if(e.includes(m.W.REFERRAL_URL))return e.replace(t(m.W.REFERRAL_URL),"/?showWelcome=true");else if(e.includes(m.W.UNSUBSCRIBE_URL))return e.replace(t(m.W.UNSUBSCRIBE_URL),"/account?");else if(e.includes(m.W.ONE_CLICK_UNSUBSCRIBE_URL))return e.replace(t(m.W.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");else if(/^.*%%.*%%/.test(e))return null}return e}function nL(e){let t=nB(e);if(t){let e=window.open(t,"_blank");(null==e?void 0:e.focus)&&e.focus()}}function nD(e){var t;return!e||["publish","account"].includes(null!==(t=(document.location&&document.location.pathname||"").split("/")[1])&&void 0!==t?t:"")}function nF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(Z[n])}function nO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return 0;let[t,n]=e.split(" "),o=Z.indexOf(n);return o<0?0:Number(t)*Math.pow(1024,o)}function nV(e){return/Googlebot/i.test(e||"")?"Google":/bingbot/i.test(e||"")||/BingPreview/i.test(e||"")?"Bing":/Slurp/i.test(e||"")?"Yahoo":/DuckDuckBot/i.test(e||"")?"DDG":!!/Baiduspider/i.test(e||"")&&"Baidu"}function nz(e,t,n,o){return e.name?e.name:(n&&n.author_id===o.id||t&&t.publishedBylines&&t.publishedBylines.find(e=>e.id===o.id))&&e.email||"Someone"}function nH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",{iTemplate:o}=I18N.i(n);return e&&e.description||t.hero_text||o(T(),t.name)}let nW=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"},{pubs:["thecoddlingmovie"],subscribe:new Date>new Date("2024-02-22T08:00:00Z")?"watch the film":"pre-order the film"}],nG={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},nj=nW.flatMap(e=>e.pubs);function nq(e,t,n){let o=nW.find(t=>t.pubs.includes(null==e?void 0:e.subdomain))||null,r=o?(0,i._)({},nG,o):null;return r?n(r):t()}function nJ(e,t){let n=e?nW.find(t=>t.pubs.includes(e.subdomain)):void 0,o=n&&n[t];if(!o&&!(o=nG[t]))throw Error("".concat(t," is not a valid subscription word"));return o}function nX(e){let t={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from("".concat(e)).map(e=>t[e]))}let nK=e=>{var t,n,o;return null==e?void 0:null===(o=e.plans)||void 0===o?void 0:null===(n=o.find(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.founding}))||void 0===n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.short_description},nY=e=>"https://".concat("","checkout.opennode.com/").concat(e);function nQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=0===e?0:Math.floor(Math.log(e)/Math.log(1024));return"".concat(+(e/Math.pow(1024,t)).toPrecision(3)).concat(["B","KB","MB","GB","TB"][t])}function n$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";if(!e)return null;let{iString:n}=I18N.i(t),o=n("Substack Network"),i=n("Substack App"),r=n("Substack Live Video");if(n1(e))return i;let a={"blog.substack.com":o,"library.substack.com":o,"substack-network":o,"on.substack.com":o,"open.substack.com":i,"post-end-cta":"Post Footer CTA","stories.substack.com":o,"substack-activity-items":i,"substack-app":i,"substack-boost":o,"substack-categories-discovery":i,"substack-categories-discovery-search":i,"substack-chat":i,"substack-comment-links":o,"substack-country-leaderboards":i,"substack-cross-posts":o,"substack-facepiles":o,"substack-feed-item":i,"substack-follow-recommendations":i,"substack-homepage-recommendations":o,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-leaderboards":i,"substack-live-stream":r,"substack-media-player":i,"substack-mentions":o,"substack-notes":i,"substack-onboarding-discovery":i,"substack-paid-gift":i,"substack-post-embeds":o,"substack-post-reply-comment":o,"substack-presubscribe":i,"substack-publication-embeds":o,"substack-reader-discovery":i,"substack-reader-profile-discovery":i,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":n("Substack Network — Your Weekly Stack"),"substack-recommendation-email":o,"substack-recommendations-page":o,"substack-referral":o,"substack-signup-flow":o,"substack-spotify-integration":i,"substack-subscriber-referral":o,"substack-twitter-link":i,"substack-twitter-suggest":i,"substack-xp-post-template":o,"substack-xp-read-next":o,"substack.com":i,"t.co":"Twitter","www.substack.com":i,external:n("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":n("Boost upsell to engaged subscribers"),"substack-boost-subscribe-page-upsell":n("Boost upsell on another publication")}[e];return a||(/(\b|\.)facebook\./.test(e)?"Facebook":/(\b|\.)instagram\./.test(e)?"Instagram":/(\b|\.)linkedin\./.test(e)?"LinkedIn":/(\b|\.)youtube\./.test(e)?"YouTube":/(\b|\.)duckduckgo\./.test(e)?"DuckDuckGo":/(\b|\.)medium\./.test(e)?"Medium":/(\b|\.)reddit\./.test(e)?"Reddit":/(\b|\.)bing\./.test(e)?"Bing":/(\b|\.)google\./.test(e)?"Google":(null==e?void 0:e.includes("."))?e:tj(e.replace(/-/g," ")))}function n0(e){return!!n1(e)||["substack-activity-items","substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-chat","substack-country-leaderboards","substack-feed-item","substack-follow-recommendations","substack-ios-in-app-purchase","substack-leaderboards","substack-live-stream","substack-media-player","substack-notes","substack-onboarding-discovery","substack-paid-gift","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(e)}function n1(e){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes","profile-page-notes","notes-inline-suggestions","subscribe_header_notes","notes-all-suggestions","notes-like-list","new-follower-email","media-player"].includes(e)}function n2(e){return!n0(e)&&/substack/i.test(e)}let n8=e=>/^\S+@\S+\.\S+$/.test(e),n6=e=>(e||"").replace(/\s+/g," "),n4={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function n3(e){return e?e<3456e3?"monthly":e<8121600?"quarterly":e<0xf53700?"semiannual":e<3456e4?"annual":e>3888e3?"lifetime":"other":"free"}function n5(e){return e&&("newspaper"===e.homepage_type||"magaziney"===e.homepage_type)}let n9=35;function n7(e){let t,n,{isStatic:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.width>=e.height*(960/540)?n=Math.round((t=o?550:960)*(e.height/e.width)):e.width>=e.height?n=Math.round((t=o?550:728)*(e.height/e.width)):t=n=o?550:728,{height:n,width:t}}function oe(e){let t=n(98012).Z,o=t(e);return t.utc([o.year(),o.month(),o.date(),8,0,0]).toDate()}function ot(){let{now:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(98012).Z,o=e?t(e):t(),i=o.utc().startOf("day").add(5,"hour");return i.isBefore(o)&&(i=i.utc().add(1,"day")),i}function on(e){let t=Math.round(e/60),n=Math.floor(t/60);return"".concat(n?"".concat(n,"HR "):"").concat(t%60,"M")}function oo(e){let t=Math.round(e/60),n=Math.floor(t/60),o=t%60;return n?"".concat(n,"h ").concat(o,"m"):o?"".concat(o,"m"):"".concat(Math.round(e),"s")}function oi(e){let t=e.toLowerCase()[0];return["a","e","i","o","u"].includes(null!=t?t:"")}function or(e){return"".concat(e.toLowerCase().startsWith("uni watch")?"a":oi(e)?"an":"a"," ").concat(e)}function oa(e){return e.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0)}function ol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iContext:n}=I18N.i(t),o=n("thousandsAbbreviation","K");return Math.abs(e)>9999?"".concat(Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)).concat(o):(Math.sign(e)*Math.abs(e)).toString()}function os(e){var t,n,o,i,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",{iString:l}=I18N.i(a);return l((null===(t=e.metadata)||void 0===t?void 0:t.short_description_english)==="Stammleser"||(null===(n=e.metadata)||void 0===n?void 0:n.short_description_english)==="Gr\xfcndungsmitglied"?"Founding Member":(null===(o=e.metadata)||void 0===o?void 0:o.short_description_english)?null===(i=e.metadata)||void 0===i?void 0:i.short_description_english:(null===(r=e.metadata)||void 0===r?void 0:r.short_description)?e.metadata.short_description:"year"===e.interval?"Annual":"forever"===e.interval?"Founding Membership":"month"===e.interval&&3===e.interval_count?"Quarterly":"month"===e.interval&&6===e.interval_count?"Semiannually":"day"===e.interval?"Daily":"week"===e.interval?"Weekly":"Monthly")}let oc=function(){let{minLength:e,maxLength:t,minAlphaNumeric:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{if(!o)return"Missing input";if(e&&o.length<e)return"Must be at least ".concat(e," characters long");if(t&&o.length>t)return"Must be at most ".concat(t," characters long");let i=RegExp("\\P{P}|`","gu"),r=o.match(i);if(!r||(null==r?void 0:r.length)<(null!=n?n:e))return"Must contain at least ".concat(null!=n?n:e," non-punctuation characters");let a=["`"],l=0;return(r.forEach(e=>{a.includes(e)&&(l+=1)}),r.length-l<(null!=n?n:e))?"Must contain at least ".concat(null!=n?n:e," non-punctuation characters"):null}};function ou(e,t){let n=b.env[e];if(void 0!==n)return n;if(void 0!==t)return t;throw Error("Missing required env var ".concat(e))}function od(e){return new Promise((t,n)=>{let o=[];e.on("data",e=>o.push(e)),e.once("end",()=>t(y.concat(o))),e.once("error",n)})}function op(e){let{maxWidth:t=55,maxLines:n=2,charWidth:o=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],r="",a=0;for(let l of e.split(" ")){let e=l.length*o;if(a+e<=t)r?(r+=" ".concat(l),a+=e+o):(r=l,a=e);else if(i.push(r),r=l,a=e,i.length===n)break}if(i.length===n&&r){let e=t-a;e>=3?r+="...":r="".concat(r.substring(0,r.length-(3-e)),"..."),i[n-1]=r}else r&&i.push(r);return i}function om(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function of(e){return(null==e?void 0:e.id)&&e.id.toString(36)||null}function oh(e){if(!e)return null;try{let t=parseInt(e,36);return isNaN(t)||t>ec?null:t}catch(e){return null}}function og(e,t){return"string"!=typeof e?t[0]:t.includes(e)?e:t[0]}function o_(e){var t,n,o;let i=Array(null===(t=e[0])||void 0===t?void 0:t.length).fill(0);for(let t=0;t<e.length;t++)for(let r=0;r<(null==e?void 0:null===(n=e[t])||void 0===n?void 0:n.length);r++)i[r]+=(null==e?void 0:null===(o=e[t])||void 0===o?void 0:o[r])/e.length;return i}function ov(e){return[...e].map(e=>String.fromCodePoint(e.toUpperCase().codePointAt()+127397)).join("")}let ob=[{label:"Generic",value:"generic",url:"https://substack.com/content",message:void 0},{label:"Copyright Infringement",value:"copyright_infringement",url:"https://substack.com/dispute",message:"Warning: We have detected potential copyrighted content in your stream. Please remove any unauthorized content immediately to avoid additional enforcement actions from being taken against this stream or your account."},{label:"Explicit Content",value:"explicit_content",url:"https://substack.com/content",message:"Warning: We have detected a potential violation of Substack's Nudity/Porn/Erotica policy. As a reminder, Substack does not allow visual depictions of sexual acts. Please remove any violating content to avoid additional enforcement actions from being taken against this stream or your account."},{label:"Harmful and Illegal Activities",value:"harmful_and_illegal_activities",url:"https://substack.com/content",message:"We have detected a potential violation of Substack's Harmful & Illegal Activities policy. As a reminder, Substack does not allow content that promotes harmful or illegal activities, including material that advocates, threatens, or shows your causing harm to yourself, other people, or animals. Please remove any violating content to avoid additional enforcement actions from being taken against this stream or your account."}],oy=["US","GB","CA","FR","DE","ES","IT","NL","PL","GR","BE","IE","PT"]},35934:function(e,t,n){n.d(t,{gz:()=>i});var o=n(27412);class i extends Error{constructor(e,t={},n=!1,i=null){let r,a;super(e),(0,o._)(this,"status",void 0),(0,o._)(this,"userVisible",void 0),(0,o._)(this,"messageHtml",void 0),(0,o._)(this,"response",void 0),(0,o._)(this,"type",void 0),(0,o._)(this,"metadata",void 0),this.name=this.constructor.name;let l=null,s=null,c=null;if("object"==typeof t){var u,d,p,m,f,h;r=null!==(u=t.status)&&void 0!==u?u:500,n=null!==(d=t.userVisible)&&void 0!==d&&d,i=null!==(p=t.messageHtml)&&void 0!==p?p:null,l=null!==(m=t.responseBody)&&void 0!==m?m:null,s=null!==(f=t.type)&&void 0!==f?f:null,c=null!==(h=t.metadata)&&void 0!==h?h:null}else r=t;this.status=r,this.userVisible=!!l||n,this.messageHtml=i,this.type=s,this.metadata=c,l?a=l:this.userVisible?i?a={errors:[{msg:e,msgHTML:i}],type:"list"}:(a={error:e,type:"single"},this.type&&(a.type=this.type),this.metadata&&(a.metadata=this.metadata)):a={error:""},this.response={body:a},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}}}]);