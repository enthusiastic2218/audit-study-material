"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1951],{1951:function(e,t,n){n.d(t,{bn:function(){return b},kt:function(){return h},Y:function(){return s},q:function(){return i},VD:function(){return C},Un:function(){return v},PW:function(){return A},TS:function(){return F},lU:function(){return Q},mA:function(){return y},UQ:function(){return p},T4:function(){return f},$t:function(){return x},wy:function(){return m},$:function(){return S},rc:function(){return T},Gn:function(){return g},x1:function(){return q}});var r=n(79736),u=n(37924),o=n(76867),a=n(28799);let i=function(){let{pageSize:e=10,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useInfiniteQuery)({queryKey:(null==t?void 0:t.status)?o.a.contests.status(t.status):o.a.contests.all,queryFn:n=>{let{pageParam:r=1}=n;return(0,a.T)({...t,page:r||1,perPage:e})},initialPageParam:1,getNextPageParam:e=>e.nextPage})},s=e=>(0,u.useQuery)({queryKey:o.a.contests.contest(e),queryFn:()=>(0,a.D)(e),staleTime:3e5});var c=n(26736),l=n(27220),d=n(19980);let y=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.xJ,onSuccess:async t=>{await e.invalidateQueries(),await e.setQueryData(o.a.auditors.profile,t)}})},f=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.IU,onSuccess:async(t,n)=>{let{address:r}=n;await e.setQueryData(o.a.auditors.isAuditor(r),!0),await e.invalidateQueries(),await e.setQueryData(o.a.auditors.profile,t)}})},p=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.uf,onSuccess:async()=>{await e.invalidateQueries(),await e.setQueryData(o.a.auditors.profile,null)}})},m=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.yD,onSuccess:async()=>{await e.invalidateQueries({queryKey:o.a.auditors.profile})}})},v=e=>(0,u.useQuery)({queryKey:o.a.auditors.profile,queryFn:d.Ai,...e}),g=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.ck,onSuccess:async t=>{await e.setQueryData(o.a.auditors.profile,t)}})},h=e=>(0,u.useQuery)({queryKey:o.a.collabAudits.issues(e),queryFn:()=>(0,d.dO)(e)}),S=()=>(0,l.useMutation)({mutationFn:d.sZ}),C=()=>(0,u.useQuery)({queryKey:["judgingApprentices"],queryFn:d.j6}),b=function(){let{onSuccess:e,onError:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.Fg,onSuccess:t=>{n.invalidateQueries({queryKey:["judgingApprentices"]}),null==e||e(t)},onError:t})},T=function(){let{onSuccess:e,onError:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.x3,onSuccess:t=>{n.invalidateQueries({queryKey:["judgingApprentices"]}),null==e||e(t)},onError:t})},Q=function(){let{onSuccess:e,onError:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:d.qW,onSuccess:t=>{n.invalidateQueries({queryKey:["judgingApprentices"]}),null==e||e(t)},onError:t})},F=()=>(0,u.useQuery)({queryKey:o.a.protocols.all,queryFn:d.IE}),A=e=>{var t;let n=F();return{data:null===(t=n.data)||void 0===t?void 0:t.find(t=>t.id===e),isLoading:n.isLoading}},q=()=>{let e=(0,c.useQueryClient)();return(0,l.useMutation)({mutationFn:e=>(0,d.H7)(e),onSuccess:async(t,n)=>{await e.invalidateQueries({queryKey:o.a.protocols.all})}})},x=()=>(0,u.useQuery)({queryKey:o.a.auditors.sumsub.accessToken,queryFn:d.hP})},28799:function(e,t,n){n.d(t,{D:function(){return o},T:function(){return u}});var r=n(2763);let u=async e=>(0,r.SC)("/contests",{queryParams:e,next:{revalidate:0}}),o=async e=>(0,r.SC)("/contests/".concat(e),{next:{revalidate:0}})},19980:function(e,t,n){n.d(t,{Fg:function(){return p},hP:function(){return S},dO:function(){return d},j6:function(){return f},Vu:function(){return o},Ai:function(){return c},IE:function(){return g},qW:function(){return v},xJ:function(){return u},uf:function(){return i},IU:function(){return a},yD:function(){return s},sZ:function(){return y},x3:function(){return m},ck:function(){return l},H7:function(){return h}}),n(28799);var r=n(2763);let u=async e=>(0,r.SC)("/verify",{method:"POST",body:e,next:{revalidate:0}}),o=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.SC)(e?"/admin/nonce":"/nonce",{next:{revalidate:0}})},a=async e=>(0,r.SC)("/signup",{method:"POST",body:e,next:{revalidate:0},convertErrorToFormError:!0}),i=async()=>(0,r.SC)("/signout",{next:{revalidate:0}}),s=async e=>(0,r.SC)("/active_account",{method:"PUT",body:{handle:e}}),c=async()=>(0,r.SC)("/profile",{next:{revalidate:0}}),l=async e=>(0,r.SC)("/profile",{method:"PATCH",body:e,convertErrorToFormError:!0}),d=async e=>(0,r.SC)("/admin/collab-audits/".concat(e,"/issues"),{next:{revalidate:0}}),y=async e=>(0,r.SC)("/admin/collab-audits/".concat(e,"/sync-issues"),{method:"POST"}),f=()=>(0,r.SC)("/admin/judging/apprentices"),p=e=>(0,r.SC)("/admin/judging/apprentices",{method:"POST",body:{handle:e}}),m=e=>(0,r.SC)("/admin/judging/apprentices/".concat(e,"/sync"),{method:"POST"}),v=e=>(0,r.SC)("/admin/judging/apprentices/".concat(e,"/release"),{method:"POST"}),g=async()=>(0,r.SC)("/admin/protocols",{next:{revalidate:0}}),h=async e=>{let{protocolId:t,logo:n}=e,u=new FormData;return u.append("logo",n),(0,r.SC)("/admin/protocols/".concat(t,"/logo"),{method:"PUT",formData:u})},S=async()=>(0,r.SC)("/sumsub/access-token",{next:{revalidate:0}})},76867:function(e,t,n){n.d(t,{a:function(){return r}});let r={contests:{all:["contests","all"],status:e=>{var t;return["contests",null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"all"]},contest:e=>["contest",e.toString()]},collabAudits:{issues:e=>["collab-audit-issues",e]},auditors:{profile:["profile"],isAuditor:e=>["isAuditor",e],sumsub:{accessToken:["sumsub","accessToken"]}},agent:{githubSetup:["githubSetup"],githubRepos:["githubRepos"],githubRepoBranches:e=>["githubRepoBranches",e],githubRepoBranchCommits:(e,t)=>["githubRepoBranchCommits",e,t],runs:{all:["runs"],run:e=>["runs",e],chats:e=>["chats",e],chatMessages:(e,t)=>["chatMessages",e,t],references:e=>["references",e]}},protocols:{all:["protocols","all"],protocol:e=>["protocol",e]}}},2763:function(e,t,n){n.d(t,{SC:function(){return m}});let r=e=>e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace("-","").replace("_","")),u=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,""),o=e=>Array.isArray(e)?e.map(e=>o(e)):null===e||"object"!=typeof e?e:Object.keys(e).reduce((t,n)=>(t[r(n)]=o(e[n]),t),{}),a=e=>Array.isArray(e)?e.map(e=>a(e)):null===e||"object"!=typeof e?e:Object.keys(e).reduce((t,n)=>(t[u(n)]=a(e[n]),t),{}),i=e=>Array.isArray(e);class s extends Error{extractField(e,t){if(!e)return;let n=e[t];return i(n)?n[0]:"object"==typeof n&&null!==n?Object.values(n)[0]:"string"==typeof n?n:void 0}constructor(e){super();let t=Object.keys(e);this.fieldErrors=t.reduce((t,n)=>{let o=u(n),a=this.extractField(e,n)||this.extractField(e,o);return t[r(n)]=a,t},{}),(null==e?void 0:e.error)&&(this.fieldErrors.error=this.extractField(e,"error"))}}(c||(c={})).SMART_CONTRACT_HACKING="SMART_CONTRACT_HACKING";var c,l=n(32608);let d=()=>(l.env.VERCEL_URL,l.env.VERCEL_URL,"/api"),y={"Content-Type":"application/json"},f=async(e,t)=>{if(!e.ok){let n=await e.json().catch(()=>({}));if(t)throw new s(n);throw Error(n.error||"Request processing failed. HTTP Status Code: ".concat(e.status,"."))}return e},p={method:"GET",body:null,formData:null,options:null,queryParams:null,next:{},convertErrorToFormError:!1,token:null},m=async(e,t)=>{var n,r,i;let s=e.startsWith("/")?e.slice(1):e,c=Object.assign({},p,null!=t?t:{}),l=new URLSearchParams;Object.entries(null!==(r=c.queryParams)&&void 0!==r?r:{}).forEach(e=>{let[t,n]=e;null!=n&&l.append(u(t),n.toString())});let m=l.toString(),v="".concat(d(),"/").concat(s).concat(m?"?".concat(m):""),g=Object.assign({},y,null==c?void 0:null===(n=c.options)||void 0===n?void 0:n.headers);c.token&&(g.Authorization="Bearer ".concat(c.token)),(null==c?void 0:c.formData)?(c.formData.forEach((e,t)=>{console.log(t,e)}),c.body=c.formData,delete g["Content-Type"]):(null==c?void 0:c.body)?c.body=JSON.stringify(a(c.body)):c.body=void 0;let h=await fetch(v,{...c||{},method:null!==(i=null==c?void 0:c.method)&&void 0!==i?i:p.method,headers:g,body:null==c?void 0:c.body,credentials:"include",next:null==c?void 0:c.next});await f(h,null==c?void 0:c.convertErrorToFormError);let S=await h.text();return 204!==h.status&&S?o(JSON.parse(S)):null}}}]);