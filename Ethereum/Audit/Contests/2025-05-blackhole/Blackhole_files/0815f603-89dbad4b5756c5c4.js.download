"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5986],{24434:function(e,t,n){n.d(t,{$Y:function(){return en},NI:function(){return el},YF:function(){return er},bQ:function(){return et},c0:function(){return ef},eS:function(){return G},ll:function(){return _},ox:function(){return em},qs:function(){return ev},wD:function(){return $}});var r,u=n(2265),l=n(40604),o=n(57437),i=n(94046),c=n(57572),a=n(54887),s=n(97859);let f="active",d="selected",v="ArrowLeft",m="ArrowRight",p="ArrowUp",g="ArrowDown",y={...r||(r=n.t(u,2))},E=!1,b=0,h=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+b++,k=y.useId||function(){let[e,t]=u.useState(()=>E?h():void 0);return(0,l.Xj)(()=>{null==e&&t(h())},[]),u.useEffect(()=>{E=!0},[]),e},R=u.createContext(null),x=u.createContext(null),w=()=>{var e;return(null==(e=u.useContext(R))?void 0:e.id)||null},M=()=>u.useContext(x);function C(e){return"data-floating-ui-"+e}function I(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}let A=0;function W(e,t){void 0===t&&(t={});let{preventScroll:n=!1,cancelPrevious:r=!0,sync:u=!1}=t;r&&cancelAnimationFrame(A);let l=()=>null==e?void 0:e.focus({preventScroll:n});u?l():A=requestAnimationFrame(l)}let L=new WeakMap,j=new WeakSet,K={},S=0,P=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,X=e=>e&&(e.host||X(e.parentNode)),T=(e,t)=>t.map(t=>{if(e.contains(t))return t;let n=X(t);return e.contains(n)?n:null}).filter(e=>null!=e);function N(e,t,n){var r;void 0===t&&(t=!1),void 0===n&&(n=!1);let u=((null==(r=e[0])?void 0:r.ownerDocument)||document).body;return function(e,t,n,r){let u="data-floating-ui-inert",l=r?"inert":n?"aria-hidden":null,o=T(t,e),c=new Set,a=new Set(o),s=[];K[u]||(K[u]=new WeakMap);let f=K[u];return o.forEach(function e(t){!(!t||c.has(t))&&(c.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||a.has(t)||[].forEach.call(t.children,t=>{if("script"!==(0,i.wk)(t)){if(c.has(t))e(t);else{let e=l?t.getAttribute(l):null,n=null!==e&&"false"!==e,r=L.get(t)||0,o=l?r+1:r,i=(f.get(t)||0)+1;L.set(t,o),f.set(t,i),s.push(t),1===o&&n&&j.add(t),1===i&&t.setAttribute(u,""),!n&&l&&t.setAttribute(l,"inert"===l?"":"true")}}})}(t),c.clear(),S++,()=>{s.forEach(e=>{let t=L.get(e)||0,n=l?t-1:t,r=(f.get(e)||0)-1;L.set(e,n),f.set(e,r),n||(!j.has(e)&&l&&e.removeAttribute(l),j.delete(e)),r||e.removeAttribute(u)}),--S||(L=new WeakMap,L=new WeakMap,j=new WeakSet,K={})}}(e.concat(Array.from(u.querySelectorAll("[aria-live]"))),u,t,n)}let D={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},F=u.forwardRef(function(e,t){let[n,r]=u.useState();(0,l.Xj)(()=>{(0,l.G6)()&&r("button")},[]);let i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[C("focus-guard")]:"",style:D};return(0,o.jsx)("span",{...e,...i})}),O=u.createContext(null),q=C("portal");function _(e){let{children:t,id:n,root:r,preserveTabOrder:c=!0}=e,s=function(e){void 0===e&&(e={});let{id:t,root:n}=e,r=k(),o=U(),[c,a]=u.useState(null),s=u.useRef(null);return(0,l.Xj)(()=>()=>{null==c||c.remove(),queueMicrotask(()=>{s.current=null})},[c]),(0,l.Xj)(()=>{if(!r||s.current)return;let e=t?document.getElementById(t):null;if(!e)return;let n=document.createElement("div");n.id=r,n.setAttribute(q,""),e.appendChild(n),s.current=n,a(n)},[t,r]),(0,l.Xj)(()=>{if(null===n||!r||s.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!(0,i.kK)(e)&&(e=e.current),e=e||document.body;let u=null;t&&((u=document.createElement("div")).id=t,e.appendChild(u));let l=document.createElement("div");l.id=r,l.setAttribute(q,""),(e=u||e).appendChild(l),s.current=l,a(l)},[t,n,r,o]),c}({id:n,root:r}),[f,d]=u.useState(null),v=u.useRef(null),m=u.useRef(null),p=u.useRef(null),g=u.useRef(null),y=null==f?void 0:f.modal,E=null==f?void 0:f.open,b=!!f&&!f.modal&&f.open&&c&&!!(r||s);return u.useEffect(()=>{if(s&&c&&!y)return s.addEventListener("focusin",e,!0),s.addEventListener("focusout",e,!0),()=>{s.removeEventListener("focusin",e,!0),s.removeEventListener("focusout",e,!0)};function e(e){s&&(0,l.dE)(e)&&("focusin"===e.type?l.NX:l.N6)(s)}},[s,c,y]),u.useEffect(()=>{s&&(E||(0,l.NX)(s))},[E,s]),(0,o.jsxs)(O.Provider,{value:u.useMemo(()=>({preserveTabOrder:c,beforeOutsideRef:v,afterOutsideRef:m,beforeInsideRef:p,afterInsideRef:g,portalNode:s,setFocusManagerState:d}),[c,s]),children:[b&&s&&(0,o.jsx)(F,{"data-type":"outside",ref:v,onFocus:e=>{if((0,l.dE)(e,s)){var t;null==(t=p.current)||t.focus()}else{let e=f?f.domReference:null,t=(0,l.e8)(e);null==t||t.focus()}}}),b&&s&&(0,o.jsx)("span",{"aria-owns":s.id,style:D}),s&&a.createPortal(t,s),b&&s&&(0,o.jsx)(F,{"data-type":"outside",ref:m,onFocus:e=>{if((0,l.dE)(e,s)){var t;null==(t=g.current)||t.focus()}else{let t=f?f.domReference:null,n=(0,l.k0)(t);null==n||n.focus(),(null==f?void 0:f.closeOnFocusOut)&&(null==f||f.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}let U=()=>u.useContext(O);function B(e){return u.useMemo(()=>t=>{e.forEach(e=>{e&&(e.current=t)})},e)}let H=[];function z(){return H.slice().reverse().find(e=>e.isConnected)}function V(e,t){var n;if(!t.current.includes("floating")&&!(null!=(n=e.getAttribute("role"))&&n.includes("dialog")))return;let r=(0,l.Tv)(),u=(0,c.KW)(e,r).filter(e=>{let t=e.getAttribute("data-tabindex")||"";return(0,c.Wq)(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")}),o=e.getAttribute("tabindex");t.current.includes("floating")||0===u.length?"0"!==o&&e.setAttribute("tabindex","0"):("-1"!==o||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}let Y=u.forwardRef(function(e,t){return(0,o.jsx)("button",{...e,type:"button",ref:t,tabIndex:-1,style:D})});function $(e){let{context:t,children:n,disabled:r=!1,order:a=["content"],guards:s=!0,initialFocus:f=0,returnFocus:d=!0,restoreFocus:v=!1,modal:m=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:g=!0,outsideElementsInert:y=!1,getInsideElements:E=()=>[]}=e,{open:b,onOpenChange:h,events:k,dataRef:R,elements:{domReference:x,floating:w}}=t,I=(0,l.iW)(()=>{var e;return null==(e=R.current.floatingContext)?void 0:e.nodeId}),A=(0,l.iW)(E),L="number"==typeof f&&f<0,j=(0,l.Ie)(x)&&L,K=P(),S=!K||s,X=!S||K&&y,T=(0,l.II)(a),O=(0,l.II)(f),q=(0,l.II)(d),_=M(),$=U(),Z=u.useRef(null),G=u.useRef(null),Q=u.useRef(!1),J=u.useRef(!1),ee=u.useRef(-1),et=null!=$,en=(0,l.zd)(w),er=(0,l.iW)(function(e){return void 0===e&&(e=en),e?(0,c.ht)(e,(0,l.Tv)()):[]}),eu=(0,l.iW)(e=>{let t=er(e);return T.current.map(e=>x&&"reference"===e?x:en&&"floating"===e?en:t).filter(Boolean).flat()});u.useEffect(()=>{if(r||!m)return;function e(e){if("Tab"===e.key){(0,l.r3)(en,(0,l.AW)((0,l.Me)(en)))&&0===er().length&&!j&&(0,l.p7)(e);let t=eu(),n=(0,l.U9)(e);"reference"===T.current[0]&&n===x&&((0,l.p7)(e),e.shiftKey?W(t[t.length-1]):W(t[1])),"floating"===T.current[1]&&n===en&&e.shiftKey&&((0,l.p7)(e),W(t[0]))}}let t=(0,l.Me)(en);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,x,en,m,T,j,er,eu]),u.useEffect(()=>{if(!r&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){let t=(0,l.U9)(e),n=er().indexOf(t);-1!==n&&(ee.current=n)}},[r,w,er]),u.useEffect(()=>{if(!r&&g&&w&&(0,i.Re)(x))return x.addEventListener("focusout",t),x.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{x.removeEventListener("focusout",t),x.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)};function e(){J.current=!0,setTimeout(()=>{J.current=!1})}function t(e){let t=e.relatedTarget,n=e.currentTarget;queueMicrotask(()=>{let r=I(),u=!((0,l.r3)(x,t)||(0,l.r3)(w,t)||(0,l.r3)(t,w)||(0,l.r3)(null==$?void 0:$.portalNode,t)||null!=t&&t.hasAttribute(C("focus-guard"))||_&&((0,l.El)(_.nodesRef.current,r).find(e=>{var n,r;return(0,l.r3)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,l.r3)(null==(r=e.context)?void 0:r.elements.domReference,t)})||(0,l.C1)(_.nodesRef.current,r).find(e=>{var n,r,u;return[null==(n=e.context)?void 0:n.elements.floating,(0,l.zd)(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(u=e.context)?void 0:u.elements.domReference)===t})));if(n===x&&en&&V(en,T),v&&u&&(0,l.AW)((0,l.Me)(en))===(0,l.Me)(en).body){(0,i.Re)(en)&&en.focus();let e=ee.current,t=er(),n=t[e]||t[t.length-1]||en;(0,i.Re)(n)&&n.focus()}(j||!m)&&t&&u&&!J.current&&t!==z()&&(Q.current=!0,h(!1,e,"focus-out"))})}},[r,x,w,en,m,_,$,h,g,v,er,j,I,T]);let el=u.useRef(null),eo=u.useRef(null),ei=B([el,null==$?void 0:$.beforeInsideRef]),ec=B([eo,null==$?void 0:$.afterInsideRef]);function ea(e){return!r&&p&&m?(0,o.jsx)(Y,{ref:"start"===e?Z:G,onClick:e=>h(!1,e.nativeEvent),children:"string"==typeof p?p:"Dismiss"}):null}u.useEffect(()=>{var e,t;if(r||!w)return;let n=Array.from((null==$||null==(e=$.portalNode)?void 0:e.querySelectorAll("["+C("portal")+"]"))||[]),u=_?(0,l.C1)(_.nodesRef.current,I()):[],o=_&&!m?u.map(e=>{var t;return null==(t=e.context)?void 0:t.elements.floating}):[],i=[w,null==(t=u.find(e=>{var t;return(0,l.Ie)((null==(t=e.context)?void 0:t.elements.domReference)||null)}))||null==(t=t.context)?void 0:t.elements.domReference,...n,...o,...A(),Z.current,G.current,el.current,eo.current,null==$?void 0:$.beforeOutsideRef.current,null==$?void 0:$.afterOutsideRef.current,T.current.includes("reference")||j?x:null].filter(e=>null!=e),c=m||j?N(i,!X,X):N(i);return()=>{c()}},[r,x,w,m,T,$,j,S,X,_,I,A]),(0,l.Xj)(()=>{if(r||!(0,i.Re)(en))return;let e=(0,l.Me)(en),t=(0,l.AW)(e);queueMicrotask(()=>{let e=eu(en),n=O.current,r=("number"==typeof n?e[n]:n.current)||en,u=(0,l.r3)(en,t);L||u||!b||W(r,{preventScroll:r===en})})},[r,b,en,L,eu,O]),(0,l.Xj)(()=>{var e;if(r||!en)return;let t=!1,n=(0,l.Me)(en);function u(e){let{reason:n,event:r,nested:u}=e;if(["hover","safe-polygon"].includes(n)&&"mouseleave"===r.type&&(Q.current=!0),"outside-press"===n){if(u)Q.current=!1,t=!0;else if((0,l.Zj)(r)||(0,l.cr)(r))Q.current=!1;else{let e=!1;document.createElement("div").focus({get preventScroll(){return e=!0,!1}}),e?(Q.current=!1,t=!0):Q.current=!0}}}e=(0,l.AW)(n),H=H.filter(e=>e.isConnected),e&&"body"!==(0,i.wk)(e)&&(H.push(e),H.length>20&&(H=H.slice(-20))),k.on("openchange",u);let o=n.createElement("span");return o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),Object.assign(o.style,D),et&&x&&x.insertAdjacentElement("afterend",o),()=>{k.off("openchange",u);let e=(0,l.AW)(n),r=(0,l.r3)(w,e)||_&&(0,l.El)(_.nodesRef.current,I()).some(t=>{var n;return(0,l.r3)(null==(n=t.context)?void 0:n.elements.floating,e)}),a=function(){if("boolean"==typeof q.current){let e=x||z();return e&&e.isConnected?e:o}return q.current.current||o}();queueMicrotask(()=>{let u=function(e){let t=(0,l.Tv)();return(0,c.Wq)(e,t)?e:(0,c.ht)(e,t)[0]||e}(a);q.current&&!Q.current&&(0,i.Re)(u)&&(u===e||e===n.body||r)&&u.focus({preventScroll:t}),o.remove()})}},[r,w,en,q,R,k,_,et,x,I]),u.useEffect(()=>{queueMicrotask(()=>{Q.current=!1})},[r]),(0,l.Xj)(()=>{if(!r&&$)return $.setFocusManagerState({modal:m,closeOnFocusOut:g,open:b,onOpenChange:h,domReference:x}),()=>{$.setFocusManagerState(null)}},[r,$,m,b,h,g,x]),(0,l.Xj)(()=>{!r&&en&&V(en,T)},[r,en,T]);let es=!r&&S&&(!m||!j)&&(et||m);return(0,o.jsxs)(o.Fragment,{children:[es&&(0,o.jsx)(F,{"data-type":"inside",ref:ei,onFocus:e=>{if(m){let e=eu();W("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=$&&$.preserveTabOrder&&$.portalNode){if(Q.current=!1,(0,l.dE)(e,$.portalNode)){let e=(0,l.k0)(x);null==e||e.focus()}else{var t;null==(t=$.beforeOutsideRef.current)||t.focus()}}}}),!j&&ea("start"),n,ea("end"),es&&(0,o.jsx)(F,{"data-type":"inside",ref:ec,onFocus:e=>{if(m)W(eu()[0]);else if(null!=$&&$.preserveTabOrder&&$.portalNode){if(g&&(Q.current=!0),(0,l.dE)(e,$.portalNode)){let e=(0,l.e8)(x);null==e||e.focus()}else{var t;null==(t=$.afterOutsideRef.current)||t.focus()}}}})]})}function Z(e){return(0,i.Re)(e.target)&&"BUTTON"===e.target.tagName}function G(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:c}}=e,{enabled:a=!0,event:s="click",toggle:f=!0,ignoreMouse:d=!1,keyboardHandlers:v=!0,stickIfOpen:m=!0}=t,p=u.useRef(),g=u.useRef(!1),y=u.useMemo(()=>({onPointerDown(e){p.current=e.pointerType},onMouseDown(e){let t=p.current;0===e.button&&"click"!==s&&((0,l.r)(t,!0)&&d||(n&&f&&(!o.current.openEvent||!m||"mousedown"===o.current.openEvent.type)?r(!1,e.nativeEvent,"click"):(e.preventDefault(),r(!0,e.nativeEvent,"click"))))},onClick(e){let t=p.current;if("mousedown"===s&&p.current){p.current=void 0;return}(0,l.r)(t,!0)&&d||(n&&f&&(!o.current.openEvent||!m||"click"===o.current.openEvent.type)?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,!(e.defaultPrevented||!v||Z(e))&&(" "!==e.key||(0,l.j7)(c)||(e.preventDefault(),g.current=!0),(0,i.Re)(e.target)&&"A"===e.target.tagName||"Enter"!==e.key||(n&&f?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!v||Z(e)||(0,l.j7)(c))&&" "===e.key&&g.current&&(g.current=!1,n&&f?r(!1,e.nativeEvent,"click"):r(!0,e.nativeEvent,"click"))}}),[o,c,s,d,v,r,n,m,f]);return u.useMemo(()=>a?{reference:y}:{},[a,y])}let Q={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},J={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ee=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function et(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,elements:o,dataRef:c}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:y}=t,E=M(),b=(0,l.iW)("function"==typeof f?f:()=>!1),h="function"==typeof f?b:f,k=u.useRef(!1),R=u.useRef(!1),{escapeKey:x,outsidePress:w}=ee(g),{escapeKey:I,outsidePress:A}=ee(y),W=u.useRef(!1),L=(0,l.iW)(e=>{var t;if(!n||!a||!s||"Escape"!==e.key||W.current)return;let u=null==(t=c.current.floatingContext)?void 0:t.nodeId,o=E?(0,l.El)(E.nodesRef.current,u):[];if(!x&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}r(!1,(0,l.MM)(e)?e.nativeEvent:e,"escape-key")}),j=(0,l.iW)(e=>{var t;let n=()=>{var t;L(e),null==(t=(0,l.U9)(e))||t.removeEventListener("keydown",n)};null==(t=(0,l.U9)(e))||t.addEventListener("keydown",n)}),K=(0,l.iW)(e=>{var t;let n=k.current;k.current=!1;let u=R.current;if(R.current=!1,"click"===d&&u||n||"function"==typeof h&&!h(e))return;let a=(0,l.U9)(e),s="["+C("inert")+"]",f=(0,l.Me)(o.floating).querySelectorAll(s),v=(0,i.kK)(a)?a:null;for(;v&&!(0,i.Py)(v);){let e=(0,i.Ow)(v);if((0,i.Py)(e)||!(0,i.kK)(e))break;v=e}if(f.length&&(0,i.kK)(a)&&!(0,l.ex)(a)&&!(0,l.r3)(a,o.floating)&&Array.from(f).every(e=>!(0,l.r3)(v,e)))return;if((0,i.Re)(a)&&X){let t=(0,i.Py)(a),n=(0,i.Dx)(a),r=/auto|scroll/,u=t||r.test(n.overflowX),l=t||r.test(n.overflowY),o=u&&a.clientWidth>0&&a.scrollWidth>a.clientWidth,c=l&&a.clientHeight>0&&a.scrollHeight>a.clientHeight,s="rtl"===n.direction,f=c&&(s?e.offsetX<=a.offsetWidth-a.clientWidth:e.offsetX>a.clientWidth),d=o&&e.offsetY>a.clientHeight;if(f||d)return}let m=null==(t=c.current.floatingContext)?void 0:t.nodeId,p=E&&(0,l.El)(E.nodesRef.current,m).some(t=>{var n;return(0,l.Pe)(e,null==(n=t.context)?void 0:n.elements.floating)});if((0,l.Pe)(e,o.floating)||(0,l.Pe)(e,o.domReference)||p)return;let g=E?(0,l.El)(E.nodesRef.current,m):[];if(g.length>0){let e=!0;if(g.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}r(!1,e,"outside-press")}),S=(0,l.iW)(e=>{var t;let n=()=>{var t;K(e),null==(t=(0,l.U9)(e))||t.removeEventListener(d,n)};null==(t=(0,l.U9)(e))||t.addEventListener(d,n)});u.useEffect(()=>{if(!n||!a)return;c.current.__escapeKeyBubbles=x,c.current.__outsidePressBubbles=w;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function u(){window.clearTimeout(e),W.current=!0}function f(){e=window.setTimeout(()=>{W.current=!1},(0,i.Pf)()?5:0)}let v=(0,l.Me)(o.floating);s&&(v.addEventListener("keydown",I?j:L,I),v.addEventListener("compositionstart",u),v.addEventListener("compositionend",f)),h&&v.addEventListener(d,A?S:K,A);let m=[];return p&&((0,i.kK)(o.domReference)&&(m=(0,i.Kx)(o.domReference)),(0,i.kK)(o.floating)&&(m=m.concat((0,i.Kx)(o.floating))),!(0,i.kK)(o.reference)&&o.reference&&o.reference.contextElement&&(m=m.concat((0,i.Kx)(o.reference.contextElement)))),(m=m.filter(e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})).forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{s&&(v.removeEventListener("keydown",I?j:L,I),v.removeEventListener("compositionstart",u),v.removeEventListener("compositionend",f)),h&&v.removeEventListener(d,A?S:K,A),m.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[c,o,s,h,d,n,r,p,a,x,w,L,I,j,K,A,S]),u.useEffect(()=>{k.current=!1},[h,d]);let P=u.useMemo(()=>({onKeyDown:L,...v&&{[Q[m]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==m&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}}),[L,r,v,m]),X=u.useMemo(()=>({onKeyDown:L,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[J[d]]:()=>{k.current=!0}}),[L,d]);return u.useMemo(()=>a?{reference:P,floating:X}:{},[a,P,X])}function en(e){let{open:t=!1,onOpenChange:n,elements:r}=e,o=k(),i=u.useRef({}),[c]=u.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}})()),a=null!=w(),[s,f]=u.useState(r.reference),d=(0,l.iW)((e,t,r)=>{i.current.openEvent=e?t:void 0,c.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)}),v=u.useMemo(()=>({setPositionReference:f}),[]),m=u.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:m,events:c,floatingId:o,refs:v}),[t,d,m,c,o,v])}function er(e){void 0===e&&(e={});let{nodeId:t}=e,n=en({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[c,a]=u.useState(null),[f,d]=u.useState(null),v=(null==o?void 0:o.domReference)||c,m=u.useRef(null),p=M();(0,l.Xj)(()=>{v&&(m.current=v)},[v]);let g=(0,s.YF)({...e,elements:{...o,...f&&{reference:f}}}),y=u.useCallback(e=>{let t=(0,i.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),g.refs.setReference(t)},[g.refs]),E=u.useCallback(e=>{((0,i.kK)(e)||null===e)&&(m.current=e,a(e)),((0,i.kK)(g.refs.reference.current)||null===g.refs.reference.current||null!==e&&!(0,i.kK)(e))&&g.refs.setReference(e)},[g.refs]),b=u.useMemo(()=>({...g.refs,setReference:E,setPositionReference:y,domReference:m}),[g.refs,E,y]),h=u.useMemo(()=>({...g.elements,domReference:v}),[g.elements,v]),k=u.useMemo(()=>({...g,...r,refs:b,elements:h,nodeId:t}),[g,b,h,t,r]);return(0,l.Xj)(()=>{r.dataRef.current.floatingContext=k;let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=k)}),u.useMemo(()=>({...g,context:k,refs:b,elements:h}),[g,b,h,k])}function eu(e,t,n){let r=new Map,u="item"===n,l=e;if(u&&e){let{[f]:t,[d]:n,...r}=e;l=r}return{..."floating"===n&&{tabIndex:-1,"data-floating-ui-focusable":""},...l,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,l]=t;if(!(u&&[f,d].includes(n))){if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof l){var o;null==(o=r.get(n))||o.push(l),e[n]=function(){for(var e,t=arguments.length,u=Array(t),l=0;l<t;l++)u[l]=arguments[l];return null==(e=r.get(n))?void 0:e.map(e=>e(...u)).find(e=>void 0!==e)}}}else e[n]=l}}),e),{})}}function el(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),l=u.useCallback(t=>eu(t,e,"reference"),t),o=u.useCallback(t=>eu(t,e,"floating"),n),i=u.useCallback(t=>eu(t,e,"item"),r);return u.useMemo(()=>({getReferenceProps:l,getFloatingProps:o,getItemProps:i}),[l,o,i])}function eo(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function ei(e,t){return eo(t,e===p||e===g,e===v||e===m)}function ec(e,t,n){return eo(t,e===g,n?e===v:e===m)||"Enter"===e||" "===e||""===e}function ea(e,t,n){return eo(t,n?e===v:e===m,e===g)}function es(e,t,n,r){return"both"===t||"horizontal"===t&&r&&r>1?"Escape"===e:eo(t,n?e===m:e===v,e===p)}function ef(e,t){let{open:n,onOpenChange:r,elements:o,floatingId:c}=e,{listRef:a,activeIndex:s,onNavigate:f=()=>{},enabled:d=!0,selectedIndex:p=null,allowEscape:y=!1,loop:E=!1,nested:b=!1,rtl:h=!1,virtual:k=!1,focusItemOnOpen:R="auto",focusItemOnHover:x=!0,openOnArrowKeyDown:C=!0,disabledIndices:I,orientation:A="vertical",parentOrientation:L,cols:j=1,scrollItemIntoView:K=!0,virtualItemRef:S,itemSizes:P,dense:X=!1}=t,T=(0,l.zd)(o.floating),N=(0,l.II)(T),D=w(),F=M();(0,l.Xj)(()=>{e.dataRef.current.orientation=A},[e,A]);let O=(0,l.iW)(()=>{f(-1===U.current?null:U.current)}),q=(0,l.Ie)(o.domReference),_=u.useRef(R),U=u.useRef(null!=p?p:-1),B=u.useRef(null),H=u.useRef(!0),z=u.useRef(O),V=u.useRef(!!o.floating),Y=u.useRef(n),$=u.useRef(!1),Z=u.useRef(!1),G=(0,l.II)(I),Q=(0,l.II)(n),J=(0,l.II)(K),ee=(0,l.II)(p),[et,en]=u.useState(),[er,eu]=u.useState(),el=(0,l.iW)(()=>{function e(e){if(k){var t;null!=(t=e.id)&&t.endsWith("-fui-option")&&(e.id=c+"-"+Math.random().toString(16).slice(2,10)),en(e.id),null==F||F.events.emit("virtualfocus",e),S&&(S.current=e)}else W(e,{sync:$.current,preventScroll:!0})}let t=a.current[U.current],n=Z.current;t&&e(t),($.current?e=>e():requestAnimationFrame)(()=>{let r=a.current[U.current]||t;if(!r)return;t||e(r);let u=J.current;u&&ef&&(n||!H.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof u?{block:"nearest",inline:"nearest"}:u))})});(0,l.Xj)(()=>{d&&(n&&o.floating?_.current&&null!=p&&(Z.current=!0,U.current=p,O()):V.current&&(U.current=-1,z.current()))},[d,n,o.floating,p,O]),(0,l.Xj)(()=>{if(d&&n&&o.floating){if(null==s){if($.current=!1,null==ee.current&&(V.current&&(U.current=-1,el()),(!Y.current||!V.current)&&_.current&&(null!=B.current||!0===_.current&&null==B.current))){let e=0,t=()=>{null==a.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(U.current=null==B.current||ec(B.current,A,h)||b?(0,l.h$)(a,G.current):(0,l.zc)(a,G.current),B.current=null,O())};t()}}else(0,l.VP)(a,s)||(U.current=s,el(),Z.current=!1)}},[d,n,o.floating,s,ee,b,a,A,h,O,el,G]),(0,l.Xj)(()=>{var e;if(!d||o.floating||!F||k||!V.current)return;let t=F.nodesRef.current,n=null==(e=t.find(e=>e.id===D))||null==(e=e.context)?void 0:e.elements.floating,r=(0,l.AW)((0,l.Me)(o.floating)),u=t.some(e=>e.context&&(0,l.r3)(e.context.elements.floating,r));n&&!u&&H.current&&n.focus({preventScroll:!0})},[d,o.floating,F,D,k]),(0,l.Xj)(()=>{if(d&&F&&k&&!D)return F.events.on("virtualfocus",e),()=>{F.events.off("virtualfocus",e)};function e(e){eu(e.id),S&&(S.current=e)}},[d,F,k,D,S]),(0,l.Xj)(()=>{z.current=O,Y.current=n,V.current=!!o.floating}),(0,l.Xj)(()=>{n||(B.current=null)},[n]);let eo=null!=s,ef=u.useMemo(()=>{function e(e){if(!n)return;let t=a.current.indexOf(e);-1!==t&&U.current!==t&&(U.current=t,O())}return{onFocus(t){let{currentTarget:n}=t;$.current=!0,e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...x&&{onMouseMove(t){let{currentTarget:n}=t;$.current=!0,Z.current=!1,e(n)},onPointerLeave(e){let{pointerType:t}=e;if(H.current&&"touch"!==t&&($.current=!0,U.current=-1,O(),!k)){var n;null==(n=N.current)||n.focus({preventScroll:!0})}}}}},[n,N,x,a,O,k]),ed=u.useCallback(()=>{var e;return null!=L?L:null==F||null==(e=F.nodesRef.current.find(e=>e.id===D))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation},[D,F,L]),ev=(0,l.iW)(e=>{if(H.current=!1,$.current=!0,229===e.which||!Q.current&&e.currentTarget===N.current)return;if(b&&es(e.key,A,h,j)){ei(e.key,ed())||(0,l.p7)(e),r(!1,e.nativeEvent,"list-navigation"),(0,i.Re)(o.domReference)&&(k?null==F||F.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}let t=U.current,u=(0,l.h$)(a,I),c=(0,l.zc)(a,I);if(q||("Home"===e.key&&((0,l.p7)(e),U.current=u,O()),"End"===e.key&&((0,l.p7)(e),U.current=c,O())),j>1){let t=P||Array.from({length:a.current.length},()=>({width:1,height:1})),n=(0,l.fe)(t,j,X),r=n.findIndex(e=>null!=e&&!(0,l.Nm)(a,e,I)),o=n.reduce((e,t,n)=>null==t||(0,l.Nm)(a,t,I)?e:n,-1),i=n[(0,l.xR)({current:n.map(e=>null!=e?a.current[e]:null)},{event:e,orientation:A,loop:E,rtl:h,cols:j,disabledIndices:(0,l.w_)([...I||a.current.map((e,t)=>(0,l.Nm)(a,t)?t:void 0),void 0],n),minIndex:r,maxIndex:o,prevIndex:(0,l.XH)(U.current>c?u:U.current,t,n,j,e.key===g?"bl":e.key===(h?v:m)?"tr":"tl"),stopEvent:!0})];if(null!=i&&(U.current=i,O()),"both"===A)return}if(ei(e.key,A)){if((0,l.p7)(e),n&&!k&&(0,l.AW)(e.currentTarget.ownerDocument)===e.currentTarget){U.current=ec(e.key,A,h)?u:c,O();return}ec(e.key,A,h)?E?U.current=t>=c?y&&t!==a.current.length?-1:u:(0,l.aF)(a,{startingIndex:t,disabledIndices:I}):U.current=Math.min(c,(0,l.aF)(a,{startingIndex:t,disabledIndices:I})):E?U.current=t<=u?y&&-1!==t?a.current.length:c:(0,l.aF)(a,{startingIndex:t,decrement:!0,disabledIndices:I}):U.current=Math.max(u,(0,l.aF)(a,{startingIndex:t,decrement:!0,disabledIndices:I})),(0,l.VP)(a,U.current)&&(U.current=-1),O()}}),em=u.useMemo(()=>k&&n&&eo&&{"aria-activedescendant":er||et},[k,n,eo,er,et]),ep=u.useMemo(()=>({"aria-orientation":"both"===A?void 0:A,...q?{}:em,onKeyDown:ev,onPointerMove(){H.current=!0}}),[em,ev,A,q]),eg=u.useMemo(()=>{function e(e){"auto"===R&&(0,l.Zj)(e.nativeEvent)&&(_.current=!0)}function t(e){_.current=R,"auto"===R&&(0,l.cr)(e.nativeEvent)&&(_.current=!0)}return{...em,onKeyDown(e){H.current=!1;let t=e.key.startsWith("Arrow"),u=["Home","End"].includes(e.key),o=ea(e.key,A,h),i=es(e.key,A,h,j),c=ea(e.key,ed(),h),s=ei(e.key,A),f=(b?c:s)||"Enter"===e.key||""===e.key.trim();if(k&&n){let n=null==F?void 0:F.nodesRef.current.find(e=>null==e.parentId),r=F&&n?(0,l.m_)(F.nodesRef.current,n.id):null;if((t||u)&&r&&S){var d,v,m;let t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(o||i){let n=(null==(d=r.context)?void 0:d.elements.domReference)===e.currentTarget,u=i&&!n?null==(v=r.context)?void 0:v.elements.domReference:o?a.current.find(e=>(null==e?void 0:e.id)===et):null;u&&((0,l.p7)(e),u.dispatchEvent(t),eu(void 0))}if((s||u)&&r.context&&r.context.open&&r.parentId&&e.currentTarget!==r.context.elements.domReference){(0,l.p7)(e),null==(m=r.context.elements.domReference)||m.dispatchEvent(t);return}}return ev(e)}if(n||C||!t){if(f){let t=ei(e.key,ed());B.current=b&&t?null:e.key}if(b){c&&((0,l.p7)(e),n?(U.current=(0,l.h$)(a,G.current),O()):r(!0,e.nativeEvent,"list-navigation"));return}s&&(null!=p&&(U.current=p),(0,l.p7)(e),!n&&C?r(!0,e.nativeEvent,"list-navigation"):ev(e),n&&O())}},onFocus(){n&&!k&&(U.current=-1,O())},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e}},[et,em,j,ev,G,R,a,b,O,r,n,C,A,ed,h,p,F,k,S]);return u.useMemo(()=>d?{reference:eg,floating:ep,item:ef}:{},[d,eg,ep,ef])}let ed=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ev(e,t){var n,r;void 0===t&&(t={});let{open:o,elements:i,floatingId:c}=e,{enabled:a=!0,role:s="dialog"}=t,f=k(),d=(null==(n=i.domReference)?void 0:n.id)||f,v=u.useMemo(()=>{var e;return(null==(e=(0,l.zd)(i.floating))?void 0:e.id)||c},[i.floating,c]),m=null!=(r=ed.get(s))?r:s,p=null!=w(),g=u.useMemo(()=>"tooltip"===m||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:o?v:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":"alertdialog"===m?"dialog":m,"aria-controls":o?v:void 0,..."listbox"===m&&{role:"combobox"},..."menu"===m&&{id:d},..."menu"===m&&p&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},[m,v,p,o,d,s]),y=u.useMemo(()=>{let e={id:v,...m&&{role:m}};return"tooltip"===m||"label"===s?e:{...e,..."menu"===m&&{"aria-labelledby":d}}},[m,v,d,s]),E=u.useCallback(e=>{let{active:t,selected:n}=e,r={role:"option",...t&&{id:v+"-fui-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,"aria-selected":n}}return{}},[v,s]);return u.useMemo(()=>a?{reference:g,floating:y,item:E}:{},[a,g,y,E])}function em(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:c,onMatch:a,onTypingChange:s,enabled:f=!0,findMatch:d=null,resetMs:v=750,ignoreKeys:m=[],selectedIndex:p=null}=t,g=u.useRef(-1),y=u.useRef(""),E=u.useRef(null!=(n=null!=p?p:c)?n:-1),b=u.useRef(null),h=(0,l.iW)(a),k=(0,l.iW)(s),R=(0,l.II)(d),x=(0,l.II)(m);(0,l.Xj)(()=>{r&&(I(g),b.current=null,y.current="")},[r]),(0,l.Xj)(()=>{if(r&&""===y.current){var e;E.current=null!=(e=null!=p?p:c)?e:-1}},[r,p,c]);let w=(0,l.iW)(e=>{e?o.current.typing||(o.current.typing=e,k(e)):o.current.typing&&(o.current.typing=e,k(e))}),M=(0,l.iW)(e=>{function t(e,t,n){let r=R.current?R.current(t,n):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))===0);return r?e.indexOf(r):-1}let n=i.current;if(y.current.length>0&&" "!==y.current[0]&&(-1===t(n,n,y.current)?w(!1):" "===e.key&&(0,l.p7)(e)),null==n||x.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&((0,l.p7)(e),w(!0)),n.every(e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())})&&y.current===e.key&&(y.current="",E.current=b.current),y.current+=e.key,I(g),g.current=window.setTimeout(()=>{y.current="",E.current=b.current,w(!1)},v);let u=E.current,o=t(n,[...n.slice((u||0)+1),...n.slice(0,(u||0)+1)],y.current);-1!==o?(h(o),b.current=o):" "!==e.key&&(y.current="",w(!1))}),C=u.useMemo(()=>({onKeyDown:M}),[M]),A=u.useMemo(()=>({onKeyDown:M,onKeyUp(e){" "===e.key&&w(!1)}}),[M,w]);return u.useMemo(()=>f?{reference:C,floating:A}:{},[f,C,A])}}}]);