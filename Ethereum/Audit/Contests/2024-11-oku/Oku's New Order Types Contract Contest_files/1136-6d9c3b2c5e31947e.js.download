"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1136],{98568:function(e,r,t){t.r(r),t.d(r,{SelectAuditorContext:function(){return f},SelectAuditorModalProvider:function(){return g},useAdminSelectAuditor:function(){return m}});var n=t(42274),l=t(9940),a=t(37924);let i=async e=>{let r=new URLSearchParams;r.set("page",e.page.toString()),r.set("per_page",e.per_page.toString()),e.filter&&r.set("filter",e.filter);let t=await fetch("/api/admin/auditors?"+r.toString(),{next:{revalidate:0},credentials:"include"}),n=await t.json();if(!t.ok){var l;throw Error(null!==(l=n.error)&&void 0!==l?l:"An error occurred")}return n},s=e=>["admin-auditors",e.page.toString(),e.per_page.toString(),e.filter],o=(e,r)=>{var t,n;let l={page:null!==(t=null==e?void 0:e.page)&&void 0!==t?t:1,per_page:null!==(n=null==e?void 0:e.per_page)&&void 0!==n?n:10,filter:e.filter};return(0,a.useQuery)({queryKey:s(l),queryFn:()=>i(l),...r})};var d=t(67297),c=t(10553),u=t(40730),x=t(5996),h=t(98470);let f=(0,l.createContext)(null),g=e=>{let{children:r}=e,[t,a]=(0,l.useState)(!1),[i,s]=(0,l.useState)("Select auditor"),[g,m]=(0,l.useState)(null),[b,p]=(0,l.useState)(""),v=(0,x.N)(b,500),w=(0,l.useRef)(null),[j,A]=(0,l.useState)(!1),{data:k,isLoading:y}=o({per_page:9,filter:v},{enabled:t&&(null==v?void 0:v.length)>0}),N=(0,l.useMemo)(()=>{var e;return j?null==k?void 0:null===(e=k.items)||void 0===e?void 0:e.filter(e=>!0===e.senior):null==k?void 0:k.items},[k,j]),C=(0,l.useCallback)(e=>{let{title:r,filters:t={senior:!1}}=e;s(null!=r?r:"Select auditor"),a(!0),A(t.senior)},[]),S=(0,l.useCallback)(e=>{m(e),a(!1)},[]),E=(0,l.useCallback)(()=>{a(!1),p("")},[]),z=(0,l.useCallback)(()=>{m(null)},[]),J=(0,l.useCallback)(e=>{m(e)},[]),M=(0,l.useMemo)(()=>({isOpen:t,open:C,selectedAuditor:g,clear:z,setSelectedAuditor:J}),[t,C,g,z,J]);return(0,h.t)(w,E),(0,n.jsxs)(f.Provider,{value:M,children:[r,t&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-md",children:(0,n.jsxs)("div",{ref:w,className:"relative flex max-h-[90vh] w-[90vw] max-w-3xl flex-col items-center gap-8 overflow-y-auto rounded-md border border-dark-500 bg-dark-200 p-4",children:[(0,n.jsx)(d.X6,{children:i}),(0,n.jsx)(d.II,{label:"Search",placeholder:"Search for an auditor",value:b,onChange:e=>p(e.target.value)}),y&&(0,n.jsx)(u.JO,{icon:"loader",className:"h-4 w-4 animate-spin"}),!!N&&(0,n.jsx)("div",{className:"grid w-full grid-cols-3 gap-4",children:N.map(e=>{var r;return(0,n.jsxs)("div",{className:"flex cursor-pointer flex-col items-center gap-1 py-4 hover:bg-dark-500",onClick:()=>S(e),children:[(0,n.jsx)(c.Avatar,{imageURL:e.avatar_url,size:"base"}),(0,n.jsx)(d.uT,{variant:"light",strong:!0,children:e.handle}),(0,n.jsxs)(d.uT,{variant:"normal-lighter",children:["Ranking: ",null!==(r=e.audit_ranking)&&void 0!==r?r:"-"]})]},e.id)})}),(0,n.jsx)(d.zx,{variant:"borderless",onClick:E,children:"Cancel"})]})})]})},m=()=>(0,l.useContext)(f)},10553:function(e,r,t){t.r(r),t.d(r,{Avatar:function(){return u}});var n=t(42274),l={src:"/_next/static/media/avatar_default.b8347077.png",height:880,width:880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAACVBMVEU2NkQaGiEoKDNp7uVpAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAH0lEQVR4nGNgwAYYGSE0EyMjE5QFo6EiTIyMEBaUAQADMwAjuTcitAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},a=t(35990),i=t.n(a),s=t(55944),o=t.n(s),d=t(9940),c=t(54071);let u=e=>{var r;let{size:t="base",imageURL:a,priority:s=!1,hash:u}=e,x=(0,d.useRef)(null),h=function(e){let r=i().createHash("sha256");return r.update(e),r.digest("hex")}("".concat(null!==(r=null!=a?a:u)&&void 0!==r?r:"default","-").concat(t)),f=(0,d.useMemo)(()=>({sm:.1,base:.2,lg:.4}),[]),g=(0,d.useMemo)(()=>({width:225*f[t],height:250*f[t]}),[t,f]);return(0,d.useEffect)(()=>{if(u&&x.current){let e=(0,c.KT)(u,g.width,{lightness:{color:[.2,1],grayscale:[.2,1]},padding:0,saturation:{color:.4}});x.current.innerHTML=e}},[u,g]),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{style:{clipPath:"url(#".concat(h,")"),width:g.width,height:g.height},children:[!u&&(0,n.jsx)(o(),{src:null!=a?a:l,alt:null!=a?a:"default",style:{objectFit:"cover",width:"100%",height:"100%"},...g,priority:s,loading:s?"eager":"lazy"}),u&&(0,n.jsx)("div",{ref:x,className:"flex h-full w-full flex-col items-center justify-center bg-dark-400"}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(225," ",250),height:"100%",preserveAspectRatio:"xMinYMin slice",width:"100%",children:(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:h,children:(0,n.jsx)("path",{d:"m210.309,52.4355c4.387,2.5331,8.031,6.1746,10.568,10.5598c2.536,4.3851,3.876,9.3599,3.884,14.4259l0.16,95.573c0.009,5.09,-1.327,10.092,-3.872,14.5c-2.545,4.409,-6.21,8.067,-10.622,10.605l-82.852,47.653c-4.391,2.527,-9.369,3.855,-14.436,3.852c-5.066,-0.004,-10.043,-1.339,-14.431,-3.872l-83.172,-48.02c-4.388,-2.533,-8.032,-6.174,-10.569,-10.559c-2.536,-4.385,-3.876,-9.359,-3.884,-14.425l-0.154,-95.579c-0.008,-5.091,1.328,-10.094,3.873,-14.503c2.545,-4.409,6.21,-8.067,10.622,-10.605l82.846,-47.65c4.391,-2.527,9.369,-3.855,14.436,-3.852c5.066,0.004,10.043,1.339,14.431,3.872l83.172,48.024z",transform:"scale(".concat(f[t],", ").concat(f[t],")")})})})})]}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -1 ".concat(228," ").concat(253),height:"100%",preserveAspectRatio:"xMinYMin slice",width:"100%",className:"absolute left-0 top-0 stroke-dark-100",children:(0,n.jsx)("path",{d:"m210.309,52.4355c4.387,2.5331,8.031,6.1746,10.568,10.5598c2.536,4.3851,3.876,9.3599,3.884,14.4259l0.16,95.573c0.009,5.09,-1.327,10.092,-3.872,14.5c-2.545,4.409,-6.21,8.067,-10.622,10.605l-82.852,47.653c-4.391,2.527,-9.369,3.855,-14.436,3.852c-5.066,-0.004,-10.043,-1.339,-14.431,-3.872l-83.172,-48.02c-4.388,-2.533,-8.032,-6.174,-10.569,-10.559c-2.536,-4.385,-3.876,-9.359,-3.884,-14.425l-0.154,-95.579c-0.008,-5.091,1.328,-10.094,3.873,-14.503c2.545,-4.409,6.21,-8.067,10.622,-10.605l82.846,-47.65c4.391,-2.527,9.369,-3.855,14.436,-3.852c5.066,0.004,10.043,1.339,14.431,3.872l83.172,48.024z",fill:"none",strokeWidth:4})})]})}},19777:function(e,r,t){t.d(r,{x:function(){return i}});var n=t(42274),l=t(37993),a=t.n(l);let i=(0,t(9940).forwardRef)((e,r)=>{let{children:t,className:l,onClick:i}=e;return(0,n.jsx)("div",{ref:r,className:a()("overflow-hidden rounded-lg border border-dark-100 bg-dark-400 p-2 shadow-container",l),onClick:i,children:t})});i.displayName="Box"},2096:function(e,r,t){t.d(r,{z:function(){return u}});var n=t(42274),l=t(9940),a=t(37993),i=t.n(a),s=t(4695),o=t.n(s),d=t(40730),c=t(38415);let u=e=>{let{children:r,variant:t="primary",disabled:a=!1,onClick:s,href:u,loading:x=!1,loadingLabel:h,target:f,rel:g,className:m,type:b,title:p,size:v="regular"}=e;return l.createElement(u?o():"button",{className:i()("box-border flex flex-row gap-x-2 items-center justify-center rounded-lg font-medium transition-all duration-500 ease-in-out transform",{"h-12 px-4":"regular"===v,"h-10 px-3":"sm"===v,"h-8 px-2":"xs"===v,"text-xs":"xs"===v,"text-sm":"sm"!==v,"border border-dark-100":"primary"===t,"border border-dark-900":"outline"===t,"bg-gradient-to-b from-primary-600 to-primary-500 shadow-button text-white":"primary"===t&&!(a||x),"border border-dark-900 text-light-100":"secondary"===t,"bg-dark-500 text-dark-900":(a||x)&&!["borderless","outline"].includes(t),"text-dark-900":(a||x)&&["borderless","outline"].includes(t),"hover:cursor-not-allowed":a,"bg-gradient-to-b from-[#FBBF83] to-[#DEA469] shadow-button text-dark-100":"warning"===t&&!(a||x)},m),onClick:s,href:u,target:f,rel:g,type:b,title:p,...u?{}:{disabled:a}},x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.JO,{icon:"loader",className:"w-4 animate-spin text-white"}),!!h&&(0,n.jsx)(c.u,{size:"xs"===v?"xs":"sm",children:h})]}):r)}},40730:function(e,r,t){t.d(r,{B7:function(){return u},HE:function(){return d},JO:function(){return i.J},OG:function(){return c},Wi:function(){return o},_O:function(){return x},ol:function(){return s},zB:function(){return h}});var n=t(42274),l=t(37993),a=t.n(l),i=t(54653);let s=e=>(0,n.jsx)(i.J,{icon:"arrowRight",className:a()(e.className,"!h-[10px] !w-[6px]")}),o=e=>(0,n.jsx)(i.J,{icon:"dropdownArrow",...e}),d=e=>(0,n.jsx)(i.J,{icon:"lock",...e}),c=e=>(0,n.jsx)(i.J,{icon:"sherlock",...e}),u=e=>(0,n.jsx)(i.J,{icon:"timer",...e}),x=e=>(0,n.jsx)(i.J,{icon:"crown",...e}),h=e=>(0,n.jsx)(i.J,{icon:"judging",...e})},91309:function(e,r,t){t.d(r,{X:function(){return s}});var n=t(42274),l=t(37993),a=t.n(l),i=t(3183);let s=e=>{let{children:r,variant:t="h1",className:l}=e;return(0,n.jsx)(i.x,{tag:"display"===t?"span":t,className:a()("text-light-500",{"text-2xl font-semibold":"display"===t,"text-lg font-semibold":"h1"===t,"text-base font-semibold":"h2"===t,"text-sm font-semibold":"h3"===t},l),children:r})}},34411:function(e,r,t){t.d(r,{VW:function(){return u},pm:function(){return x}});var n=t(42274),l=t(9940),a=t(40730),i=t(38415),s=t(37993),o=t.n(s);let d=(0,l.createContext)({}),c=e=>{let{id:r,message:t,duration:s=3e3,onClose:d,variant:c="success"}=e;return(0,l.useEffect)(()=>{let e=setTimeout(()=>{null==d||d(r)},s);return()=>clearTimeout(e)},[r,s,d]),(0,n.jsxs)("div",{className:o()("animate-fade-in flex items-center gap-2 rounded px-4 py-3 shadow-container",{"bg-success-100 text-success-500":"success"===c,"bg-error-100 text-error-500":"error"===c}),children:[(0,n.jsx)(a.JO,{icon:"success"===c?"check":"close",className:"h-4 w-4"}),(0,n.jsx)(i.u,{variant:"light",size:"sm",className:"text-inherit",children:t})]})},u=e=>{let{children:r}=e,[t,a]=(0,l.useState)([]),i=e=>{a(r=>r.filter(r=>r.id!==e))};return(0,n.jsxs)(d.Provider,{value:{showToast:(e,r,t)=>{let n=Date.now();a(l=>[...l,{id:n,message:e,duration:r,variant:t}])}},children:[r,(0,n.jsx)("div",{className:"fixed left-0 right-0 top-0 z-[1000] flex flex-col items-center gap-4 pt-4",children:t.map((e,r)=>(0,n.jsx)(c,{id:e.id,message:e.message,duration:e.duration,variant:e.variant,onClose:i,yOffset:r},e.id))})]})};function x(){let e=(0,l.useContext)(d);if(!e)throw Error("useToast must be used within a ToastProvider");return e.showToast}},67297:function(e,r,t){t.d(r,{Iy:function(){return h},uT:function(){return a.u},xu:function(){return i.x},zx:function(){return n.z},X6:function(){return l.X},II:function(){return o.Input},EU:function(){return g},iA:function(){return f.Table},xv:function(){return s.x}});var n=t(2096),l=t(91309),a=t(38415),i=t(19777),s=t(3183),o=t(27887),d=t(42274),c=t(37993),u=t.n(c),x=t(54653);let h=(0,t(9940).forwardRef)((e,r)=>{let{label:t,helperText:l,variant:i="normal",errorText:s,iconRight:o,iconLeft:c,buttonClassName:h,onActionClick:f,disabled:g,buttonDisabled:m,...b}=e,p=s?"error":i;return(0,d.jsxs)("div",{className:"relative flex w-full flex-row gap-y-2",children:[t?(0,d.jsx)("label",{htmlFor:b.id,className:"text-xs text-dark-900",children:t}):null,c?(0,d.jsx)(n.z,{onClick:f,disabled:m,variant:"secondary",loadingLabel:"Sending message...",className:u()("rounded-tl-none rounded-bl-none border-1 border-r-0",h),children:(0,d.jsx)(x.J,{icon:c,className:u()("h-4 w-4",h,{"hover:cursor-not-allowed":!0==m,"cursor-pointer":!1==m})})}):null,(0,d.jsx)("input",{...b,disabled:g,ref:r,className:u()("h-12 rounded-lg border bg-dark-200 placeholder:text-sm focus:bg-dark-500 focus:outline-none focus:ring-0 disabled:text-dark-900 rounded-tr-none rounded-br-none w-full",{"border-dark-100 text-light-100 focus:border-dark-100":"normal"===p,"border-warning-500 text-warning-500 focus:border-warning-500":"warning"===p,"border-error-500 text-error-500 focus:border-error-500":"error"===p,"hover:cursor-not-allowed border-r-0":g||m})}),o?(0,d.jsx)(n.z,{onClick:f,disabled:m,variant:"borderless",loadingLabel:"Sending message...",className:u()("rounded-tl-none rounded-bl-none disabled:cursor-not-allowed",h),children:(0,d.jsx)(x.J,{icon:o,className:u()("h-4 w-4",h,{"hover:cursor-not-allowed opacity-50":!0==m,"cursor-pointer":!1==m})})}):null,l&&!s?(0,d.jsx)(a.u,{size:"xs",children:l}):null,s?(0,d.jsx)(a.u,{size:"xs",variant:p,children:s}):null]})});h.displayName="ActionInput";var f=t(32651);let g=e=>{let{label:r,options:t,value:n,onChange:l,disabled:i,variant:s="normal"}=e,o=Array.isArray(n)?n:[n],c=e=>{Array.isArray(n)?null==l||l(o.includes(e)?o.filter(r=>r!==e):[...o,e]):null==l||l(e)};return(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[r?(0,d.jsx)("label",{className:u()("text-xs text-dark-900",{"opacity-50":i}),children:r}):null,(0,d.jsx)("div",{className:u()("flex h-[50px] flex-row items-center overflow-hidden rounded-md border border-dark-100",{"cursor-pointer":!i,"bg-dark-50 cursor-not-allowed opacity-60":i,"border-warning-500 text-warning-500 focus:border-warning-500":"warning"===s}),children:t.map(e=>{let r=o.includes(e.value);return(0,d.jsx)("div",{className:u()("flex h-full flex-1 select-none flex-row items-center justify-center px-4",{"bg-dark-600":r&&!i,"bg-dark-400":r&&i},t.length>1&&"border-r border-dark-100 last:border-r-0"),onClick:()=>!i&&(null==c?void 0:c(e.value)),children:(0,d.jsx)(a.u,{className:u()({"text-dark-900":!r&&!i,"text-white":r&&!i,"text-dark-300":!r&&i,"text-dark-50":r&&i}),children:e.label})},e.value)})})]})}}}]);